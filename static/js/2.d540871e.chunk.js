(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";var r=n(1),i=n.n(r),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=i.a.createContext&&i.a.createContext(o),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function u(e){return function(t){return i.a.createElement(l,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,n){return i.a.createElement(t.tag,a({key:n},t.attr),e(t.child))})}(e.child))}}function l(e){var t=function(t){var n,r=e.attr,o=e.size,s=e.title,u=c(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.a.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:n,style:a(a({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.a.createElement("title",null,s),e.children)};return void 0!==s?i.a.createElement(s.Consumer,null,function(e){return t(e)}):t(o)}n.d(t,"a",function(){return u})},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";n.d(t,"a",function(){return st}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return Pe}),n.d(t,"e",function(){return Le}),n.d(t,"f",function(){return He}),n.d(t,"g",function(){return Yn}),n.d(t,"h",function(){return Bn}),n.d(t,"i",function(){return re}),n.d(t,"j",function(){return Ye}),n.d(t,"k",function(){return Ze}),n.d(t,"l",function(){return et}),n.d(t,"m",function(){return tt}),n.d(t,"n",function(){return Xe}),n.d(t,"o",function(){return ot}),n.d(t,"p",function(){return dn}),n.d(t,"q",function(){return lt}),n.d(t,"r",function(){return bt}),n.d(t,"s",function(){return wt}),n.d(t,"t",function(){return _t}),n.d(t,"u",function(){return St}),n.d(t,"v",function(){return Ot}),n.d(t,"w",function(){return xt}),n.d(t,"x",function(){return At}),n.d(t,"y",function(){return Rt}),n.d(t,"z",function(){return Pt}),n.d(t,"A",function(){return me}),n.d(t,"B",function(){return y}),n.d(t,"C",function(){return _}),n.d(t,"D",function(){return Sr}),n.d(t,"E",function(){return te}),n.d(t,"F",function(){return ie}),n.d(t,"G",function(){return br}),n.d(t,"H",function(){return dr}),n.d(t,"I",function(){return hr}),n.d(t,"J",function(){return Se}),n.d(t,"K",function(){return pn}),n.d(t,"L",function(){return rt}),n.d(t,"M",function(){return Nt}),n.d(t,"N",function(){return Dt}),n.d(t,"O",function(){return Lt}),n.d(t,"P",function(){return Mt}),n.d(t,"Q",function(){return jt}),n.d(t,"R",function(){return Ft}),n.d(t,"S",function(){return Ut}),n.d(t,"T",function(){return Vt}),n.d(t,"U",function(){return zt}),n.d(t,"V",function(){return Bt}),n.d(t,"W",function(){return qt}),n.d(t,"X",function(){return pt}),n.d(t,"Y",function(){return Jt}),n.d(t,"Z",function(){return en}),n.d(t,"ab",function(){return rn}),n.d(t,"bb",function(){return E}),n.d(t,"cb",function(){return pe}),n.d(t,"db",function(){return he}),n.d(t,"eb",function(){return g}),n.d(t,"fb",function(){return $r}),n.d(t,"gb",function(){return kr}),n.d(t,"hb",function(){return ln}),n.d(t,"ib",function(){return rr}),n.d(t,"jb",function(){return or}),n.d(t,"kb",function(){return ir}),n.d(t,"lb",function(){return mr}),n.d(t,"mb",function(){return yr}),n.d(t,"nb",function(){return gr}),n.d(t,"ob",function(){return An}),n.d(t,"pb",function(){return vr}),n.d(t,"qb",function(){return Xr}),n.d(t,"rb",function(){return Hn}),n.d(t,"sb",function(){return ti}),n.d(t,"tb",function(){return hi}),n.d(t,"ub",function(){return c}),n.d(t,"vb",function(){return Kn}),n.d(t,"wb",function(){return Wn}),n.d(t,"xb",function(){return Qn});var r=n(3),i=n(9),o=n(12),s=n(26),a=n(16);const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},d=l,f=new r.b("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new o.b("@firebase/auth");function m(e){if(p.logLevel<=o.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.error("Auth (".concat(i.SDK_VERSION,"): ").concat(e),...n)}}function g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw w(e,...n)}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return w(e,...n)}function v(e,t,n){const i=Object.assign(Object.assign({},d()),{[t]:n});return new r.b("auth","Firebase",i).create(t,{appName:e.name})}function b(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),v(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return f.create(e,...n)}function _(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw w(t,...r)}}function S(e){const t="INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function E(e,t){e||S(t)}function I(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function k(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,E(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(r.w)()||Object(r.y)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||Object(r.s)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function O(e,t){E(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void S("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void S("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void S("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},R=new C(3e4,6e4);function P(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function N(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return D(e,o,async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=Object(r.A)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),x.fetch()(M(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))})}async function D(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},A),t);try{const t=new F(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw U(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const t=s.ok?a.errorMessage:a.error.message,[n,r]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw U(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw U(e,"user-disabled",a);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw v(e,o,r);g(e,o)}}catch(o){if(o instanceof r.c)throw o;g(e,"network-request-failed",{message:String(o)})}}async function L(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await N(e,t,n,r,i);return"mfaPendingCredential"in o&&g(e,"multi-factor-auth-required",{_serverResponse:o}),o}function M(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?O(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function j(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(y(this.auth,"network-request-failed")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(e,t,r);return i.customData._tokenResponse=n,i}function V(e){return void 0!==e&&void 0!==e.getResponse}function z(e){return void 0!==e&&void 0!==e.enterprise}class B{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function q(e,t){return N(e,"GET","/v2/recaptchaConfig",P(e,t))}function W(e){if(e)try{const n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch(t){}}function H(e){return 1e3*Number(e)}function K(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return m("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(r.d)(n);return e?JSON.parse(e):(m("Failed to decode base64 JWT payload"),null)}catch(o){return m("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function G(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof r.c&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $(e){var t;const n=e.auth,r=await e.getIdToken(),i=await G(e,async function(e,t){return N(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=Object(s.a)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const c=(u=e.providerData,l=a,[...u.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var u,l;const h=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!h&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Y(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_("undefined"!==typeof e.idToken,"internal-error"),_("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=K(e);return _(t,"internal-error"),_("undefined"!==typeof t.exp,"internal-error"),_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await D(e,{},async()=>{const n=Object(r.A)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=M(e,i,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new J;return n&&(_("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return S("not implemented")}}function X(e,t){_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Object(s.a)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Y(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await G(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Object(r.p)(e),i=await n.getIdToken(t),o=K(i);_(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:W(H(o.auth_time)),issuedAtTime:W(H(o.iat)),expirationTime:W(H(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(r.p)(e);await $(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await G(this,async function(e,t){return N(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:E}=t;_(v&&E,e,"internal-error");const I=J.fromJSON(this.name,E);_("string"===typeof v,e,"internal-error"),X(l,e.name),X(h,e.name),_("boolean"===typeof b,e,"internal-error"),_("boolean"===typeof w,e,"internal-error"),X(d,e.name),X(f,e.name),X(p,e.name),X(m,e.name),X(g,e.name),X(y,e.name);const k=new Z({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(k.providerData=S.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new J;r.updateFromServerResponse(t);const i=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $(i),i}}const ee=new Map;function te(e){E(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(E(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function ie(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class oe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,i),this.fullPersistenceKey=ie("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Z._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oe(te(re),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||te(re);const o=ie(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=Z._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(c){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(c){}})),new oe(i,e,n)):new oe(i,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(le(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(de(t))return"Blackberry";if(fe(t))return"Webos";if(ce(t))return"Safari";if((t.includes("chrome/")||ue(t))&&!t.includes("edge/"))return"Chrome";if(he(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/firefox\//i.test(e)}function ce(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/crios\//i.test(e)}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/iemobile/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/android/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/webos/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)();return pe(e)||he(e)||fe(e)||de(e)||/windows phone/i.test(e)||le(e)}function ye(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se(Object(r.q)());break;case"Worker":t="".concat(se(Object(r.q)()),"-").concat(e);break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(i.SDK_VERSION,"/").concat(o)}class ve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=(()=>Promise.resolve())}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}const be=6;class we{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:be,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _e{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await oe.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||null===s||void 0===s||!s.user||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(r.p)(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(te(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return N(e,"GET","/v2/passwordPolicy",P(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new we(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.b("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return N(e,"POST","/v2/accounts:revokeToken",P(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=await oe.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(p.logLevel<=o.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.warn("Auth (".concat(i.SDK_VERSION,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Se(e){return Object(r.p)(e)}class Ee{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(r.h)(e=>this.observer=e)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ie={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ke(e){return Ie.loadJS(e)}function Te(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const Ce="recaptcha-enterprise",Oe="NO_RECAPTCHA";class xe{constructor(e){this.type=Ce,this.auth=Se(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;z(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Oe)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{q(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new B(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&z(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ie.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ke(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ae(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new xe(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Re(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ae(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ae(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Pe(e,t,n){const r=Se(e);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ne(t),{host:s,port:a}=function(e){const t=Ne(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:De(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:De(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ne(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function De(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Le{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return S("not implemented")}_getIdTokenResponse(e){return S("not implemented")}_linkToIdToken(e,t){return S("not implemented")}_getReauthenticationResolver(e){return S("not implemented")}}async function Me(e,t){return N(e,"POST","/v1/accounts:resetPassword",P(e,t))}async function je(e,t){return N(e,"POST","/v1/accounts:signUp",t)}async function Fe(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",P(e,t))}async function Ue(e,t){return N(e,"POST","/v1/accounts:sendOobCode",P(e,t))}async function Ve(e,t){return Ue(e,t)}async function ze(e,t){return Ue(e,t)}class Be extends Le{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Be(e,t,"password")}static _fromEmailAndCode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Be(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Re(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fe);case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",P(e,t))}(e,{email:this._email,oobCode:this._password});default:g(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",je);case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",P(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:g(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qe(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",P(e,t))}const We="http://localhost";class He extends Le{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new He(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Object(s.a)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new He(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qe(e,t)}buildRequest(){const e={requestUri:We,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(r.A)(t)}return e}}const Ke={USER_NOT_FOUND:"user-not-found"};class Ge extends Le{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ge({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ge({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",P(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",P(e,t));if(n.temporaryProof)throw U(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",P(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ke)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ge({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qe{constructor(e){var t,n,i,o,s,a;const c=Object(r.B)(Object(r.k)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);_(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Object(r.B)(Object(r.k)(e)).link,n=t?Object(r.B)(Object(r.k)(t)).deep_link_id:null,i=Object(r.B)(Object(r.k)(e)).deep_link_id;return(i?Object(r.B)(Object(r.k)(i)).link:null)||i||n||t||e}(e);try{return new Qe(t)}catch(n){return null}}}class Ye{constructor(){this.providerId=Ye.PROVIDER_ID}static credential(e,t){return Be._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qe.parseLink(t);return _(n,"argument-error"),Be._fromEmailAndCode(e,n.code,n.tenantId)}}Ye.PROVIDER_ID="password",Ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $e{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Je extends $e{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xe extends Je{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),He._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),He._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Xe.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xe.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Xe(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(c){return null}}}class Ze extends Je{constructor(){super("facebook.com")}static credential(e){return He._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(n){return null}}}Ze.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ze.PROVIDER_ID="facebook.com";class et extends Je{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return He._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return et.credential(n,r)}catch(i){return null}}}et.GOOGLE_SIGN_IN_METHOD="google.com",et.PROVIDER_ID="google.com";class tt extends Je{constructor(){super("github.com")}static credential(e){return He._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tt.credential(t.oauthAccessToken)}catch(n){return null}}}tt.GITHUB_SIGN_IN_METHOD="github.com",tt.PROVIDER_ID="github.com";const nt="http://localhost";class rt extends Le{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new rt(n,i):null}static _create(e,t){return new rt(e,t)}buildRequest(){return{requestUri:nt,returnSecureToken:!0,pendingToken:this.pendingToken}}}const it="saml.";class ot extends $e{constructor(e){_(e.startsWith(it),"argument-error"),super(e)}static credentialFromResult(e){return ot.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ot.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=rt.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return rt._create(r,n)}catch(i){return null}}}class st extends Je{constructor(){super("twitter.com")}static credential(e,t){return He._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return st.credential(n,r)}catch(i){return null}}}async function at(e,t){return L(e,"POST","/v1/accounts:signUp",P(e,t))}st.TWITTER_SIGN_IN_METHOD="twitter.com",st.PROVIDER_ID="twitter.com";class ct{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Z._fromIdTokenResponse(e,n,r),o=ut(n);return new ct({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ut(n);return new ct({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ut(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function lt(e){var t;const n=Se(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ct({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await at(n,{returnSecureToken:!0}),i=await ct._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class ht extends r.c{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ht.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ht(e,t,n,r)}}function dt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ht._fromErrorAndOperation(e,n,t,r);throw n})}function ft(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function pt(e,t){const n=Object(r.p)(e);await gt(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return N(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=ft(i||[]);return n.providerData=n.providerData.filter(e=>o.has(e.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await G(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ct._forOperation(e,"link",r)}async function gt(e,t,n){await $(t);const r=!1===e?"provider-already-linked":"no-such-provider";_(ft(t.providerData).has(n)===e,t.auth,r)}async function yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;try{const o=await G(e,dt(r,"reauthenticate",t,e),n);_(o.idToken,r,"internal-error");const s=K(o.idToken);_(s,r,"internal-error");const{sub:a}=s;return _(e.uid===a,r,"user-mismatch"),ct._forOperation(e,"reauthenticate",o)}catch(i){throw(null===i||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&g(r,"user-mismatch"),i}}async function vt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await dt(e,"signIn",t),i=await ct._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(i.user),i}async function bt(e,t){return vt(Se(e),t)}async function wt(e,t){const n=Object(r.p)(e);return await gt(!1,n,t.providerId),mt(n,t)}async function _t(e,t){return yt(Object(r.p)(e),t)}async function St(e,t){const n=Se(e),r=await async function(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",P(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ct._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Et{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?It._fromServerResponse(e,t):"totpInfo"in t?kt._fromServerResponse(e,t):g(e,"internal-error")}}class It extends Et{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new It(t)}}class kt extends Et{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new kt(t)}}function Tt(e,t,n){var r;_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ct(e){const t=Se(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ot(e,t,n){const r=Se(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Tt(r,i,n),await Re(r,i,"getOobCode",Ve)}async function xt(e,t,n){await Me(Object(r.p)(e),{oobCode:t,newPassword:n}).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ct(e),t})}async function At(e,t){await async function(e,t){return N(e,"POST","/v1/accounts:update",P(e,t))}(Object(r.p)(e),{oobCode:t})}async function Rt(e,t){const n=Object(r.p)(e),i=await Me(n,{oobCode:t}),o=i.requestType;switch(_(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(i.mfaInfo,n,"internal-error");default:_(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=Et._fromServerResponse(Se(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o}}async function Pt(e,t){const{data:n}=await Rt(Object(r.p)(e),t);return n.email}async function Nt(e,t,n){const r=Se(e),i=Re(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",at),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ct(e),t}),s=await ct._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function Dt(e,t,n){return bt(Object(r.p)(e),Ye.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ct(e),t})}async function Lt(e,t,n){const r=Se(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){_(t.handleCodeInApp,r,"argument-error"),t&&Tt(r,e,t)}(i,n),await Re(r,i,"getOobCode",ze)}function Mt(e,t){const n=Qe.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function jt(e,t,n){const i=Object(r.p)(e),o=Ye.credentialWithLink(t,n||I());return _(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),bt(i,o)}async function Ft(e,t){const n={identifier:t,continueUri:k()?I():"http://localhost"},{signinMethods:i}=await async function(e,t){return N(e,"POST","/v1/accounts:createAuthUri",P(e,t))}(Object(r.p)(e),n);return i||[]}async function Ut(e,t){const n=Object(r.p)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Tt(n.auth,i,t);const{email:o}=await async function(e,t){return Ue(e,t)}(n.auth,i);o!==e.email&&await e.reload()}async function Vt(e,t,n){const i=Object(r.p)(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Tt(i.auth,o,n);const{email:s}=await async function(e,t){return Ue(e,t)}(i.auth,o);s!==e.email&&await e.reload()}async function zt(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const o=Object(r.p)(e),s={idToken:await o.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},a=await G(o,async function(e,t){return N(e,"POST","/v1/accounts:update",t)}(o.auth,s));o.displayName=a.displayName||null,o.photoURL=a.photoUrl||null;const c=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});c&&(c.displayName=o.displayName,c.photoURL=o.photoURL),await o._updateTokensIfNecessary(a)}function Bt(e,t){return Wt(Object(r.p)(e),t,null)}function qt(e,t){return Wt(Object(r.p)(e),null,t)}async function Wt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await G(e,async function(e,t){return N(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Ht{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Kt extends Ht{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Gt extends Ht{constructor(e,t){super(e,"facebook.com",t)}}class Qt extends Kt{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Yt extends Ht{constructor(e,t){super(e,"google.com",t)}}class $t extends Kt{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Jt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=K(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ht(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Gt(o,i);case"github.com":return new Qt(o,i);case"google.com":return new Yt(o,i);case"twitter.com":return new $t(o,i,e.screenName||null);case"custom":case"anonymous":return new Ht(o,null);default:return new Ht(o,r,i)}}(n)}class Xt{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Xt("enroll",e,t)}static _fromMfaPendingCredential(e){return new Xt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Xt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Xt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Zt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Se(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>Et._fromServerResponse(n,e));_(r.mfaPendingCredential,n,"internal-error");const o=Xt._fromMfaPendingCredential(r.mfaPendingCredential);return new Zt(o,i,async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ct._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return _(t.user,n,"internal-error"),ct._forOperation(t.user,t.operationType,s);default:g(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function en(e,t){var n;const i=Object(r.p)(e),o=t;return _(t.customData.operationType,i,"argument-error"),_(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Zt._fromError(i,o)}class tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Et._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new tn(e)}async getSession(){return Xt._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await G(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await G(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},N(r,"POST","/v2/accounts/mfaEnrollment:withdraw",P(r,i))));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const nn=new WeakMap;function rn(e){const t=Object(r.p)(e);return nn.has(t)||nn.set(t,tn._fromUser(t)),nn.get(t)}const on="__sak";class sn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(on,"1"),this.storage.removeItem(on),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const an=1e3,cn=10;class un extends sn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=((e,t)=>this.onStorageEvent(e,t)),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(r.q)();return ce(e)||pe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Object(r.u)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cn):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},an)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}un.type="LOCAL";const ln=un;class hn extends sn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hn.type="SESSION";const dn=hn;class fn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new fn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fn.receivers=[];class mn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const c=pn("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function gn(){return window}function yn(){return"undefined"!==typeof gn().WorkerGlobalScope&&"function"===typeof gn().importScripts}const vn="firebaseLocalStorageDb",bn=1,wn="firebaseLocalStorage",_n="fbase_key";class Sn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function En(e,t){return e.transaction([wn],t?"readwrite":"readonly").objectStore(wn)}function In(){const e=indexedDB.open(vn,bn);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(wn,{keyPath:_n})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(vn);return new Sn(e).toPromise()}(),t(await In()))})})}async function kn(e,t,n){const r=En(e,!0).put({[_n]:t,value:n});return new Sn(r).toPromise()}function Tn(e,t){const n=En(e,!0).delete(t);return new Sn(n).toPromise()}const Cn=800,On=3;class xn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await In(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(n){if(t++>On)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fn._getInstance(yn()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{return{keyProcessed:(await this._poll()).includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new mn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await In();return await kn(t,on,"1"),await Tn(t,on),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kn(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>(async function(e,t){const n=En(e,!1).get(t),r=await new Sn(n).toPromise();return void 0===r?null:r.value})(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=En(e,!1).getAll();return new Sn(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xn.type="LOCAL";const An=xn;const Rn=500,Pn=6e4,Nn=1e12;class Dn{constructor(e){this.auth=e,this.counter=Nn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ln(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Nn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Nn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Nn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ln{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=(()=>{this.execute()});const r="string"===typeof e?document.getElementById(e):e;_(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},Pn)},Rn))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mn=Te("rcb"),jn=new C(3e4,6e4);class Fn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=gn().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&V(gn().grecaptcha)?Promise.resolve(gn().grecaptcha):new Promise((n,i)=>{const o=gn().setTimeout(()=>{i(y(e,"network-request-failed"))},jn.get());gn()[Mn]=(()=>{gn().clearTimeout(o),delete gn()[Mn];const r=gn().grecaptcha;if(!r||!V(r))return void i(y(e,"internal-error"));const s=r.render;r.render=((e,t)=>{const n=s(e,t);return this.counter++,n}),this.hostLanguage=t,n(r)}),ke("".concat(Ie.recaptchaV2Script,"?").concat(Object(r.A)({onload:Mn,render:"explicit",hl:t}))).catch(()=>{clearTimeout(o),i(y(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=gn().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Un{async load(e){return new Dn(e)}clearedOneInstance(){}}const Vn="recaptcha",zn={theme:"light",type:"image"};class Bn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},zn);this.parameters=n,this.type=Vn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Se(e),this.isInvisible="invisible"===this.parameters.size,_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;_(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Un:new Fn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=gn()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_(k()&&!yn(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=(()=>t()),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await N(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);_(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ge._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Wn(e,t,n){const i=Se(e),o=await Gn(i,t,Object(r.p)(n));return new qn(o,e=>bt(i,e))}async function Hn(e,t,n){const i=Object(r.p)(e);await gt(!1,i,"phone");const o=await Gn(i.auth,t,Object(r.p)(n));return new qn(o,e=>wt(i,e))}async function Kn(e,t,n){const i=Object(r.p)(e),o=await Gn(i.auth,t,Object(r.p)(n));return new qn(o,e=>_t(i,e))}async function Gn(e,t,n){var r;const i=await n.verify();try{let o;if(_("string"===typeof i,e,"argument-error"),_(n.type===Vn,e,"argument-error"),"session"in(o="string"===typeof t?{phoneNumber:t}:t)){const t=o.session;if("phoneNumber"in o){return _("enroll"===t.type,e,"internal-error"),(await function(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:start",P(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo}{_("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return _(n,e,"missing-multi-factor-info"),(await function(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:start",P(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return N(e,"POST","/v1/accounts:sendVerificationCode",P(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Qn(e,t){await mt(Object(r.p)(e),t)}class Yn{constructor(e){this.providerId=Yn.PROVIDER_ID,this.auth=Se(e)}verifyPhoneNumber(e,t){return Gn(this.auth,e,Object(r.p)(t))}static credential(e,t){return Ge._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yn.credentialFromTaggedObject(t)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ge._fromTokenResponse(n,r):null}}function $n(e,t){return t?te(t):(_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yn.PROVIDER_ID="phone",Yn.PHONE_SIGN_IN_METHOD="phone";class Jn extends Le{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xn(e){return vt(e.auth,new Jn(e),e.bypassAuthState)}function Zn(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),yt(n,new Jn(e),e.bypassAuthState)}async function er(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),mt(n,new Jn(e),e.bypassAuthState)}class tr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xn;case"linkViaPopup":case"linkViaRedirect":return er;case"reauthViaPopup":case"reauthViaRedirect":return Zn;default:g(this.auth,"internal-error")}}resolve(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nr=new C(2e3,1e4);async function rr(e,t,n){const r=Se(e);b(e,t,$e);const i=$n(r,n);return new sr(r,"signInViaPopup",t,i).executeNotNull()}async function ir(e,t,n){const i=Object(r.p)(e);b(i.auth,t,$e);const o=$n(i.auth,n);return new sr(i.auth,"reauthViaPopup",t,o,i).executeNotNull()}async function or(e,t,n){const i=Object(r.p)(e);b(i.auth,t,$e);const o=$n(i.auth,n);return new sr(i.auth,"linkViaPopup",t,o,i).executeNotNull()}class sr extends tr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sr.currentPopupAction&&sr.currentPopupAction.cancel(),sr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _(e,this.auth,"internal-error"),e}async onExecution(){E(1===this.filter.length,"Popup operations only handle one event");const e=pn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(y(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;null!==(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)&&void 0!==n&&n.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,nr.get())};e()}}sr.currentPopupAction=null;const ar="pendingRedirect",cr=new Map;class ur extends tr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=cr.get(this.auth._key());if(!e){try{const n=await async function(e,t){const n=pr(t),r=fr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=(()=>Promise.resolve(n))}catch(t){e=(()=>Promise.reject(t))}cr.set(this.auth._key(),e)}return this.bypassAuthState||cr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function lr(e,t){return fr(e)._set(pr(t),"true")}function hr(){cr.clear()}function dr(e,t){cr.set(e._key(),t)}function fr(e){return te(e._redirectPersistence)}function pr(e){return ie(ar,e.config.apiKey,e.name)}function mr(e,t,n){return async function(e,t,n){const r=Se(e);b(e,t,$e),await r._initializationPromise;const i=$n(r,n);return await lr(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function gr(e,t,n){return async function(e,t,n){const i=Object(r.p)(e);b(i.auth,t,$e),await i.auth._initializationPromise;const o=$n(i.auth,n);await lr(o,i.auth);const s=await wr(i);return o._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function yr(e,t,n){return async function(e,t,n){const i=Object(r.p)(e);b(i.auth,t,$e),await i.auth._initializationPromise;const o=$n(i.auth,n);await gt(!1,i,t.providerId),await lr(o,i.auth);const s=await wr(i);return o._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function vr(e,t){return await Se(e)._initializationPromise,br(e,t,!1)}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Se(e),i=$n(r,t),o=new ur(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function wr(e){const t=pn("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}const _r=6e5;class Sr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ir(e);default:return!1}}(e)?t:(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0),t)}sendToConsumer(e,t){var n;if(e.error&&!Ir(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(y(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_r&&this.cachedEventUids.clear(),this.cachedEventUids.has(Er(e))}saveEventToCache(e){this.cachedEventUids.add(Er(e)),this.lastProcessedEventTime=Date.now()}}function Er(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ir(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function kr(e){return N(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Tr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cr=/^https?/;function Or(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Cr.test(n))return!1;if(Tr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xr=new C(3e4,6e4);function Ar(){const e=gn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Rr(e){return new Promise((t,n)=>{var r,i,o;function s(){Ar(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ar(),n(y(e,"network-request-failed"))},timeout:xr.get()})}if(null===(i=null===(r=gn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=gn().gapi)||void 0===o||!o.load){const t=Te("iframefcb");return gn()[t]=(()=>{gapi.load?s():n(y(e,"network-request-failed"))}),ke("".concat(Ie.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Pr=null,e})}let Pr=null;const Nr=new C(5e3,15e3),Dr="__/auth/iframe",Lr="emulator/auth/iframe",Mr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fr(e){const t=e.config;_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?O(t,Lr):"https://".concat(e.config.authDomain,"/").concat(Dr),o={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},s=jr.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),"".concat(n,"?").concat(Object(r.A)(o).slice(1))}async function Ur(e){const t=await function(e){return Pr=Pr||Rr(e)}(e),n=gn().gapi;return _(n,e,"internal-error"),t.open({where:document.body,url:Fr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mr,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=y(e,"network-request-failed"),o=gn().setTimeout(()=>{r(i)},Nr.get());function s(){gn().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Vr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zr=500,Br=600,qr="_blank",Wr="http://localhost";class Hr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Kr(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zr,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Br;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Vr),{width:i.toString(),height:o.toString(),top:s,left:a}),l=Object(r.q)().toLowerCase();n&&(c=ue(l)?qr:n),ae(l)&&(t=t||Wr,u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.q)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new Hr(null);const d=window.open(t||"",c,h);_(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Hr(d)}const Gr="__/auth/handler",Qr="emulator/auth/handler",Yr=encodeURIComponent("fac");async function $r(e,t,n,o,s,a){_(e.config.authDomain,e,"auth-domain-config-required"),_(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.SDK_VERSION,eventId:s};if(t instanceof $e){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Object(r.t)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Je){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const l=await e._getAppCheckToken(),h=l?"#".concat(Yr,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gr);return O(t,Qr)}(e),"?").concat(Object(r.A)(u).slice(1)).concat(h)}const Jr="webStorageSupport";const Xr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dn,this._completeRedirectFn=br,this._overrideRedirectResult=dr}async _openPopup(e,t,n,r){var i;return E(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),Kr(e,await $r(e,t,n,I(),r),pn())}async _openRedirect(e,t,n,r){return await this._originValidation(e),function(e){gn().location.href=e}(await $r(e,t,n,I(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(E(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ur(e),n=new Sr(e);return t.register("authEvent",t=>(_(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jr,{type:Jr},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Jr];void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await kr(e);for(const r of t)try{if(Or(r))return}catch(n){}g(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||ce()||pe()}};class Zr{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return S("unexpected MultiFactorSessionType")}}}class ei extends Zr{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ei(e)}_finalizeEnroll(e,t,n){return function(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:finalize",P(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:finalize",P(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ti{constructor(){}static assertion(e){return ei._fromCredential(e)}}ti.FACTOR_ID="phone";(class{static assertionForEnrollment(e,t){return ni._fromSecret(e,t)}static assertionForSignIn(e,t){return ni._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;_("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await(i=n.user.auth,o={idToken:n.credential,totpEnrollmentInfo:{}},N(i,"POST","/v2/accounts/mfaEnrollment:start",P(i,o)));var i,o;return ri._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}).FACTOR_ID="totp";class ni extends Zr{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new ni(t,void 0,e)}static _fromEnrollmentId(e,t){return new ni(t,e)}async _finalizeEnroll(e,t,n){return _("undefined"!==typeof this.secret,e,"argument-error"),function(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:finalize",P(e,t))}(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){_(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return function(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:finalize",P(e,t))}(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class ri{constructor(e,t,n,r,i,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ri(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(ii(e)||ii(t))&&(r=!0),r&&(ii(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ii(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}function ii(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var oi="@firebase/auth",si="1.6.0";class ai{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ci=Object(r.o)("authIdTokenMaxAge")||300;let ui=null;const li=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ci)return;const i=null===n||void 0===n?void 0:n.token;ui!==i&&(ui=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.getApp)();const t=Object(i._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Object(i._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if(Object(r.i)(i,null!==t&&void 0!==t?t:{}))return e;g(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Xr,persistence:[An,ln,dn]}),o=Object(r.o)("authTokenSyncURL");if(o){const e=li(o);!function(e,t,n){Object(r.p)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,i){Object(r.p)(e).onIdTokenChanged(t,n,i)}(n,t=>e(t))}const s=Object(r.m)("auth");return s&&Pe(n,"http://".concat(s)),n}var di;Ie={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=(e=>{const t=y("internal-error");t.customData=e,n(t)}),r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},di="Browser",Object(i._registerComponent)(new a.a("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:di,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(di)},u=new _e(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(te);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Object(i._registerComponent)(new a.a("auth-internal",e=>(e=>new ai(e))(Se(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(i.registerVersion)(oi,si,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(di)),Object(i.registerVersion)(oi,si,"esm2017")},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return g}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return x}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return P}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return U}),n.d(t,"i",function(){return D}),n.d(t,"j",function(){return u}),n.d(t,"k",function(){return F}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"o",function(){return m}),n.d(t,"p",function(){return B}),n.d(t,"q",function(){return v}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return N}),n.d(t,"u",function(){return I}),n.d(t,"v",function(){return T}),n.d(t,"w",function(){return b}),n.d(t,"x",function(){return w}),n.d(t,"y",function(){return E}),n.d(t,"z",function(){return k}),n.d(t,"A",function(){return M}),n.d(t,"B",function(){return j}),n.d(t,"C",function(){return C});const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==c)throw new s;const u=t<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}const l=()=>(function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,h=()=>{try{return l()||(()=>{if("undefined"===typeof r)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"/updated-amazon-front-end"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t,n;return null===(n=null===(t=h())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config},m=e=>{var t;return null===(t=h())||void 0===t?void 0:t["_".concat(e)]};class g{constructor(){this.reject=(()=>{}),this.resolve=(()=>{}),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function w(){var t;const n=null===(t=h())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(r){return!1}}function _(){return"object"===typeof self&&self.self===self}function S(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return!w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"===typeof indexedDB}catch(e){return!1}}function C(){return new Promise((e,t)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=(()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),e(!0)}),o.onupgradeneeded=(()=>{r=!1}),o.onerror=(()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")})}catch(n){t(n)}})}const O="FirebaseError";class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=O,Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new x(n,o,t)}}const R=/\{\$([^}]+)}/g;function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(L(n)&&L(o)){if(!D(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function F(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function U(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z(){}function B(e){return e&&e._delegate?e._delegate:e}}).call(this,n(24),n(39))},function(e,t,n){"use strict";(function(e){var r=n(34);const{toString:i}=Object.prototype,{getPrototypeOf:o}=Object,s=(a=Object.create(null),e=>{const t=i.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())});var a;const c=e=>(e=e.toLowerCase(),t=>s(t)===e),u=e=>t=>typeof t===e,{isArray:l}=Array,h=u("undefined");const d=c("ArrayBuffer");const f=u("string"),p=u("function"),m=u("number"),g=e=>null!==e&&"object"===typeof e,y=e=>{if("object"!==s(e))return!1;const t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},v=c("Date"),b=c("File"),w=c("Blob"),_=c("FileList"),S=c("URLSearchParams");function E(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function I(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}const k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:e,T=e=>!h(e)&&e!==k;const C=(O="undefined"!==typeof Uint8Array&&o(Uint8Array),e=>O&&e instanceof O);var O;const x=c("HTMLFormElement"),A=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),R=c("RegExp"),P=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};E(n,(n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)}),Object.defineProperties(e,r)},N="abcdefghijklmnopqrstuvwxyz",D={DIGIT:"0123456789",ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+"0123456789"};const L=c("AsyncFunction");t.a={isArray:l,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||p(e.append)&&("formdata"===(t=s(e))||"object"===t&&p(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer)},isString:f,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:y,isUndefined:h,isDate:v,isFile:b,isBlob:w,isRegExp:R,isFunction:p,isStream:e=>g(e)&&p(e.pipe),isURLSearchParams:S,isTypedArray:C,isFileList:_,forEach:E,merge:function e(){const{caseless:t}=T(this)&&this||{},n={},r=(r,i)=>{const o=t&&I(n,i)||i;y(n[o])&&y(r)?n[o]=e(n[o],r):y(r)?n[o]=e({},r):l(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&E(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return E(t,(t,i)=>{n&&p(t)?e[i]=Object(r.a)(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const c={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)a=i[s],r&&!r(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(l(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:x,hasOwnProperty:A,hasOwnProp:A,reduceDescriptors:P,freezeMethods:e=>{P(e,(t,n)=>{if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];p(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=(()=>{throw Error("Can not rewrite read-only method '"+n+"'")})))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return l(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:I,global:k,isContextDefined:T,ALPHABET:D,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=l(e)?[]:{};return E(e,(e,t)=>{const o=n(e,r+1);!h(o)&&(i[t]=o)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(g(e)||p(e))&&p(e.then)&&p(e.catch)}}).call(this,n(24))},function(e,t,n){"use strict";n.d(t,"x",function(){return b}),n.d(t,"F",function(){return y});var r=n(2);n.d(t,"a",function(){return r.b}),n.d(t,"b",function(){return r.e}),n.d(t,"c",function(){return r.j}),n.d(t,"d",function(){return r.k}),n.d(t,"e",function(){return r.m}),n.d(t,"f",function(){return r.l}),n.d(t,"g",function(){return r.f}),n.d(t,"h",function(){return r.n}),n.d(t,"i",function(){return r.g}),n.d(t,"j",function(){return r.sb}),n.d(t,"k",function(){return r.ub}),n.d(t,"l",function(){return r.h}),n.d(t,"m",function(){return r.L}),n.d(t,"n",function(){return r.o}),n.d(t,"o",function(){return r.a}),n.d(t,"p",function(){return r.C}),n.d(t,"q",function(){return r.J}),n.d(t,"r",function(){return r.eb}),n.d(t,"s",function(){return r.K}),n.d(t,"t",function(){return r.E}),n.d(t,"u",function(){return r.G}),n.d(t,"v",function(){return r.H}),n.d(t,"w",function(){return r.F}),n.d(t,"y",function(){return r.x}),n.d(t,"z",function(){return r.hb}),n.d(t,"A",function(){return r.qb}),n.d(t,"B",function(){return r.p}),n.d(t,"C",function(){return r.y}),n.d(t,"D",function(){return r.w}),n.d(t,"E",function(){return r.d}),n.d(t,"G",function(){return r.M}),n.d(t,"H",function(){return r.c}),n.d(t,"I",function(){return r.R}),n.d(t,"J",function(){return r.Y}),n.d(t,"K",function(){return r.Z}),n.d(t,"L",function(){return r.pb}),n.d(t,"M",function(){return r.i}),n.d(t,"N",function(){return r.ob}),n.d(t,"O",function(){return r.P}),n.d(t,"P",function(){return r.s}),n.d(t,"Q",function(){return r.rb}),n.d(t,"R",function(){return r.jb}),n.d(t,"S",function(){return r.mb}),n.d(t,"T",function(){return r.ab}),n.d(t,"U",function(){return r.t}),n.d(t,"V",function(){return r.vb}),n.d(t,"W",function(){return r.kb}),n.d(t,"X",function(){return r.nb}),n.d(t,"Y",function(){return r.S}),n.d(t,"Z",function(){return r.v}),n.d(t,"ab",function(){return r.O}),n.d(t,"bb",function(){return r.q}),n.d(t,"cb",function(){return r.r}),n.d(t,"db",function(){return r.u}),n.d(t,"eb",function(){return r.N}),n.d(t,"fb",function(){return r.Q}),n.d(t,"gb",function(){return r.wb}),n.d(t,"hb",function(){return r.ib}),n.d(t,"ib",function(){return r.lb}),n.d(t,"jb",function(){return r.X}),n.d(t,"kb",function(){return r.V}),n.d(t,"lb",function(){return r.W}),n.d(t,"mb",function(){return r.xb}),n.d(t,"nb",function(){return r.U}),n.d(t,"ob",function(){return r.T}),n.d(t,"pb",function(){return r.z});var i=n(3);n(9),n(12),n(16);function o(){return window}const s=2e3;async function a(e,t,n){var i;const{BuildInfo:s}=o();Object(r.bb)(t.sessionId,"AuthEvent did not contain a session ID");const a=await async function(e){const t=function(e){if(Object(r.bb)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),c={};return Object(r.cb)()?c.ibi=s.packageName:Object(r.db)()?c.apn=s.packageName:Object(r.eb)(e,"operation-not-supported-in-this-environment"),s.displayName&&(c.appDisplayName=s.displayName),c.sessionId=a,Object(r.fb)(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,c)}const c=20;class u extends r.D{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function l(e){const t=await f()._get(p(e));return t&&await f()._remove(p(e)),t}function h(e,t){var n,i;const o=function(e){const t=m(e),n=t.link?decodeURIComponent(t.link):void 0,r=m(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return m(i).link||i||r||n||e}(t);if(o.includes("/__/auth/callback")){const t=m(o),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(i=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],c=a?Object(r.B)(a):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:o,postBody:null}}return null}function d(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<c;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function f(){return Object(r.E)(r.hb)}function p(e){return Object(r.F)("authEvent",e.config.apiKey,e.name)}function m(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Object(i.B)(n.join("?"))}const g=500;const y=class{constructor(){this._redirectPersistence=r.p,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.G,this._overrideRedirectResult=r.H}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new u(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Object(r.eb)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,s,a,c,u,l,h,d;const f=o();Object(r.C)("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Object(r.C)("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Object(r.C)("function"===typeof(null===(a=null===(s=null===(i=null===f||void 0===f?void 0:f.cordova)||void 0===i?void 0:i.plugins)||void 0===s?void 0:s.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Object(r.C)("function"===typeof(null===(l=null===(u=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.plugins)||void 0===u?void 0:u.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Object(r.C)("function"===typeof(null===(d=null===(h=null===f||void 0===f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const c=await this._initialize(e);await c.initialized(),c.resetRedirect(),Object(r.I)(),await this._originValidation(e);const u=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:d(),postBody:null,tenantId:e.tenantId,error:Object(r.B)(e,"no-auth-event")}}(e,n,i);await function(e,t){return f()._set(p(e),t)}(e,u);const l=await a(e,u,t);return async function(e,t,n){const{cordova:i}=o();let a=()=>{};try{await new Promise((o,c)=>{let u=null;function l(){var e;o();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function h(){u||(u=window.setTimeout(()=>{c(Object(r.B)(e,"redirect-cancelled-by-user"))},s))}function d(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&h()}t.addPassiveListener(l),document.addEventListener("resume",h,!1),Object(r.db)()&&document.addEventListener("visibilitychange",d,!1),a=(()=>{t.removePassiveListener(l),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",d,!1),u&&window.clearTimeout(u)})})}finally{a()}}(e,c,await function(e){const{cordova:t}=o();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let o=null;i?t.plugins.browsertab.openUrl(e):o=t.InAppBrowser.open(e,Object(r.A)()?"_blank":"_system","location=yes"),n(o)})})}(l))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=o(),n={};Object(r.cb)()?n.iosBundleId=t.packageName:Object(r.db)()?n.androidPackageName=t.packageName:Object(r.eb)(e,"operation-not-supported-in-this-environment"),await Object(r.gb)(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=o(),s=setTimeout(async()=>{await l(e),t.onEvent(v())},g),a=async n=>{clearTimeout(s);const r=await l(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=h(r,n.url)),t.onEvent(i||v())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const c=r,u="".concat(i.packageName.toLowerCase(),"://");o().handleOpenURL=(async e=>{if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"===typeof c)try{c(e)}catch(t){console.error(t)}})}};function v(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Object(r.B)("no-auth-event")}}function b(e,t){Object(r.J)(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Rl}),n.d(t,"b",function(){return Au}),n.d(t,"c",function(){return gu}),n.d(t,"d",function(){return su}),n.d(t,"e",function(){return Ll}),n.d(t,"f",function(){return Ru}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return Nu}),n.d(t,"i",function(){return Ml}),n.d(t,"j",function(){return jl}),n.d(t,"k",function(){return F}),n.d(t,"l",function(){return nh}),n.d(t,"m",function(){return mt}),n.d(t,"n",function(){return W}),n.d(t,"o",function(){return q}),n.d(t,"p",function(){return eu}),n.d(t,"q",function(){return w}),n.d(t,"r",function(){return ot}),n.d(t,"s",function(){return g}),n.d(t,"t",function(){return $c}),n.d(t,"u",function(){return $l}),n.d(t,"v",function(){return uh}),n.d(t,"w",function(){return ch}),n.d(t,"x",function(){return Eu}),n.d(t,"y",function(){return cu}),n.d(t,"z",function(){return uu}),n.d(t,"A",function(){return iu}),n.d(t,"B",function(){return Yl}),n.d(t,"C",function(){return sh}),n.d(t,"D",function(){return Tu}),n.d(t,"E",function(){return lu}),n.d(t,"F",function(){return wu}),n.d(t,"G",function(){return _u}),n.d(t,"H",function(){return ku}),n.d(t,"I",function(){return Tl}),n.d(t,"J",function(){return kl}),n.d(t,"K",function(){return vu}),n.d(t,"L",function(){return Zl}),n.d(t,"M",function(){return Vl}),n.d(t,"N",function(){return Bl}),n.d(t,"O",function(){return ql}),n.d(t,"P",function(){return Wl}),n.d(t,"Q",function(){return Hl}),n.d(t,"R",function(){return Kl}),n.d(t,"S",function(){return lh}),n.d(t,"T",function(){return bl}),n.d(t,"U",function(){return wl}),n.d(t,"V",function(){return Cu}),n.d(t,"W",function(){return Ou}),n.d(t,"X",function(){return Jl}),n.d(t,"Y",function(){return Xl}),n.d(t,"Z",function(){return yl}),n.d(t,"ab",function(){return dl}),n.d(t,"bb",function(){return du}),n.d(t,"cb",function(){return hu}),n.d(t,"db",function(){return oh}),n.d(t,"eb",function(){return ah}),n.d(t,"fb",function(){return Gl}),n.d(t,"gb",function(){return f}),n.d(t,"hb",function(){return Ul}),n.d(t,"ib",function(){return El}),n.d(t,"jb",function(){return Sl}),n.d(t,"kb",function(){return Ql}),n.d(t,"lb",function(){return Iu}),n.d(t,"mb",function(){return pl});var r=n(9),i=n(16),o=n(12),s=n(3),a=n(13);const c="@firebase/firestore";class u{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}u.UNAUTHENTICATED=new u(null),u.GOOGLE_CREDENTIALS=new u("google-credentials-uid"),u.FIRST_PARTY=new u("first-party-uid"),u.MOCK_USER=new u("mock-user");let l="10.8.0";const h=new o.b("@firebase/firestore");function d(){return h.logLevel}function f(e){h.setLogLevel(e)}function p(e){if(h.logLevel<=o.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);h.debug("Firestore (".concat(l,"): ").concat(e),...i)}}function m(e){if(h.logLevel<=o.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);h.error("Firestore (".concat(l,"): ").concat(e),...i)}}function g(e){if(h.logLevel<=o.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);h.warn("Firestore (".concat(l,"): ").concat(e),...i)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(l,") INTERNAL ASSERTION FAILED: ")+e;throw m(t),new Error(t)}function b(e,t){e||v()}function w(e,t){e||v()}function _(e,t){return e}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends s.c{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=(()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message))}}class I{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class k{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(u.UNAUTHENTICATED))}shutdown(){}}class C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class O{constructor(e){this.t=e,this.currentUser=u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new I;this.o=(()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new I,e.enqueueRetryable(()=>r(this.currentUser))});const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new I)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(b("string"==typeof t.accessToken),new k(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new u(e)}}class x{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=u.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new x(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(u.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,p("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=(t=>{e.enqueueRetryable(()=>n(t))});const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(b("string"==typeof e.token),this.R=e.token,new R(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function N(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class D{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=N(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function L(e,t){return e<t?-1:e>t?1:0}function M(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function j(e){return e+"\0"}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new E(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new E(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new E(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?L(this.nanoseconds,e.nanoseconds):L(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new F(0,0))}static max(){return new U(new F(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class V{constructor(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===V.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof V?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class z extends V{construct(e,t,n){return new z(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new E(S.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new z(e)}static emptyPath(){return new z([])}}const B=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class q extends V{construct(e,t,n){return new q(e,t,n)}static isValidIdentifier(e){return B.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),q.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new q(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new E(S.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new E(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new E(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new E(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new q(t)}static emptyPath(){return new q([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(z.fromString(e))}static fromName(e){return new W(z.fromString(e).popFirst(5))}static empty(){return new W(z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===z.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return z.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new z(e.slice()))}}class H{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find(e=>2===e.kind)}function G(e){return e.fields.filter(e=>2!==e.kind)}H.UNKNOWN_ID=-1;class Q{constructor(e,t){this.fieldPath=e,this.kind=t}}class Y{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Y(0,X.min())}}function $(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r));return new X(i,W.empty(),t)}function J(e){return new X(e.readTime,e.key,-1)}class X{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new X(U.min(),W.empty(),-1)}static max(){return new X(U.max(),W.empty(),-1)}}function Z(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=W.comparator(e.documentKey,t.documentKey))?n:L(e.largestBatchId,t.largestBatchId)}const ee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ne(e){if(e.code!==S.FAILED_PRECONDITION||e.message!==ee)throw e;p("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((n,r)=>{this.nextCallback=(t=>{this.wrapSuccess(e,t).next(n,r)}),this.catchCallback=(e=>{this.wrapFailure(t,e).next(n,r)})})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(e){return re.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,n)=>{t(e)})}static reject(e){return new re((t,n)=>{n(e)})}static waitFor(e){return new re((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=re.resolve(!1);for(const n of e)t=t.next(e=>e?re.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new re((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{o[c]=e,++s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new re((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}class ie{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new I,this.transaction.oncomplete=(()=>{this.V.resolve()}),this.transaction.onabort=(()=>{t.error?this.V.reject(new ae(e,t.error)):this.V.resolve()}),this.transaction.onerror=(t=>{const n=de(t.target.error);this.V.reject(new ae(e,n))})}static open(e,t,n,r){try{return new ie(t,e.transaction(r,n))}catch(e){throw new ae(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ue(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===oe.S(Object(s.q)())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),le(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Object(s.v)())return!1;if(oe.C())return!0;const e=Object(s.q)(),t=oe.S(e),n=0<t&&t<10,r=oe.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=e.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=(e=>{const n=e.target.result;t(n)}),r.onblocked=(()=>{n(new ae(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))}),r.onerror=(t=>{const r=t.target.error;"VersionError"===r.name?n(new E(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new E(S.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ae(e,r))}),r.onupgradeneeded=(e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next(()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")})})})),this.B&&(this.db.onversionchange=(e=>this.B(e))),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=(t=>e(t)))}async runTransaction(e,t,n,r){const i="readonly"===t;for(;;){0;try{this.db=await this.O(e);const t=ie.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.g(),e)).catch(e=>(t.abort(e),re.reject(e))).toPromise();return o.catch(()=>{}),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class se{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return le(this.k.delete())}}class ae extends E{constructor(e,t){super(S.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ce(e){return"IndexedDbTransactionError"===e.name}class ue{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),le(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),le(this.store.add(e))}get(e){return le(this.store.get(e)).next(t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),le(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),le(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new re((t,n)=>{e.onerror=(e=>{n(e.target.error)}),e.onsuccess=(e=>{t(e.target.result)})})}{const e=this.cursor(n),t=[];return this.G(e,(e,n)=>{t.push(n)}).next(()=>t)}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new re((e,t)=>{n.onerror=(e=>{t(e.target.error)}),n.onsuccess=(t=>{e(t.target.result)})})}H(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,(e,t,n)=>n.delete())}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new re((n,r)=>{t.onerror=(e=>{const t=de(e.target.error);r(t)}),t.onsuccess=(t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()})})}G(e,t){const n=[];return new re((r,i)=>{e.onerror=(e=>{i(e.target.error)}),e.onsuccess=(e=>{const i=e.target.result;if(!i)return void r();const o=new se(i),s=t(i.primaryKey,i.value,o);if(s instanceof re){const e=s.catch(e=>(o.done(),re.reject(e)));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)})}).next(()=>re.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function le(e){return new re((t,n)=>{e.onsuccess=(e=>{const n=e.target.result;t(n)}),e.onerror=(e=>{const t=de(e.target.error);n(t)})})}let he=!1;function de(e){const t=oe.S(Object(s.q)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return he||(he=!0,setTimeout(()=>{throw e},0)),e}}return e}class fe{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){p("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{p("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){ce(e)?p("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ne(e)}await this.ee(6e4)})}}class pe{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.ne(t,e))}ne(e,t){const n=new Set;let r=t,i=!0;return re.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return p("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.ie(r,n)).next(n=>(p("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}ie(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=J(t);Z(r,n)>0&&(n=r)}),new X(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class me{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=(e=>this.se(e)),this.oe=(e=>t.writeSequenceNumber(e)))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function ge(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function ve(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function be(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_e(t)),t=we(e.get(n),t);return _e(t)}function we(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function _e(e){return e+"\x01\x01"}function Se(e){const t=e.length;if(b(t>=2),2===t)return b("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),z.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&v(),e.charAt(t+1)){case"\x01":const s=e.substring(o,t);let a;0===i.length?a=s:(a=i+=s,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:v()}o=t+2}return new z(r)}me._e=-1;const Ee=["userId","batchId"];function Ie(e,t){return[e,be(t)]}function ke(e,t,n){return[e,be(t),n]}const Te={},Ce=["prefixPath","collectionGroup","readTime","documentId"],Oe=["prefixPath","collectionGroup","documentId"],xe=["collectionGroup","readTime","prefixPath","documentId"],Ae=["canonicalId","targetId"],Re=["targetId","path"],Pe=["path","targetId"],Ne=["collectionId","parent"],De=["indexId","uid"],Le=["uid","sequenceNumber"],Me=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],je=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],Ue=["userId","collectionPath","largestBatchId"],Ve=["userId","collectionGroup","largestBatchId"],ze=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Be=[...ze,"documentOverlays"],qe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],We=qe,He=[...We,"indexConfiguration","indexState","indexEntries"];class Ke extends te{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ge(e,t){const n=_(e);return oe.M(n.ae,t)}function Qe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ye(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Je{constructor(e,t){this.comparator=e,this.root=t||Ze.EMPTY}insert(e,t){return new Je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xe(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xe(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xe(this.root,e,this.comparator,!0)}}class Xe{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ze.RED,this.left=null!=r?r:Ze.EMPTY,this.right=null!=i?i:Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ze(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ze.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1,Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tt(this.data.getIterator())}getIteratorFrom(e){return new tt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof et))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class tt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nt(e){return e.hasNext()?e.getNext():void 0}class rt{constructor(e){this.fields=e,e.sort(q.comparator)}static empty(){return new rt([])}unionWith(e){let t=new et(q.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new rt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return M(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class it extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ot(){return"undefined"!=typeof atob}class st{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new it("Invalid base64 string: "+e):e}}(e);return new st(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new st(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return L(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const at=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ct(e){if(b(!!e),"string"==typeof e){let t=0;const n=at.exec(e);if(b(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lt(e){return"string"==typeof e?st.fromBase64String(e):st.fromUint8Array(e)}function ht(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dt(e){const t=e.mapValue.fields.__previous_value__;return ht(t)?dt(t):t}function ft(e){const t=ct(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}class pt{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class mt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mt&&e.projectId===this.projectId&&e.database===this.database}}const gt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yt={nullValue:"NULL_VALUE"};function vt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ht(e)?4:Rt(e)?9007199254740991:10:v()}function bt(e,t){if(e===t)return!0;const n=vt(e);if(n!==vt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ft(e).isEqual(ft(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ct(e.timestampValue),r=ct(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lt(e.bytesValue).isEqual(lt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ut(e.geoPointValue.latitude)===ut(t.geoPointValue.latitude)&&ut(e.geoPointValue.longitude)===ut(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ut(e.integerValue)===ut(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ut(e.doubleValue),r=ut(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return M(e.arrayValue.values||[],t.arrayValue.values||[],bt);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qe(n)!==Qe(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bt(n[i],r[i])))return!1;return!0}(e,t);default:return v()}}function wt(e,t){return void 0!==(e.values||[]).find(e=>bt(e,t))}function _t(e,t){if(e===t)return 0;const n=vt(e),r=vt(t);if(n!==r)return L(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return L(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ut(e.integerValue||e.doubleValue),r=ut(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return St(e.timestampValue,t.timestampValue);case 4:return St(ft(e),ft(t));case 5:return L(e.stringValue,t.stringValue);case 6:return function(e,t){const n=lt(e),r=lt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=L(n[i],r[i]);if(0!==e)return e}return L(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=L(ut(e.latitude),ut(t.latitude));return 0!==n?n:L(ut(e.longitude),ut(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_t(n[i],r[i]);if(e)return e}return L(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gt.mapValue&&t===gt.mapValue)return 0;if(e===gt.mapValue)return 1;if(t===gt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=L(r[s],o[s]);if(0!==e)return e;const t=_t(n[r[s]],i[o[s]]);if(0!==t)return t}return L(r.length,o.length)}(e.mapValue,t.mapValue);default:throw v()}}function St(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return L(e,t);const n=ct(e),r=ct(t),i=L(n.seconds,r.seconds);return 0!==i?i:L(n.nanos,r.nanos)}function Et(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const t=ct(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return lt(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return W.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=e(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+="".concat(o,":").concat(e(t.fields[o]));return r+"}"}(t.mapValue):v()}(e)}function It(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kt(e){return!!e&&"integerValue"in e}function Tt(e){return!!e&&"arrayValue"in e}function Ct(e){return!!e&&"nullValue"in e}function Ot(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xt(e){return!!e&&"mapValue"in e}function At(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ye(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=At(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=At(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Pt(e){return"nullValue"in e?yt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?It(mt.empty(),W.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:v()}function Nt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?It(mt.empty(),W.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?gt:v()}function Dt(e,t){const n=_t(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Lt(e,t){const n=_t(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!xt(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=At(t)}setAll(e){let t=q.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=At(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ye(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Mt(At(this.value))}}function jt(e){const t=[];return Ye(e.fields,(e,n)=>{const r=new q([e]);if(xt(n)){const e=jt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new rt(t)}class Ft{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ft(e,0,U.min(),U.min(),U.min(),Mt.empty(),0)}static newFoundDocument(e,t,n,r){return new Ft(e,1,t,U.min(),n,r,0)}static newNoDocument(e,t){return new Ft(e,2,t,U.min(),U.min(),Mt.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,U.min(),U.min(),Mt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ut{constructor(e,t){this.position=e,this.inclusive=t}}function Vt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):_t(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function zt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bt(e.position[n],t.position[n]))return!1;return!0}class Bt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wt{}class Ht extends Wt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new en(e,t,n):"array-contains"===t?new on(e,n):"in"===t?new sn(e,n):"not-in"===t?new an(e,n):"array-contains-any"===t?new cn(e,n):new Ht(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new tn(e,n):new nn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_t(t,this.value)):null!==t&&vt(this.value)===vt(t)&&this.matchesComparison(_t(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends Wt{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Kt(e,t)}matches(e){return Gt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gt(e){return"and"===e.op}function Qt(e){return"or"===e.op}function Yt(e){return $t(e)&&Gt(e)}function $t(e){for(const t of e.filters)if(t instanceof Kt)return!1;return!0}function Jt(e,t){return e instanceof Ht?function(e,t){return t instanceof Ht&&e.op===t.op&&e.field.isEqual(t.field)&&bt(e.value,t.value)}(e,t):e instanceof Kt?function(e,t){return t instanceof Kt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Jt(n,t.filters[r]),!0)}(e,t):void v()}function Xt(e,t){const n=e.filters.concat(t);return Kt.create(n,e.op)}function Zt(e){return e instanceof Ht?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Et(e.value))}(e):e instanceof Kt?function(e){return e.op.toString()+" {"+e.getFilters().map(Zt).join(" ,")+"}"}(e):"Filter"}class en extends Ht{constructor(e,t,n){super(e,t,n),this.key=W.fromName(n.referenceValue)}matches(e){const t=W.comparator(e.key,this.key);return this.matchesComparison(t)}}class tn extends Ht{constructor(e,t){super(e,"in",t),this.keys=rn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nn extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=rn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>W.fromName(e.referenceValue))}class on extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tt(t)&&wt(t.arrayValue,this.value)}}class sn extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wt(this.value.arrayValue,t)}}class an extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(wt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wt(this.value.arrayValue,t)}}class cn extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>wt(this.value.arrayValue,e))}}class un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new un(e,t,n,r,i,o,s)}function hn(e){const t=_(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>(function e(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Et(t.value);if(Yt(t))return t.filters.map(t=>e(t)).join(",");{const n=t.filters.map(t=>e(t)).join(",");return"".concat(t.op,"(").concat(n,")")}})(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>(function(e){return e.field.canonicalString()+e.dir})(e)).join(","),ge(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Et(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Et(e)).join(",")),t.ce=e}return t.ce}function dn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zt(e.startAt,t.startAt)&&zt(e.endAt,t.endAt)}function fn(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function pn(e,t){return e.filters.filter(e=>e instanceof Ht&&e.field.isEqual(t))}function mn(e,t,n){let r=yt,i=!0;for(const o of pn(e,t)){let e=yt,t=!0;switch(o.op){case"<":case"<=":e=Pt(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=yt}Dt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Dt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function gn(e,t,n){let r=gt,i=!0;for(const o of pn(e,t)){let e=gt,t=!0;switch(o.op){case">=":case">":e=Nt(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=gt}Lt({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Lt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function vn(e,t,n,r,i,o,s,a){return new yn(e,t,n,r,i,o,s,a)}function bn(e){return new yn(e)}function wn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _n(e){return null!==e.collectionGroup}function Sn(e){const t=_(e);if(null===t.le){t.le=[];const e=new Set;for(const r of t.explicitOrderBy)t.le.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new et(q.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Bt(r,n))}),e.has(q.keyField().canonicalString())||t.le.push(new Bt(q.keyField(),n))}return t.le}function En(e){const t=_(e);return t.he||(t.he=In(t,Sn(e))),t.he}function In(e,t){if("F"===e.limitType)return ln(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Bt(e.field,t)});const n=e.endAt?new Ut(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ut(e.startAt.position,e.startAt.inclusive):null;return ln(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kn(e,t){const n=e.filters.concat([t]);return new yn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tn(e,t,n){return new yn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cn(e,t){return dn(En(e),En(t))&&e.limitType===t.limitType}function On(e){return"".concat(hn(En(e)),"|lt:").concat(e.limitType)}function xn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Zt(e)).join(", "),"]")),ge(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>(function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")})(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Et(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Et(e)).join(",")),"Target(".concat(t,")")}(En(e)),"; limitType=").concat(e.limitType,")")}function An(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sn(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sn(e),t))}(e,t)}function Rn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pn(e){return(t,n)=>{let r=!1;for(const i of Sn(e)){const e=Nn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Nn(e,t,n){const r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_t(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}class Dn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ye(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return $e(this.inner)}size(){return this.innerSize}}const Ln=new Je(W.comparator);function Mn(){return Ln}const jn=new Je(W.comparator);function Fn(){let e=jn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Un(e){let t=jn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Vn(){return Bn()}function zn(){return Bn()}function Bn(){return new Dn(e=>e.toString(),(e,t)=>e.isEqual(t))}const qn=new Je(W.comparator),Wn=new et(W.comparator);function Hn(){let e=Wn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Kn=new et(L);function Gn(){return Kn}function Qn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function Yn(e){return{integerValue:""+e}}function $n(e,t){return ve(t)?Yn(t):Qn(e,t)}class Jn{constructor(){this._=void 0}}function Xn(e,t,n){return e instanceof tr?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ht(t)&&(t=dt(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nr?rr(e,t):e instanceof ir?or(e,t):function(e,t){const n=er(e,t),r=ar(n)+ar(e.Ie);return kt(n)&&kt(e.Ie)?Yn(r):Qn(e.serializer,r)}(e,t)}function Zn(e,t,n){return e instanceof nr?rr(e,t):e instanceof ir?or(e,t):n}function er(e,t){return e instanceof sr?function(e){return kt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class tr extends Jn{}class nr extends Jn{constructor(e){super(),this.elements=e}}function rr(e,t){const n=cr(t);for(const r of e.elements)n.some(e=>bt(e,r))||n.push(r);return{arrayValue:{values:n}}}class ir extends Jn{constructor(e){super(),this.elements=e}}function or(e,t){let n=cr(t);for(const r of e.elements)n=n.filter(e=>!bt(e,r));return{arrayValue:{values:n}}}class sr extends Jn{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ar(e){return ut(e.integerValue||e.doubleValue)}function cr(e){return Tt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ur{constructor(e,t){this.field=e,this.transform=t}}class lr{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class fr{}function pr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ir(e.key,hr.none()):new br(e.key,e.data,hr.none());{const n=e.data,r=Mt.empty();let i=new et(q.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new wr(e.key,r,new rt(i.toArray()),hr.none())}}function mr(e,t,n){e instanceof br?function(e,t,n){const r=e.value.clone(),i=Sr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wr?function(e,t,n){if(!dr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Sr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_r(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gr(e,t,n,r){return e instanceof br?function(e,t,n,r){if(!dr(e.precondition,t))return n;const i=e.value.clone(),o=Er(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof wr?function(e,t,n,r){if(!dr(e.precondition,t))return n;const i=Er(e.fieldTransforms,r,t),o=t.data;return o.setAll(_r(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return dr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=er(r.transform,e||null);null!=i&&(null===n&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function vr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&M(e,t,(e,t)=>(function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nr&&t instanceof nr||e instanceof ir&&t instanceof ir?M(e.elements,t.elements,bt):e instanceof sr&&t instanceof sr?bt(e.Ie,t.Ie):e instanceof tr&&t instanceof tr}(e.transform,t.transform)})(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class br extends fr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wr extends fr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _r(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Sr(e,t,n){const r=new Map;b(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Zn(s,a,n[i]))}return r}function Er(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Xn(e,o,t))}return r}class Ir extends fr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kr extends fr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zn();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);const a=pr(o,s=t.has(r.key)?null:s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(U.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hn())}isEqual(e){return this.batchId===e.batchId&&M(this.mutations,e.mutations,(e,t)=>vr(e,t))&&M(this.baseMutations,e.baseMutations,(e,t)=>vr(e,t))}}class Cr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){b(e.mutations.length===n.length);let r=qn;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Cr(e,t,n,r)}}class Or{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class xr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ar,Rr;function Pr(e){switch(e){default:return v();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function Nr(e){if(void 0===e)return m("GRPC error has no .code"),S.UNKNOWN;switch(e){case Ar.OK:return S.OK;case Ar.CANCELLED:return S.CANCELLED;case Ar.UNKNOWN:return S.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return S.INTERNAL;case Ar.UNAVAILABLE:return S.UNAVAILABLE;case Ar.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Ar.NOT_FOUND:return S.NOT_FOUND;case Ar.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Ar.ABORTED:return S.ABORTED;case Ar.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Ar.DATA_LOSS:return S.DATA_LOSS;default:return v()}}(Rr=Ar||(Ar={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";let Dr=null;function Lr(){return new TextEncoder}const Mr=new a.d([4294967295,4294967295],0);function jr(e){const t=Lr().encode(e),n=new a.e;return n.update(t),new Uint8Array(n.digest())}function Fr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new a.d([n,r],0),new a.d([i,o],0)]}class Ur{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vr("Invalid padding: ".concat(t));if(n<0)throw new Vr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Vr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Vr("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=a.d.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(a.d.fromNumber(n)));return 1===r.compare(Mr)&&(r=new a.d([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=jr(e),[n,r]=Fr(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ur(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Te)return;const t=jr(e),[n,r]=Fr(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Br.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zr(U.min(),r,new Je(L),Mn(),Hn())}}class Br{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Br(n,t,Hn(),Hn(),Hn())}}class qr{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Wr{constructor(e,t){this.targetId=e,this.fe=t}}class Hr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kr{constructor(){this.ge=0,this.pe=Yr(),this.ye=st.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Hn(),t=Hn(),n=Hn();return this.pe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}}),new Br(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Yr()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,b(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Gr{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mn(),this.Qe=Qr(),this.Ke=new Je(L)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:v()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(fn(i))if(0===n){const e=new W(i.path);this.We(t,e,Ft.newNoDocument(e,U.min()))}else b(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Dr||Dr.tt(function(e,t,n,r,i){var o,s,a,c,u,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(l=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=lt(n).toUint8Array()}catch(e){if(e instanceof it)return g("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ur(o,r,i)}catch(e){return g(e instanceof Vr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&fn(i.target)){const t=new W(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ft.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}});let n=Hn();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.qe.forEach((t,n)=>n.setReadTime(e));const r=new zr(e,t,this.Ke,this.qe,n);return this.qe=Mn(),this.Qe=Qr(),this.Ke=new Je(L),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Kr,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new et(L),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Kr),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Qr(){return new Je(W.comparator)}function Yr(){return new Je(W.comparator)}const $r={asc:"ASCENDING",desc:"DESCENDING"},Jr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xr={and:"AND",or:"OR"};class Zr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ei(e,t){return e.useProto3Json||ge(t)?t:{value:t}}function ti(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ni(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ri(e,t){return ti(e,t.toTimestamp())}function ii(e){return b(!!e),U.fromTimestamp(function(e){const t=ct(e);return new F(t.seconds,t.nanos)}(e))}function oi(e,t){return si(e,t).canonicalString()}function si(e,t){const n=function(e){return new z(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ai(e){const t=z.fromString(e);return b(Ci(t)),t}function ci(e,t){return oi(e.databaseId,t.path)}function ui(e,t){const n=ai(t);if(n.get(1)!==e.databaseId.projectId)throw new E(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new E(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(fi(n))}function li(e,t){return oi(e.databaseId,t)}function hi(e){const t=ai(e);return 4===t.length?z.emptyPath():fi(t)}function di(e){return new z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fi(e){return b(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pi(e,t,n){return{name:ci(e,t),fields:n.value.mapValue.fields}}function mi(e,t,n){const r=ui(e,t.name),i=ii(t.updateTime),o=t.createTime?ii(t.createTime):U.min(),s=new Mt({mapValue:{fields:t.fields}}),a=Ft.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gi(e,t){let n;if(t instanceof br)n={update:pi(e,t.key,t.value)};else if(t instanceof Ir)n={delete:ci(e,t.key)};else if(t instanceof wr)n={update:pi(e,t.key,t.data),updateMask:Ti(t.fieldMask)};else{if(!(t instanceof kr))return v();n={verify:ci(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){const n=t.transform;if(n instanceof tr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ir)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sr)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw v()})(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ri(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function yi(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?hr.updateTime(ii(e.updateTime)):void 0!==e.exists?hr.exists(e.exists):hr.none()}(t.currentDocument):hr.none(),r=t.updateTransforms?t.updateTransforms.map(t=>(function(e,t){let n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue),n=new tr;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new nr(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ir(e)}else"increment"in t?n=new sr(e,t.increment):v();const r=q.fromServerFormat(t.fieldPath);return new ur(r,n)})(e,t)):[];if(t.update){t.update.name;const i=ui(e,t.update.name),o=new Mt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new rt(t.map(e=>q.fromServerFormat(e)))}(t.updateMask);return new wr(i,o,e,n,r)}return new br(i,o,n,r)}if(t.delete){const r=ui(e,t.delete);return new Ir(r,n)}if(t.verify){const r=ui(e,t.verify);return new kr(r,n)}return v()}function vi(e,t){return{documents:[li(e,t.path)]}}function bi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=li(e,i);const o=function(e){if(0!==e.length)return function e(t){return t instanceof Ht?function(e){if("=="===e.op){if(Ot(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NAN"}};if(Ct(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ot(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NAN"}};if(Ct(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(e.field),op:Si(e.op),value:e.value}}}(t):t instanceof Kt?function(t){const n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:Ei(t.op),filters:n}}}(t):v()}(Kt.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>(function(e){return{field:Ii(e.field),direction:_i(e.dir)}})(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ei(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function wi(e){let t=hi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){b(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ki(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ki(e.unaryFilter.field);return Ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ki(e.unaryFilter.field);return Ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ki(e.unaryFilter.field);return Ht.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(t):void 0!==t.fieldFilter?function(e){return Ht.create(ki(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Kt.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v()}}(t.compositeFilter.op))}(t):v()}(e);return t instanceof Kt&&Yt(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>(function(e){return new Bt(ki(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))})(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return ge(t="object"==typeof e?e.value:e)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Ut(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Ut(n,t)}(n.endAt)),vn(t,i,s,o,a,"F",c,u)}function _i(e){return $r[e]}function Si(e){return Jr[e]}function Ei(e){return Xr[e]}function Ii(e){return{fieldPath:e.canonicalString()}}function ki(e){return q.fromServerFormat(e.fieldPath)}function Ti(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ci(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Oi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:U.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:st.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xi{constructor(e){this.ct=e}}function Ai(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ri(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ci(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ti(e,t.version.toTimestamp()),createTime:ti(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pi(t.version)};else{if(!t.isUnknownDocument())return v();r.unknownDocument={path:n.path.toArray(),version:Pi(t.version)}}return r}function Ri(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Pi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ni(e){const t=new F(e.seconds,e.nanoseconds);return U.fromTimestamp(t)}function Di(e,t){const n=(t.baseMutations||[]).map(t=>yi(e.ct,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map(t=>yi(e.ct,t)),i=F.fromMillis(t.localWriteTimeMs);return new Tr(t.batchId,i,n,r)}function Li(e){const t=Ni(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ni(e.lastLimboFreeSnapshotVersion):U.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return b(1===e.documents.length),En(bn(hi(e.documents[0])))}(e.query):function(e){return En(wi(e))}(e.query),new Oi(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,st.fromBase64String(e.resumeToken))}function Mi(e,t){const n=Pi(t.snapshotVersion),r=Pi(t.lastLimboFreeSnapshotVersion);let i;i=fn(t.target)?vi(e.ct,t.target):bi(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hn(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ji(e){const t=wi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tn(t,t.limit,"L"):t}function Fi(e,t){return new Or(t.largestBatchId,yi(e.ct,t.overlayMutation))}function Ui(e,t){const n=t.path.lastSegment();return[e,be(t.path.popLast()),n]}function Vi(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Pi(r.readTime),documentKey:be(r.documentKey.path),largestBatchId:r.largestBatchId}}class zi{getBundleMetadata(e,t){return Bi(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ni(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return Bi(e).put(function(e){return{bundleId:e.id,createTime:Pi(ii(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return qi(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:ji(e.bundledQuery),readTime:Ni(e.readTime)}}(e)})}saveNamedQuery(e,t){return qi(e).put(function(e){return{name:e.name,readTime:Pi(ii(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Bi(e){return Ge(e,"bundles")}function qi(e){return Ge(e,"namedQueries")}class Wi{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Wi(e,n)}getOverlay(e,t){return Hi(e).get(Ui(this.userId,t)).next(e=>e?Fi(this.serializer,e):null)}getOverlays(e,t){const n=Vn();return re.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new Or(t,i);r.push(this.ht(e,o))}),re.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(be(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Hi(e).H("collectionPathOverlayIndex",r))}),re.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Vn(),i=be(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Hi(e).W("collectionPathOverlayIndex",o).next(e=>{for(const t of e){const e=Fi(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Vn();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hi(e).Y({index:"collectionGroupOverlayIndex",range:s},(e,t,n)=>{const s=Fi(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>i)}ht(e,t){return Hi(e).put(function(e,t,n){const[r,i,o]=Ui(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:gi(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Hi(e){return Ge(e,"documentOverlays")}class Ki{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ut(e.integerValue));else if("doubleValue"in e){const n=ut(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ye(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(lt(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):v()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),W.fromName(e).path.forEach(e=>{this.Et(t,60),this.St(e,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Gi(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Qi(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Gi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ki.bt=new Ki;class Yi{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Qi(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Qi(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class $i{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Ji{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Xi{constructor(){this.Gt=new Yi,this.zt=new $i(this.Gt),this.jt=new Ji(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Zi{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Zi(this.indexId,this.documentKey,this.arrayValue,n)}}function eo(e,t){let n=e.indexId-t.indexId;return 0!==n?n:0!==(n=to(e.arrayValue,t.arrayValue))?n:0!==(n=to(e.directionalValue,t.directionalValue))?n:W.comparator(e.documentKey,t.documentKey)}function to(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class no{constructor(e){this.Yt=new et((e,t)=>q.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(b(e.collectionGroup===this.collectionId),this.en)return!1;const t=K(e);if(void 0!==t&&!this.nn(t))return!1;const n=G(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new et(q.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Q(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Q(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Q(n.field,"asc"===n.dir?0:1)));return new H(H.UNKNOWN_ID,this.collectionId,t,Y.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ro(e){if(0===e.getFilters().length)return[];const t=function e(t){if(b(t instanceof Ht||t instanceof Kt),t instanceof Ht)return t;if(1===t.filters.length)return e(t.filters[0]);const n=t.filters.map(t=>e(t));let r=Kt.create(n,t.op);return r=uo(r),so(r)?r:(b(r instanceof Kt),b(Gt(r)),b(r.filters.length>1),r.filters.reduce((e,t)=>ao(e,t)))}(function e(t){var n,r;if(b(t instanceof Ht||t instanceof Kt),t instanceof Ht){if(t instanceof sn){const e=(null===(r=null===(n=t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ht.create(t.field,"==",e)))||[];return Kt.create(e,"or")}return t}const i=t.filters.map(t=>e(t));return Kt.create(i,t.op)}(e));return b(so(t)),io(t)||oo(t)?[t]:t.getFilters()}function io(e){return e instanceof Ht}function oo(e){return e instanceof Kt&&Yt(e)}function so(e){return io(e)||oo(e)||function(e){if(e instanceof Kt&&Qt(e)){for(const t of e.getFilters())if(!io(t)&&!oo(t))return!1;return!0}return!1}(e)}function ao(e,t){let n;return b(e instanceof Ht||e instanceof Kt),b(t instanceof Ht||t instanceof Kt),uo(n=e instanceof Ht?t instanceof Ht?function(e,t){return Kt.create([e,t],"and")}(e,t):co(e,t):t instanceof Ht?co(t,e):function(e,t){if(b(e.filters.length>0&&t.filters.length>0),Gt(e)&&Gt(t))return Xt(e,t.getFilters());const n=Qt(e)?e:t,r=Qt(e)?t:e,i=n.filters.map(e=>ao(e,r));return Kt.create(i,"or")}(e,t))}function co(e,t){if(Gt(t))return Xt(t,e.getFilters());{const n=t.filters.map(t=>ao(e,t));return Kt.create(n,"or")}}function uo(e){if(b(e instanceof Ht||e instanceof Kt),e instanceof Ht)return e;const t=e.getFilters();if(1===t.length)return uo(t[0]);if($t(e))return e;const n=t.map(e=>uo(e)),r=[];return n.forEach(t=>{t instanceof Ht?r.push(t):t instanceof Kt&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Kt.create(r,e.op)}class lo{constructor(){this._n=new ho}addToCollectionParentIndex(e,t){return this._n.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(X.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(X.min())}updateCollectionGroup(e,t,n){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class ho{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new et(z.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new et(z.comparator)).toArray()}}const fo=new Uint8Array(0);class po{constructor(e,t){this.databaseId=t,this.an=new ho,this.un=new Dn(e=>hn(e),(e,t)=>dn(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const i={collectionId:n,parent:be(r)};return mo(e).put(i)}return re.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[j(t),""],!1,!0);return mo(e).W(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n})}addFieldIndex(e,t){const n=yo(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=vo(e);return i.next(e=>{n.put(Vi(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=yo(e),r=vo(e),i=go(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=yo(e),n=go(e),r=vo(e);return t.H().next(()=>n.H()).next(()=>r.H())}createTargetIndexes(e,t){return re.forEach(this.cn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new no(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=go(e);let r=!0;const i=new Map;return re.forEach(this.cn(t),t=>this.ln(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Hn();const r=[];return re.forEach(i,(i,o)=>{p("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(hn(t)));const s=function(e,t){const n=K(t);if(void 0===n)return null;for(const r of pn(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of G(t))for(const t of pn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?mn(e,i.fieldPath,e.startAt):gn(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ut(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?gn(e,i.fieldPath,e.endAt):mn(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ut(n,r)}(o,i),l=this.hn(i,o,c),h=this.hn(i,o,u),d=this.Pn(i,o,a),f=this.In(i.indexId,s,l,c.inclusive,h,u.inclusive,d);return re.forEach(f,i=>n.j(i,t.limit).next(t=>{t.forEach(t=>{const n=W.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return re.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ro(Kt.create(e.filters,"and")).map(t=>ln(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),u=[];for(let l=0;l<a;++l){const a=t?this.Tn(t[l/c]):fo,h=this.En(e,a,n[l%c],r),d=this.dn(e,a,i[l%c],o),f=s.map(t=>this.En(e,a,t,!0));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new Zi(e,W.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Zi(e,W.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new no(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.cn(t);return re.forEach(r,t=>this.ln(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new et(q.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>(function(e){return null!==e.limit})(t)&&r.length>1&&2===n?1:n)}An(e,t){const n=new Xi;for(const r of G(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Ki.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Xi;return Ki.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Xi;return Ki.bt.Pt(It(this.databaseId,t),n.Ht(function(e){const t=G(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Xi);let i=0;for(const o of G(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Tt(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);Ki.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Xi;n.seed(e.Wt()),Ki.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find(e=>e instanceof Ht&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=yo(e),r=vo(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(e=>{const t=[];return re.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Y(t.sequenceNumber,new X(Ni(t.readTime),new W(Se(t.documentKey)),t.largestBatchId)):Y.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Q(q.fromServerFormat(t),n)});return new H(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:L(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=yo(e),i=vo(e);return this.gn(e).next(e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>re.forEach(t,t=>i.put(Vi(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return re.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?re.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),re.forEach(i,n=>this.pn(e,t,n).next(t=>{const i=this.yn(r,n);return t.isEqual(i)?re.resolve():this.wn(e,r,n,t,i)}))))})}Sn(e,t,n,r){return go(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return go(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=go(e);let i=new et(eo);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(e,r)=>{i=i.add(new Zi(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}yn(e,t){let n=new et(eo);const r=this.An(t,e);if(null==r)return n;const i=K(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Tt(o))for(const i of o.arrayValue.values||[])n=n.add(new Zi(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Zi(t.indexId,e.key,fo,r));return n}wn(e,t,n,r,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=nt(o),c=nt(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=nt(s)):t?(i(a),a=nt(o)):(a=nt(o),c=nt(s))}}(r,i,eo,r=>{o.push(this.Sn(e,t,n,r))},r=>{o.push(this.bn(e,t,n,r))}),re.waitFor(o)}gn(e){let t=1;return vo(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>eo(e,t)).filter((e,t,n)=>!t||0!==eo(e,n[t-1]));const r=[];r.push(e);for(const o of n){const n=eo(o,e),i=eo(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,fo,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,fo,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return eo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bo)}getMinOffset(e,t){return re.mapArray(this.cn(t),t=>this.ln(e,t).next(e=>e||v())).next(bo)}}function mo(e){return Ge(e,"collectionParents")}function go(e){return Ge(e,"indexEntries")}function yo(e){return Ge(e,"indexConfiguration")}function vo(e){return Ge(e,"indexState")}function bo(e){b(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Z(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new X(t.readTime,t.documentKey,n)}const wo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function So(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},(e,t,n)=>(a++,n.delete()));o.push(c.next(()=>{b(1===a)}));const u=[];for(const l of n.mutations){const e=ke(t,l.key.path,n.batchId);o.push(i.delete(e)),u.push(l.key)}return re.waitFor(o).next(()=>u)}function Eo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class Io{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){b(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Io(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return To(e).Y({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Co(e),o=To(e);return o.add({}).next(s=>{b("number"==typeof s);const a=new Tr(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>gi(e.ct,t)),i=n.mutations.map(t=>gi(e.ct,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let l=new et((e,t)=>L(e.canonicalString(),t.canonicalString()));for(const e of r){const t=ke(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),u.push(o.put(c)),u.push(i.put(t,Te))}return l.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Cn[s]=a.keys()}),re.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return To(e).get(t).next(e=>e?(b(e.userId===this.userId),Di(this.serializer,e)):null)}vn(e,t){return this.Cn[t]?re.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return To(e).Y({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(b(t.batchId>=n),i=Di(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return To(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return To(e).W("userMutationsIndex",t).next(e=>e.map(e=>Di(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ie(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Co(e).Y({range:r},(n,r,o)=>{const[s,a,c]=n,u=Se(a);if(s===this.userId&&t.path.isEqual(u))return To(e).get(c).next(e=>{if(!e)throw v();b(e.userId===this.userId),i.push(Di(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(L);const r=[];return t.forEach(t=>{const i=Ie(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Co(e).Y({range:o},(e,r,i)=>{const[o,s,a]=e,c=Se(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(s)}),re.waitFor(r).next(()=>this.Fn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ie(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new et(L);return Co(e).Y({range:o},(e,t,i)=>{const[o,a,c]=e,u=Se(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(c)):i.done()}).next(()=>this.Fn(e,s))}Fn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(To(e).get(t).next(e=>{if(null===e)throw v();b(e.userId===this.userId),n.push(Di(this.serializer,e))}))}),re.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return So(e.ae,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),re.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Co(e).Y({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()}).next(()=>{b(0===r.length)})})}containsKey(e,t){return ko(e,this.userId,t)}xn(e){return Oo(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ko(e,t,n){const r=Ie(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Co(e).Y({range:o,J:!0},(e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()}).next(()=>s)}function To(e){return Ge(e,"mutations")}function Co(e){return Ge(e,"documentMutations")}function Oo(e){return Ge(e,"mutationQueues")}class xo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xo(0)}static Bn(){return new xo(-1)}}class Ao{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const n=new xo(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(e=>U.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Ln(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Ln(e).next(n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ro(e).delete(t.targetId)).next(()=>this.Ln(e)).next(t=>(b(t.targetCount>0),t.targetCount-=1,this.kn(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Ro(e).Y((o,s)=>{const a=Li(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>re.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Ro(e).Y((e,n)=>{const r=Li(n);t(r)})}Ln(e){return Po(e).get("targetGlobalKey").next(e=>(b(null!==e),e))}kn(e,t){return Po(e).put("targetGlobalKey",t)}qn(e,t){return Ro(e).put(Mi(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next(e=>e.targetCount)}getTargetData(e,t){const n=hn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Ro(e).Y({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const o=Li(n);dn(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=No(e);return t.forEach(t=>{const o=be(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),re.waitFor(r)}removeMatchingKeys(e,t,n){const r=No(e);return re.forEach(t,t=>{const i=be(t.path);return re.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=No(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=No(e);let i=Hn();return r.Y({range:n,J:!0},(e,t,n)=>{const r=Se(e[1]),o=new W(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=be(t.path),r=IDBKeyRange.bound([n],[j(n)],!1,!0);let i=0;return No(e).Y({index:"documentTargetsIndex",J:!0,range:r},(e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}_t(e,t){return Ro(e).get(t).next(e=>e?Li(e):null)}}function Ro(e){return Ge(e,"targets")}function Po(e){return Ge(e,"targetGlobal")}function No(e){return Ge(e,"targetDocuments")}function Do(e,t){let[n,r]=e,[i,o]=t;const s=L(n,i);return 0===s?L(r,o):s}class Lo{constructor(e){this.Kn=e,this.buffer=new et(Do),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Do(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){p("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ce(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ne(e)}await this.zn(3e5)})}}class jo{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return re.resolve(me._e);const n=new Lo(t);return this.jn.forEachTarget(e,e=>n.Wn(e.sequenceNumber)).next(()=>this.jn.Jn(e,e=>n.Wn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(wo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),wo):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),d()<=o.a.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(c-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-c)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Fo(e,t){return new jo(e,t)}class Uo{constructor(e,t){this.db=e,this.garbageCollector=Fo(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Zn(e){let t=0;return this.Jn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(e,n)=>t(n))}addReference(e,t,n){return Vo(e,n)}removeReference(e,t,n){return Vo(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Vo(e,t)}er(e,t){return function(e,t){let n=!1;return Oo(e).Z(r=>ko(e,r,t).next(e=>(e&&(n=!0),re.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,(o,s)=>{if(s<=t){const t=this.er(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,U.min()),No(e).delete(function(e){return[0,be(e.path)]}(o))))});r.push(t)}}).next(()=>re.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Vo(e,t)}Xn(e,t){const n=No(e);let r,i=me._e;return n.Y({index:"documentTargetsIndex"},(e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==me._e&&t(new W(Se(r)),i),i=c,r=a):i=me._e}).next(()=>{i!==me._e&&t(new W(Se(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vo(e,t){return No(e).put(function(e,t){return{targetId:0,path:be(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class zo{constructor(){this.changes=new Dn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bo{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ko(e).put(n)}removeEntry(e,t,n){return Ko(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ri(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.tr(e,n)))}getEntry(e,t){let n=Ft.newInvalidDocument(t);return Ko(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Go(t))},(e,r)=>{n=this.nr(t,r)}).next(()=>n)}rr(e,t){let n={size:0,document:Ft.newInvalidDocument(t)};return Ko(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Go(t))},(e,r)=>{n={document:this.nr(t,r),size:Eo(r)}}).next(()=>n)}getEntries(e,t){let n=Mn();return this.ir(e,t,(e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)}).next(()=>n)}sr(e,t){let n=Mn(),r=new Je(W.comparator);return this.ir(e,t,(e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Eo(t))}).next(()=>({documents:n,_r:r}))}ir(e,t,n){if(t.isEmpty())return re.resolve();let r=new et(Yo);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Go(r.first()),Go(r.last())),o=r.getIterator();let s=o.getNext();return Ko(e).Y({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=W.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Yo(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(Go(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Ri(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ko(e).W(IDBKeyRange.bound(s,a,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Mn();for(const i of e){const e=this.nr(W.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(An(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=Mn();const o=Qo(t,n),s=Qo(t,X.max());return Ko(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.nr(W.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Wo(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Ho(e).get("remoteDocumentGlobalKey").next(e=>(b(!!e),e))}tr(e,t){return Ho(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=mi(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=W.fromSegments(t.noDocument.path),r=Ni(t.noDocument.readTime);n=Ft.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v();{const e=W.fromSegments(t.unknownDocument.path),r=Ni(t.unknownDocument.version);n=Ft.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new F(e[0],e[1]);return U.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(U.min()))return e}return Ft.newInvalidDocument(e)}}function qo(e){return new Bo(e)}class Wo extends zo{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Dn(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new et((e,t)=>L(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Ai(this.ar.serializer,o);r=r.add(i.path.popLast());const c=Eo(a);n+=c-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Ai(this.ar.serializer,o.convertToNoDocument(U.min()));t.push(this.ar.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.ar.updateMetadata(e,n)),re.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(e=>{let{documents:t,_r:n}=e;return n.forEach((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Ho(e){return Ge(e,"remoteDocumentGlobal")}function Ko(e){return Ge(e,"remoteDocumentsV14")}function Go(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Qo(e,t){const n=t.documentKey.path.toArray();return[e,Ri(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Yo(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=L(n[o],r[o]))return i;return(i=L(n.length,r.length))||((i=L(n[n.length-2],r[r.length-2]))||L(n[n.length-1],r[r.length-1]))}class $o{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&gr(n.mutation,e,rt.empty(),F.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Hn()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hn();const r=Vn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Fn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Vn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Hn()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Mn();const o=Bn(),s=Bn();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof wr)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),gr(s.mutation,t,s.mutation.getFieldMask(),F.now())):o.set(t.key,rt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new $o(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Bn();let r=new Je((e,t)=>e-t),i=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||rt.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Hn()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,u=zn();c.forEach(e=>{if(!i.has(e)){const r=pr(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return re.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_n(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):re.resolve(Vn());let s=-1,a=i;return o.next(t=>re.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?re.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Hn())).next(e=>({batchId:s,changes:Un(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(e=>{let t=Fn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Fn();return this.indexManager.getCollectionParents(e,i).next(s=>re.forEach(s,s=>{const a=function(e,t){return new yn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ft.newInvalidDocument(r)))});let n=Fn();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&gr(o.mutation,r,rt.empty(),F.now()),An(t,r)&&(n=n.insert(e,r))}),n})}}class Xo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return re.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ii(e.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:ji(e.bundledQuery),readTime:ii(e.readTime)}}(t)),re.resolve()}}class Zo{constructor(){this.overlays=new Je(W.comparator),this.hr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vn();return re.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),re.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.hr.delete(n)),re.resolve()}getOverlaysForCollection(e,t,n){const r=Vn(),i=t.length+1,o=new W(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Je((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Vn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Vn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return re.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Or(t,n));let i=this.hr.get(t);void 0===i&&(i=Hn(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class es{constructor(){this.Pr=new et(ts.Ir),this.Tr=new et(ts.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new ts(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Ar(new ts(e,t))}Rr(e,t){e.forEach(e=>this.removeReference(e,t))}Vr(e){const t=new W(new z([])),n=new ts(t,e),r=new ts(t,e+1),i=[];return this.Tr.forEachInRange([n,r],e=>{this.Ar(e),i.push(e.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new W(new z([])),n=new ts(t,e),r=new ts(t,e+1);let i=Hn();return this.Tr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ts(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ts{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return W.comparator(e.key,t.key)||L(e.pr,t.pr)}static Er(e,t){return L(e.pr,t.pr)||W.comparator(e.key,t.key)}}class ns{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new et(ts.Ir)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tr(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new ts(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,t){return re.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ts(t,0),r=new ts(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],e=>{const t=this.Sr(e.pr);i.push(t)}),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(L);return t.forEach(e=>{const t=new ts(e,0),r=new ts(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],e=>{n=n.add(e.pr)})}),re.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;W.isDocumentKey(i)||(i=i.child(""));const o=new ts(new W(i),0);let s=new et(L);return this.wr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)},o),re.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach(e=>{const n=this.Sr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){b(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return re.forEach(t.mutations,r=>{const i=new ts(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,t){const n=new ts(t,0),r=this.wr.firstAfterOrEqual(n);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rs{constructor(e){this.vr=e,this.docs=new Je(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let n=Mn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ft.newInvalidDocument(e))}),re.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Mn();const o=t.path,s=new W(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Z(J(s),n)<=0||(r.has(s.key)||An(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v()}Fr(e,t){return re.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new is(this)}getSize(e){return re.resolve(this.size)}}class is extends zo{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)}),re.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class os{constructor(e){this.persistence=e,this.Mr=new Dn(e=>hn(e),dn),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Or=0,this.Nr=new es,this.targetCount=0,this.Br=xo.Nn()}forEachTarget(e,t){return this.Mr.forEach((e,n)=>t(n)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),re.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.qn(t),re.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),re.waitFor(i).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return re.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),re.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),re.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return re.resolve(n)}containsKey(e,t){return re.resolve(this.Nr.containsKey(t))}}class ss{constructor(e,t){this.Lr={},this.overlays={},this.kr=new me(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new os(this),this.indexManager=new lo,this.remoteDocumentCache=function(e){return new rs(e)}(e=>this.referenceDelegate.Kr(e)),this.serializer=new xi(t),this.$r=new Xo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new ns(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new as(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(e=>this.referenceDelegate.Wr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gr(e,t){return re.or(Object.values(this.Lr).map(n=>()=>n.containsKey(e,t)))}}class as extends te{constructor(e){super(),this.currentSequenceNumber=e}}class cs{constructor(e){this.persistence=e,this.zr=new es,this.jr=null}static Hr(e){return new cs(e)}get Jr(){if(this.jr)return this.jr;throw v()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),re.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),re.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(e=>this.Jr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Jr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Jr,n=>{const r=W.fromPath(n);return this.Yr(e,r).next(e=>{e||t.removeEntry(r,U.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return re.or([()=>re.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class us{constructor(e){this.serializer=e}N(e,t,n,r){const i=new ie("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0}),e.createObjectStore("documentMutations")}(e),ls(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=re.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ls(e)),o=o.next(()=>(function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:U.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)})(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>(function(e,t){return t.store("mutations").W().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return re.waitFor(i)})})(e,i))),o=o.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Xr(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i)))),n<7&&r>=7&&(o=o.next(()=>this.ti(i))),n<8&&r>=8&&(o=o.next(()=>this.ni(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.ri(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Fe});t.createIndex("collectionPathOverlayIndex",Ue,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ve,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>(function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ce});t.createIndex("documentKeyIndex",Oe),t.createIndex("collectionGroupIndex",xe)})(e)).next(()=>this.ii(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.si(e,i))),n<15&&r>=15&&(o=o.next(()=>(function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:De}).createIndex("sequenceNumberIndex",Le,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Me}).createIndex("documentKeyIndex",je,{unique:!1})})(e))),o}ei(e){let t=0;return e.store("remoteDocuments").Y((e,n)=>{t+=Eo(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next(t=>re.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next(n=>re.forEach(n,n=>{b(n.userId===t.userId);const r=Di(this.serializer,n);return So(e,t.userId,r).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.Y((n,i)=>{const o=new z(n),s=function(e){return[0,be(e)]}(o);r.push(t.get(s).next(n=>n?re.resolve():(n=>t.put({targetId:0,path:be(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>re.waitFor(r))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Ne});const n=t.store("collectionParents"),r=new ho,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:be(r)})}};return t.store("remoteDocuments").Y({J:!0},(e,t)=>{const n=new z(e);return i(n.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},(e,t)=>{let[n,r,o]=e;const s=Se(r);return i(s.popLast())}))}ri(e){const t=e.store("targets");return t.Y((e,n)=>{const r=Li(n),i=Mi(this.serializer,r);return t.put(i)})}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new W(z.fromString(e.document.name).popFirst(5)):e.noDocument?W.fromSegments(e.noDocument.path):e.unknownDocument?W.fromSegments(e.unknownDocument.path):v()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))}).next(()=>re.waitFor(r))}si(e,t){const n=t.store("mutations"),r=qo(this.serializer),i=new ss(cs.Hr,this.serializer.ct);return n.W().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Hn();Di(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),re.forEach(n,(e,n)=>{const o=new u(n),s=Wi.lt(this.serializer,o),a=i.getIndexManager(o),c=Io.lt(o,this.serializer,a,i.referenceDelegate);return new Jo(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Ke(t,me._e),e).next()})})}}function ls(e){e.createObjectStore("targetDocuments",{keyPath:Re}).createIndex("documentTargetsIndex",Pe,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ae,{unique:!0}),e.createObjectStore("targetGlobal")}const hs="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ds{constructor(e,t,n,r,i,o,s,a,c,u){let l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=c,this.ai=u,this.ui=l,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=(e=>Promise.resolve()),!ds.D())throw new E(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uo(this,r),this.Ti=t+"main",this.serializer=new xi(a),this.Ei=new oe(this.Ti,this.ui,new us(this.serializer)),this.Qr=new Ao(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qo(this.serializer),this.$r=new zi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new E(S.FAILED_PRECONDITION,hs);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new me(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=(async t=>{if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ps(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ce(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return fs(e).get("owner").next(e=>re.resolve(this.Si(e)))}bi(e){return ps(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Ge(e,"clientMetadata");return t.W().next(e=>{const n=this.vi(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return re.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?re.resolve(!0):fs(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new E(S.FAILED_PRECONDITION,hs);return!1}}return!(!this.networkEnabled||!this.inForeground)||ps(e).W().next(e=>void 0===this.vi(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&p("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new Ke(e,me._e);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Bi()}vi(e,t){return e.filter(e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>ps(e).W().next(e=>this.vi(e,18e5).map(e=>e.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return Io.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new po(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Wi.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?He:14===e?We:13===e?qe:12===e?Be:11===e?ze:void v()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,r=>(o=new Ke(r,this.kr?this.kr.next():me._e),"readwrite-primary"===t?this.gi(o).next(e=>!!e||this.pi(o)).next(t=>{if(!t)throw m("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new E(S.FAILED_PRECONDITION,ee);return n(o)}).next(e=>this.wi(o).next(()=>e)):this.ki(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}ki(e){return fs(e).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new E(S.FAILED_PRECONDITION,hs)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fs(e).put("owner",t)}static D(){return oe.D()}yi(e){const t=fs(e);return t.get("owner").next(e=>this.Si(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(m("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=(()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))}),this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=(()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Object(s.z)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())}),this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return p("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function fs(e){return Ge(e,"owner")}function ps(e){return Ge(e,"clientMetadata")}function ms(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class gs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Hn(),r=Hn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gs(e,t.fromCache,n,r)}}class ys{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vs{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Object(s.z)()?8:oe.v(Object(s.q)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Hi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ys;return this.Ji(e,t,n).next(r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)})}).next(()=>i.result)}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(d()<=o.a.DEBUG&&p("QueryEngine","SDK will not create cache indexes for query:",xn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),re.resolve()):(d()<=o.a.DEBUG&&p("QueryEngine","Query:",xn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(d()<=o.a.DEBUG&&p("QueryEngine","The SDK decides to create cache indexes for query:",xn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(t))):re.resolve())}ji(e,t){if(wn(t))return re.resolve(null);let n=En(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tn(t,null,"F"),n=En(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Hn(...r);return this.zi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Tn(t,null,"F")):this.es(e,o,t,n)}))})))}Hi(e,t,n,r){return wn(t)||r.isEqual(U.min())?re.resolve(null):this.zi.getDocuments(e,n).next(i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?re.resolve(null):(d()<=o.a.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xn(t)),this.es(e,s,t,$(r,-1)).next(e=>e))})}Zi(e,t){let n=new et(Pn(e));return t.forEach((t,r)=>{An(e,r)&&(n=n.add(r))}),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return d()<=o.a.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",xn(t)),this.zi.getDocumentsMatchingQuery(e,t,X.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class bs{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Je(L),this.rs=new Dn(e=>hn(e),dn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jo(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function ws(e,t,n,r){return new bs(e,t,n,r)}async function _s(e,t){const n=_(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Hn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({us:e,removedBatchIds:i,addedBatchIds:o}))})})}function Ss(e){const t=_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function Es(e,t,n){let r=Hn(),i=Hn();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Mn();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(U.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{cs:r,ls:i}})}function Is(e,t){const n=_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ks(e,t){const n=_(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Qr.getTargetData(e,t).next(i=>i?(r=i,re.resolve(r)):n.Qr.allocateTargetId(e).next(i=>(r=new Oi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e})}async function Ts(e,t,n){const r=_(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ce(e))throw e;p("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Cs(e,t,n){const r=_(e);let i=U.min(),o=Hn();return r.persistence.runTransaction("Execute query","readwrite",e=>(function(e,t,n){const r=_(e),i=r.rs.get(n);return void 0!==i?re.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)})(r,e,En(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:U.min(),n?o:Hn())).next(e=>(As(r,Rn(t),e),{documents:e,hs:o})))}function Os(e,t){const n=_(e),r=_(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r._t(e,t).next(e=>e?e.target:null))}function xs(e,t){const n=_(e),r=n.ss.get(t)||U.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.os.getAllFromCollectionGroup(e,t,$(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(As(n,t,e),e))}function As(e,t,n){let r=e.ss.get(t)||U.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.ss.set(t,r)}async function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hn();const r=await ks(e,En(ji(t.bundledQuery))),i=_(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const o=ii(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(st.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next(()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Qr.addMatchingKeys(e,n,r.targetId)).next(()=>i.$r.saveNamedQuery(e,t))})}function Ps(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ns(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ds(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Ls{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&((o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new E(r.error.code,r.error.message))),o?new Ls(e,t,r.state,i):(m("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ms{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&((i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new E(n.error.code,n.error.message))),i?new Ms(e,n.state,r):(m("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class js{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Gn();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=ve(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new js(e,i):(m("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Fs{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fs(t.clientId,t.onlineState):(m("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Us{constructor(){this.activeTargetIds=Gn()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vs{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Je(L),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Ps(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Us),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Ps(this.persistenceKey,n));if(e){const t=js.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ds(this.persistenceKey,e));if(n){const r=Ms.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ds(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Ls(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=me._e;if(null!=e)try{const n=JSON.parse(e);b("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==me._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map(e=>this.syncEngine.Ys(e)))}}else this.ys.push(t)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Ls(this.currentUser,e,t,n),i=Ns(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Ns(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Ds(this.persistenceKey,e),i=new Ms(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return js.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ls.Es(new u(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Ms.Es(r,t)}xs(e){return Fs.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);p("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.eo(o,s).then(()=>{this.ps=n})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Gn();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class zs{constructor(){this.no=new Us,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Us,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bs{io(e){}shutdown(){}}class qs{constructor(){this.so=(()=>this.oo()),this._o=(()=>this.ao()),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ws=null;function Hs(){return null===Ws?Ws=268435456+Math.round(2147483648*Math.random()):Ws++,"0x"+Ws.toString(16)}const Ks={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gs{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Qs="WebChannelConnection";class Ys extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Hs(),s=this.bo(e,t.toUriEncodedString());p("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then(t=>(p("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw g("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}bo(e,t){const n=Ks[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Hs();return new Promise((o,s)=>{const c=new a.h;c.setWithCredentials(!0),c.listenOnce(a.c.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case a.a.NO_ERROR:const t=c.getResponseJson();p(Qs,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case a.a.TIMEOUT:p(Qs,"RPC '".concat(e,"' ").concat(i," timed out")),s(new E(S.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:const n=c.getStatus();if(p(Qs,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",c.getResponseText()),n>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(t)>=0?t:S.UNKNOWN}(t.status);s(new E(e,t.message))}else s(new E(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else s(new E(S.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p(Qs,"RPC '".concat(e,"' ").concat(i," completed."))}});const u=JSON.stringify(r);p(Qs,"RPC '".concat(e,"' ").concat(i," sending request:"),r),c.send(t,"POST",u,n,15)})}Fo(e,t,n){const r=Hs(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Object(a.i)(),s=Object(a.j)(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const l=i.join("");p(Qs,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),c);const h=o.createWebChannel(l,c);let d=!1,f=!1;const m=new Gs({lo:t=>{f?p(Qs,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(p(Qs,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),h.open(),d=!0),p(Qs,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),h.send(t))},ho:()=>h.close()}),y=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return y(h,a.g.EventType.OPEN,()=>{f||p(Qs,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),y(h,a.g.EventType.CLOSE,()=>{f||(f=!0,p(Qs,"RPC '".concat(e,"' stream ").concat(r," transport closed")),m.Vo())}),y(h,a.g.EventType.ERROR,t=>{f||(f=!0,g(Qs,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),m.Vo(new E(S.UNAVAILABLE,"The operation could not be completed")))}),y(h,a.g.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];b(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){p(Qs,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ar[e];if(void 0!==t)return Nr(t)}(t),i=s.message;void 0===n&&(n=S.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,m.Vo(new E(n,i)),h.close()}else p(Qs,"RPC '".concat(e,"' stream ").concat(r," received:"),i),m.mo(i)}}),y(s,a.b.STAT_EVENT,t=>{t.stat===a.f.PROXY?p(Qs,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===a.f.NOPROXY&&p(Qs,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{m.Ro()},0),m}}function $s(){return"undefined"!=typeof window?window:null}function Js(){return"undefined"!=typeof document?document:null}function Xs(e){return new Zr(e,!0)}class Zs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class ea{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Zs(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===S.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)},t=>{e(()=>{const e=new E(S.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)})})}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(e=>{n(()=>this.__(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return p("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ta extends ea{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(b(void 0===t||"string"==typeof t),st.fromBase64String(t||"")):(b(void 0===t||t instanceof Uint8Array),st.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?S.UNKNOWN:Nr(e.code);return new E(t,e.message||"")}(s);n=new Hr(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ui(e,r.document.name),o=ii(r.document.updateTime),s=r.document.createTime?ii(r.document.createTime):U.min(),a=new Mt({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new qr(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ui(e,r.document),o=r.readTime?ii(r.readTime):U.min(),s=Ft.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qr([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ui(e,r.document),o=r.removedTargetIds||[];n=new qr([],o,i,null)}else{if(!("filter"in t))return v();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new xr(r,i),s=e.targetId;n=new Wr(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return U.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?U.min():t.readTime?ii(t.readTime):U.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=di(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if((n=fn(r)?{documents:vi(e,r)}:{query:bi(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ni(e,t.resumeToken);const r=ei(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(U.min())>0){n.readTime=ti(e,t.snapshotVersion.toTimestamp());const r=ei(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=di(this.serializer),t.removeTarget=e,this.t_(t)}}class na extends ea{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(b(void 0!==t),e.map(e=>(function(e,t){let n=e.updateTime?ii(e.updateTime):ii(t);return n.isEqual(U.min())&&(n=ii(t)),new lr(n,e.transformResults||[])})(e,t))):[]}(e.writeResults,e.commitTime),n=ii(e.commitTime);return this.listener.T_(n,t)}return b(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=di(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gi(this.serializer,e))};this.t_(t)}}class ra extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new E(S.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.So(e,si(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new E(S.UNKNOWN,e.toString())})}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.vo(e,si(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new E(S.UNKNOWN,e.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class ia{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(m(t),this.g_=!1):p("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class oa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(e=>{n.enqueueAndForget(async()=>{pa(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=_(e);t.v_.add(4),await aa(t),t.x_.set("Unknown"),t.v_.delete(4),await sa(t)}(this))})}),this.x_=new ia(n,r)}}async function sa(e){if(pa(e))for(const t of e.F_)await t(!0)}async function aa(e){for(const t of e.F_)await t(!1)}function ca(e,t){const n=_(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),fa(n)?da(n):Pa(n).Jo()&&la(n,t))}function ua(e,t){const n=_(e),r=Pa(n);n.C_.delete(t),r.Jo()&&ha(n,t),0===n.C_.size&&(r.Jo()?r.Xo():pa(n)&&n.x_.set("Unknown"))}function la(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(U.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Pa(e).c_(t)}function ha(e,t){e.O_.Oe(t),Pa(e).l_(t)}function da(e){e.O_=new Gr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Pa(e).start(),e.x_.p_()}function fa(e){return pa(e)&&!Pa(e).Ho()&&e.C_.size>0}function pa(e){return 0===_(e).v_.size}function ma(e){e.O_=void 0}async function ga(e){e.C_.forEach((t,n)=>{la(e,t)})}async function ya(e,t){ma(e),fa(e)?(e.x_.S_(t),da(e)):e.x_.set("Unknown")}async function va(e,t,n){if(e.x_.set("Online"),t instanceof Hr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ba(e,n)}else if(t instanceof qr?e.O_.$e(t):t instanceof Wr?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(U.min()))try{const r=await Ss(e.localStore);n.compareTo(r)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(st.EMPTY_BYTE_STRING,r.snapshotVersion)),ha(e,t);const i=new Oi(r.target,t,n,r.sequenceNumber);la(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await ba(e,t)}}async function ba(e,t,n){if(!ce(t))throw t;e.v_.add(1),await aa(e),e.x_.set("Offline"),n||(n=(()=>Ss(e.localStore))),e.asyncQueue.enqueueRetryable(async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await sa(e)})}function wa(e,t){return t().catch(n=>ba(e,n,t))}async function _a(e){const t=_(e),n=Na(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Sa(t);)try{const i=await Is(t.localStore,r);if(null===i){0===t.D_.length&&n.Xo();break}r=i.batchId,Ea(t,i)}catch(e){await ba(t,e)}Ia(t)&&ka(t)}function Sa(e){return pa(e)&&e.D_.length<10}function Ea(e,t){e.D_.push(t);const n=Na(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Ia(e){return pa(e)&&!Na(e).Ho()&&e.D_.length>0}function ka(e){Na(e).start()}async function Ta(e){Na(e).d_()}async function Ca(e){const t=Na(e);for(const n of e.D_)t.I_(n.mutations)}async function Oa(e,t,n){const r=e.D_.shift(),i=Cr.from(r,t,n);await wa(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _a(e)}async function xa(e,t){t&&Na(e).P_&&await async function(e,t){if(function(e){return Pr(e)&&e!==S.ABORTED}(t.code)){const n=e.D_.shift();Na(e).Zo(),await wa(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _a(e)}}(e,t),Ia(e)&&ka(e)}async function Aa(e,t){const n=_(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=pa(n);n.v_.add(3),await aa(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await sa(n)}async function Ra(e,t){const n=_(e);t?(n.v_.delete(2),await sa(n)):t||(n.v_.add(2),await aa(n),n.x_.set("Unknown"))}function Pa(e){return e.N_||(e.N_=function(e,t,n){const r=_(e);return r.R_(),new ta(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ga.bind(null,e),To:ya.bind(null,e),u_:va.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),fa(e)?da(e):e.x_.set("Unknown")):(await e.N_.stop(),ma(e))})),e.N_}function Na(e){return e.B_||(e.B_=function(e,t,n){const r=_(e);return r.R_(),new na(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Ta.bind(null,e),To:xa.bind(null,e),E_:Ca.bind(null,e),T_:Oa.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await _a(e)):(await e.B_.stop(),e.D_.length>0&&(p("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))})),e.B_}class Da{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Da(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function La(e,t){if(m("AsyncQueue","".concat(t,": ").concat(e)),ce(e))return new E(S.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ma{constructor(e){this.comparator=e?(t,n)=>e(t,n)||W.comparator(t.key,n.key):(e,t)=>W.comparator(e.key,t.key),this.keyedMap=Fn(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ma(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ma))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ma;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ja{constructor(){this.L_=new Je(W.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):v():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Fa{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Fa(e,t,Ma.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ua{constructor(){this.q_=void 0,this.Q_=[]}}class Va{constructor(){this.queries=new Dn(e=>On(e),Cn),this.onlineState="Unknown",this.K_=new Set}}async function za(e,t){const n=_(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ua),i)try{o.q_=await n.onListen(r)}catch(e){const n=La(e,"Initialization of query '".concat(xn(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&qa(n)}async function Ba(e,t){const n=_(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function qa(e){e.K_.forEach(e=>{e.next()})}class Wa{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Fa(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Ha{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class Ka{constructor(e){this.serializer=e}Ps(e){return ui(this.serializer,e)}Is(e){return e.metadata.exists?mi(this.serializer,e.document,!1):Ft.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ii(e)}}class Ga{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qa(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=z.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new Ka(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Hn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=_(e);let o=Hn(),s=Mn();for(const u of n){const e=t.Ps(u.metadata.name);u.document&&(o=o.add(e));const n=t.Is(u);n.setReadTime(t.Ts(u.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await ks(i,function(e){return En(bn(z.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Es(e,a,s).next(t=>(a.apply(e),t)).next(t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.Qr.addMatchingKeys(e,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)).next(()=>t.cs)))}(this.localStore,new Ka(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Rs(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function Qa(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ya{constructor(e){this.key=e}}class $a{constructor(e){this.key=e}}class Ja{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Hn(),this.mutatedKeys=Hn(),this.ua=Pn(e),this.ca=new Ma(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new ja,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=An(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ia(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.ua(l,a)>0||c&&this.ua(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((e,t)=>(function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)})(e.type,t.type)||this.ua(e.doc,t.doc)),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,c=a!==this._a;return this._a=a,0!==o.length||c?{snapshot:new Fa(this.query,e.ca,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ja,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(e=>this.oa=this.oa.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.oa=this.oa.delete(e)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Hn(),this.ca.forEach(e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))});const t=[];return e.forEach(e=>{this.aa.has(e)||t.push(new $a(e))}),this.aa.forEach(n=>{e.has(n)||t.push(new Ya(n))}),t}Ra(e){this.oa=e.hs,this.aa=Hn();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Fa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Xa{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Za{constructor(e){this.key=e,this.ma=!1}}class ec{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Dn(e=>On(e),Cn),this.pa=new Map,this.ya=new Set,this.wa=new Je(W.comparator),this.Sa=new Map,this.ba=new es,this.Da={},this.Ca=new Map,this.va=xo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function tc(e,t,n,r,i){e.Ma=((t,n,r)=>(async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Cs(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ha(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return uc(e,t.targetId,a.da),a.snapshot})(e,t,n,r));const o=await Cs(e.localStore,t,!0),s=new Ja(t,o.hs),a=s.ha(o.documents),c=Br.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,c);uc(e,n,u.da);const l=new Xa(t,n,s);return e.ga.set(t,l),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function nc(e,t){const n=_(e);try{const r=await function(e,t){const n=_(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a)));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(st.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&s.push(n.Qr.updateTargetData(e,u))});let a=Mn(),c=Hn();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Es(e,o,t.documentUpdates).next(e=>{a=e.cs,c=e.ls})),!r.isEqual(U.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next(t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return re.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>(n.ns=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Sa.get(t);r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?b(r.ma):e.removedDocuments.size>0&&(b(r.ma),r.ma=!1))}),await dc(n,r,t)}catch(e){await ne(e)}}function rc(e,t,n){const r=_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=_(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)}),r&&qa(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ic(e,t){const n=_(e),r=t.batch.batchId;try{const i=await function(e,t){const n=_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=re.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);b(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);sc(n,r,null),oc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,i)}catch(e){await ne(e)}}function oc(e,t){(e.Ca.get(t)||[]).forEach(e=>{e.resolve()}),e.Ca.delete(t)}function sc(e,t,n){const r=_(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function ac(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(t=>{e.ba.containsKey(t)||cc(e,t)})}function cc(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(ua(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),hc(e))}function uc(e,t,n){for(const r of n)r instanceof Ya?(e.ba.addReference(r.key,t),lc(e,r)):r instanceof $a?(p("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||cc(e,r.key)):v()}function lc(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(p("SyncEngine","New document in limbo: "+n),e.ya.add(r),hc(e))}function hc(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new W(z.fromString(t)),r=e.va.next();e.Sa.set(r,new Za(n)),e.wa=e.wa.insert(n,r),ca(e.remoteStore,new Oi(En(bn(n.path)),r,"TargetPurposeLimboResolution",me._e))}}async function dc(e,t,n){const r=_(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((e,a)=>{s.push(r.Ma(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=gs.Ki(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>re.forEach(t,t=>re.forEach(t.qi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>re.forEach(t.Qi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ce(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function fc(e,t){const n=_(e),r=await Cs(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&uc(n,t.targetId,i.da),i}async function pc(e,t){const n=_(e);return xs(n.localStore,t).then(e=>dc(n,e))}async function mc(e,t,n,r){const i=_(e),o=await function(e,t){const n=_(e),r=_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.vn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):re.resolve(null)))}(i.localStore,t);null!==o?("pending"===n?await _a(i.remoteStore):"acknowledged"===n||"rejected"===n?(sc(i,t,r||null),oc(i,t),function(e,t){_(_(e).mutationQueue).Mn(t)}(i.localStore,t)):v(),await dc(i,o)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function gc(e,t,n){const r=_(e),i=[],o=[];for(const s of t){let e;const t=r.pa.get(s);if(t&&0!==t.length){e=await ks(r.localStore,En(t[0]));for(const e of t){const t=r.ga.get(e),n=await fc(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Os(r.localStore,s);e=await ks(r.localStore,t),await tc(r,yc(t),s,!1,e.resumeToken)}i.push(e)}return r.fa.u_(o),i}function yc(e){return vn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vc(e){return function(e){return _(_(e).persistence).Li()}(_(e).localStore)}async function bc(e,t,n,r){const i=_(e);if(i.Fa)return void p("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await xs(i.localStore,Rn(o[0])),r=zr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,st.EMPTY_BYTE_STRING);await dc(i,e,r);break}case"rejected":await Ts(i.localStore,t,!0),ac(i,t,r);break;default:v()}}async function wc(e,t,n){const r=_c(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await Os(r.localStore,e),n=await ks(r.localStore,t);await tc(r,yc(t),n.targetId,!1,n.resumeToken),ca(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Ts(r.localStore,e,!1).then(()=>{ua(r.remoteStore,e),ac(r,e)}).catch(ne)}}function _c(e){const t=_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){const n=_(e),r=n.Sa.get(t);if(r&&r.ma)return Hn().add(r.key);{let e=Hn();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=async function(e,t,n){const r=_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new Je(W.comparator);e=e.insert(o,Ft.newNoDocument(o,U.min()));const n=Hn().add(o),i=new zr(U.min(),new Map,new Je(L),e,n);await nc(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),hc(r)}else await Ts(r.localStore,t,!1).then(()=>ac(r,t,n)).catch(ne)}.bind(null,t),t.fa.u_=function(e,t){const n=_(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&qa(n)}.bind(null,t.eventManager),t.fa.xa=function(e,t,n){const r=_(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}.bind(null,t.eventManager),t}function Sc(e){const t=_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ic.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=async function(e,t,n){const r=_(e);try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(b(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);sc(r,t,n),oc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dc(r,e)}catch(n){await ne(n)}}.bind(null,t),t}class Ec{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xs(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ws(this.persistence,new vs,e.initialUser,this.serializer)}createPersistence(e){return new ss(cs.Hr,this.serializer)}createSharedClientState(e){return new zs}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ic extends Ec{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await Sc(this.Na.syncEngine),await _a(this.Na.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return ws(this.persistence,new vs,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Mo(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new pe(t,this.persistence);return new fe(e.asyncQueue,n)}createPersistence(e){const t=ms(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new ds(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$s(),Js(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new zs}}class kc extends Ic{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Vs&&(this.sharedClientState.syncEngine={Zs:mc.bind(null,t),Xs:bc.bind(null,t),eo:wc.bind(null,t),Li:vc.bind(null,t),Ys:pc.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi(async e=>{await async function(e,t){const n=_(e);if(_c(n),Sc(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await gc(n,e.toArray());n.Fa=!0,await Ra(n.remoteStore,!0);for(const r of t)ca(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(ac(n,i),Ts(n.localStore,i,!0))),ua(n.remoteStore,i)}),await t,await gc(n,e),function(e){const t=_(e);t.Sa.forEach((e,n)=>{ua(t.remoteStore,n)}),t.ba.mr(),t.Sa=new Map,t.wa=new Je(W.comparator)}(n),n.Fa=!1,await Ra(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const t=$s();if(!Vs.D(t))throw new E(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ms(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vs(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Tc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=(e=>rc(this.syncEngine,e,1)),this.remoteStore.remoteSyncer.handleCredentialChange=async function(e,t){const n=_(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await _s(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach(e=>{e.forEach(e=>{e.reject(new E(S.CANCELLED,t))})}),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dc(n,e.us)}}.bind(null,this.syncEngine),await Ra(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Va}createDatastore(e){const t=Xs(e.databaseInfo.databaseId),n=function(e){return new Ys(e)}(e.databaseInfo);return function(e,t,n,r){return new ra(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new oa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>rc(this.syncEngine,e,0),qs.D()?new qs:new Bs)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new ec(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=_(e);p("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await aa(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Cc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Oc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):m("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xc{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new I,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))},e=>this.metadata.reject(e))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new Ha(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ac{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new E(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=_(e),r={documents:t.map(e=>ci(n.serializer,e))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,z.emptyPath(),r,t.length),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){b(!!t.found),t.found.name,t.found.updateTime;const n=ui(e,t.found.name),r=ii(t.found.updateTime),i=t.found.createTime?ii(t.found.createTime):U.min(),o=new Mt({mapValue:{fields:t.found.fields}});return Ft.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){b(!!t.missing),b(!!t.readTime);const n=ui(e,t.missing),r=ii(t.readTime);return Ft.newNoDocument(n,r)}(e,t):v()}(n.serializer,e);o.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=o.get(e.toString());b(!!t),s.push(t)}),s}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ir(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=W.fromPath(t);this.mutations.push(new kr(n,this.precondition(n)))}),await async function(e,t){const n=_(e),r={writes:t.map(e=>gi(n.serializer,e))};await n.So("Commit",n.serializer.databaseId,z.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=U.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new E(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(U.min())?hr.exists(!1):hr.updateTime(t):hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(U.min()))throw new E(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(t)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rc{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new Zs(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo(async()=>{const e=new Ac(this.datastore),t=this.Ja(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Ya(e)}))}).catch(e=>{this.Ya(e)})})}Ja(e){try{const t=this.updateFunction(e);return!ge(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pr(t)}return!1}}class Pc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=u.UNAUTHENTICATED,this.clientId=D.newId(),this.authCredentialListener=(()=>Promise.resolve()),this.appCheckCredentialListener=(()=>Promise.resolve()),this.authCredentials.start(n,async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=La(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nc(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await _s(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Dc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mc(e);p("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Aa(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Aa(t.remoteStore,n)),e._onlineComponents=t}function Lc(e){return"FirebaseError"===e.name?e.code===S.FAILED_PRECONDITION||e.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Mc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){p("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Lc(n))throw n;g("Error using user provided cache. Falling back to memory cache: "+n),await Nc(e,new Ec)}}else p("FirestoreClient","Using default OfflineComponentProvider"),await Nc(e,new Ec);return e._offlineComponents}async function jc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(p("FirestoreClient","Using user provided OnlineComponentProvider"),await Dc(e,e._uninitializedComponentsProvider._online)):(p("FirestoreClient","Using default OnlineComponentProvider"),await Dc(e,new Tc))),e._onlineComponents}function Fc(e){return Mc(e).then(e=>e.persistence)}function Uc(e){return Mc(e).then(e=>e.localStore)}function Vc(e){return jc(e).then(e=>e.remoteStore)}function zc(e){return jc(e).then(e=>e.syncEngine)}function Bc(e){return jc(e).then(e=>e.datastore)}async function qc(e){const t=await jc(e),n=t.eventManager;return n.onListen=async function(e,t){const n=_c(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await ks(n.localStore,En(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await tc(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&ca(n.remoteStore,e)}return i}.bind(null,t.syncEngine),n.onUnlisten=async function(e,t){const n=_(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(e=>!Cn(e,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ts(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ua(n.remoteStore,r.targetId),ac(n,r.targetId)}).catch(ne)):(ac(n,r.targetId),await Ts(n.localStore,r.targetId,!0))}.bind(null,t.syncEngine),n}function Wc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new I;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){const o=new Oc({next:o=>{t.enqueueAndForget(()=>Ba(e,s));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new E(S.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new E(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Wa(bn(n.path),o,{includeMetadataChanges:!0,Z_:!0});return za(e,s)})(await qc(e),e.asyncQueue,t,n,r)),r.promise}function Hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new I;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){const o=new Oc({next:n=>{t.enqueueAndForget(()=>Ba(e,s)),n.fromCache&&"server"===r.source?i.reject(new E(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Wa(n,o,{includeMetadataChanges:!0,Z_:!0});return za(e,s)})(await qc(e),e.asyncQueue,t,n,r)),r.promise}function Kc(e,t,n,r){const i=function(e,t){let n;return function(e,t){return new xc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Cc(e,t);if(e instanceof ArrayBuffer)return Cc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n="string"==typeof e?Lr().encode(e):e),t)}(n,Xs(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=_(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=_(e),r=ii(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.$r.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Qa(r));const i=new Ga(r,e.localStore,t.serializer);let o=await t.Oa();for(;o;){const e=await i.na(o);e&&n._updateProgress(e),o=await t.Oa()}const s=await i.complete();return await dc(e,s.sa,void 0),await function(e,t){const n=_(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.$r.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ia)}catch(e){return g("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(await zc(e),i,r)})}function Gc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qc=new Map;function Yc(e,t,n){if(!n)throw new E(S.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $c(e,t,n,r){if(!0===t&&!0===r)throw new E(S.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Jc(e){if(!W.isDocumentKey(e))throw new E(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xc(e){if(W.isDocumentKey(e))throw new E(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":v()}function eu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new E(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zc(e);throw new E(S.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function tu(e,t){if(t<=0)throw new E(S.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class nu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new E(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$c("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new E(S.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new E(S.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new E(S.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ru{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new T;switch(e.type){case"firstParty":return new A(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new E(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qc.get(e);t&&(p("ComponentProvider","Removing Datastore"),Qc.delete(e),t.terminate())}(this),Promise.resolve()}}function iu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=eu(e,ru))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&g("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=u.MOCK_USER;else{t=Object(s.g)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new E(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new u(o)}e._authCredentials=new C(new k(t,n))}}class ou{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class su{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new su(this.firestore,e,this._key)}}class au extends ou{constructor(e,t,n){super(e,t,bn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new su(this.firestore,null,new W(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function cu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(s.p)(e),Yc("collection","path",t),e instanceof ru){const n=z.fromString(t,...r);return Xc(n),new au(e,null,n)}{if(!(e instanceof su||e instanceof au))throw new E(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(z.fromString(t,...r));return Xc(n),new au(e.firestore,null,n)}}function uu(e,t){if(e=eu(e,ru),Yc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new E(S.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ou(e,null,function(e){return new yn(z.emptyPath(),e)}(t))}function lu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(s.p)(e),1===arguments.length&&(t=D.newId()),Yc("doc","path",t),e instanceof ru){const n=z.fromString(t,...r);return Jc(n),new su(e,null,new W(n))}{if(!(e instanceof su||e instanceof au))throw new E(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(z.fromString(t,...r));return Jc(n),new su(e.firestore,e instanceof au?e.converter:null,new W(n))}}function hu(e,t){return e=Object(s.p)(e),t=Object(s.p)(t),(e instanceof su||e instanceof au)&&(t instanceof su||t instanceof au)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function du(e,t){return e=Object(s.p)(e),t=Object(s.p)(t),e instanceof ou&&t instanceof ou&&e.firestore===t.firestore&&Cn(e._query,t._query)&&e.converter===t.converter}class fu{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Zs(this,"async_queue_retry"),this._u=(()=>{const e=Js();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()});const e=Js();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Js();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const t=new I;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ce(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const t=this.Xa.then(()=>(this.iu=!0,e().catch(e=>{throw this.ru=e,this.iu=!1,m("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.iu=!1,e))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Da.createAndSchedule(this,e,t,n,e=>this.lu(e));return this.nu.push(r),r}au(){this.ru&&v()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function pu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class mu{constructor(){this._progressObserver={},this._taskCompletionResolver=new I,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const gu=-1;class yu extends ru{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bu(this),this._firestoreClient.terminate()}}function vu(e){return e._firestoreClient||bu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bu(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new pt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Pc(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function wu(e,t){xu(e=eu(e,yu));const n=vu(e);if(n._uninitializedComponentsProvider)throw new E(S.FAILED_PRECONDITION,"SDK cache is already specified.");g("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Tc;return Su(n,i,new Ic(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function _u(e){xu(e=eu(e,yu));const t=vu(e);if(t._uninitializedComponentsProvider)throw new E(S.FAILED_PRECONDITION,"SDK cache is already specified.");g("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Tc;return Su(t,r,new kc(r,n.cacheSizeBytes))}function Su(e,t,n){const r=new I;return e.asyncQueue.enqueue(async()=>{try{await Nc(e,n),await Dc(e,t),r.resolve()}catch(e){const n=e;if(!Lc(n))throw n;g("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}}).then(()=>r.promise)}function Eu(e){if(e._initialized&&!e._terminated)throw new E(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new I;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!oe.D())return Promise.resolve();const t=e+"main";await oe.delete(t)}(ms(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function Iu(e){return function(e){const t=new I;return e.asyncQueue.enqueueAndForget(async()=>(async function(e,t){const n=_(e);pa(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(e){const t=_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===r)return void t.resolve();const i=n.Ca.get(r)||[];i.push(t),n.Ca.set(r,i)}catch(e){const n=La(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})(await zc(e),t)),t.promise}(vu(e=eu(e,yu)))}function ku(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Fc(e),n=await Vc(e);return t.setNetworkEnabled(!0),function(e){const t=_(e);return t.v_.delete(0),sa(t)}(n)})}(vu(e=eu(e,yu)))}function Tu(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Fc(e),n=await Vc(e);return t.setNetworkEnabled(!1),async function(e){const t=_(e);t.v_.add(0),await aa(t),t.x_.set("Offline")}(n)})}(vu(e=eu(e,yu)))}function Cu(e,t){const n=vu(e=eu(e,yu)),r=new mu;return Kc(n,e._databaseId,t,r),r}function Ou(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>(function(e,t){const n=_(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.$r.getNamedQuery(e,t))})(await Uc(e),t))}(vu(e=eu(e,yu)),t).then(t=>t?new ou(e,null,t.query):null)}function xu(e){if(e._initialized||e._terminated)throw new E(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(st.fromBase64String(e))}catch(e){throw new E(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Au(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new E(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new q(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pu{constructor(e){this._methodName=e}}class Nu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new E(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new E(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return L(this._lat,e._lat)||L(this._long,e._long)}}const Du=/^__.*__$/;class Lu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wr(e,this.data,this.fieldMask,t,this.fieldTransforms):new br(e,this.data,t,this.fieldTransforms)}}class Mu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ju(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class Fu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Fu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return il(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ju(this.du)&&Du.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Uu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Xs(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fu({du:e,methodName:t,wu:n,path:q.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vu(e){const t=e._freezeSettings(),n=Xs(e._databaseId);return new Uu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zu(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);el("Data must be an object, but it was:",s,r);const a=Xu(r,s);let c,u;if(o.merge)c=new rt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=tl(t,r,n);if(!s.contains(i))throw new E(S.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ol(e,i)||e.push(i)}c=new rt(e),u=s.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=s.fieldTransforms;return new Lu(new Mt(a),c,u)}class Bu extends Pu{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bu}}function qu(e,t,n){return new Fu({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Wu extends Pu{_toFieldTransform(e){return new ur(e.path,new tr)}isEqual(e){return e instanceof Wu}}class Hu extends Pu{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=qu(this,e,!0),n=this.bu.map(e=>Ju(e,t)),r=new nr(n);return new ur(e.path,r)}isEqual(e){return e instanceof Hu&&Object(s.i)(this.bu,e.bu)}}class Ku extends Pu{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=qu(this,e,!0),n=this.bu.map(e=>Ju(e,t)),r=new ir(n);return new ur(e.path,r)}isEqual(e){return e instanceof Ku&&Object(s.i)(this.bu,e.bu)}}class Gu extends Pu{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new sr(e.serializer,$n(e.serializer,this.Du));return new ur(e.path,t)}isEqual(e){return e instanceof Gu&&this.Du===e.Du}}function Qu(e,t,n,r){const i=e.Su(1,t,n);el("Data must be an object, but it was:",i,r);const o=[],a=Mt.empty();Ye(r,(e,r)=>{const c=rl(t,e,n);r=Object(s.p)(r);const u=i.fu(c);if(r instanceof Bu)o.push(c);else{const e=Ju(r,u);null!=e&&(o.push(c),a.set(c,e))}});const c=new rt(o);return new Mu(a,c,i.fieldTransforms)}function Yu(e,t,n,r,i,o){const a=e.Su(1,t,n),c=[tl(t,r,n)],u=[i];if(o.length%2!=0)throw new E(S.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let s=0;s<o.length;s+=2)c.push(tl(t,o[s])),u.push(o[s+1]);const l=[],h=Mt.empty();for(let f=c.length-1;f>=0;--f)if(!ol(l,c[f])){const e=c[f];let t=u[f];t=Object(s.p)(t);const n=a.fu(e);if(t instanceof Bu)l.push(e);else{const r=Ju(t,n);null!=r&&(l.push(e),h.set(e,r))}}const d=new rt(l);return new Mu(h,d,a.fieldTransforms)}function $u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ju(n,e.Su(r?4:3,t))}function Ju(e,t){if(Zu(e=Object(s.p)(e)))return el("Unsupported field value:",t,e),Xu(e,t);if(e instanceof Pu)return function(e,t){if(!ju(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ju(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(s.p)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $n(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:ti(t.serializer,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ti(t.serializer,n)}}if(e instanceof Nu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Au)return{bytesValue:ni(t.serializer,e._byteString)};if(e instanceof su){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:oi(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Zc(e)))}(e,t)}function Xu(e,t){const n={};return $e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ye(e,(e,r)=>{const i=Ju(r,t.Ru(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Zu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof Nu||e instanceof Au||e instanceof su||e instanceof Pu)}function el(e,t,n){if(!Zu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Zc(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function tl(e,t,n){if((t=Object(s.p)(t))instanceof Ru)return t._internalPath;if("string"==typeof t)return rl(e,t);throw il("Field path arguments must be of type string or ",e,!1,void 0,n)}const nl=new RegExp("[~\\*/\\[\\]]");function rl(e,t,n){if(t.search(nl)>=0)throw il("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ru(...t.split("."))._internalPath}catch(r){throw il("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function il(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new E(S.INVALID_ARGUMENT,a+e+c)}function ol(e,t){return e.some(e=>e.isEqual(t))}class sl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new su(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new al(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class al extends sl{data(){return super.data()}}function cl(e,t){return"string"==typeof t?rl(e,t):t instanceof Ru?t._internalPath:t._delegate._internalPath}function ul(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new E(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ll{}class hl extends ll{}function dl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof ll&&n.push(t),function(e){const t=e.filter(e=>e instanceof ml).length,n=e.filter(e=>e instanceof fl).length;if(t>1||t>0&&n>0)throw new E(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));for(const s of n)e=s._apply(e);return e}class fl extends hl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fl(e,t,n)}_apply(e){const t=this._parse(e);return Al(e._query,t),new ou(e.firestore,e.converter,kn(e._query,t))}_parse(e){const t=Vu(e.firestore);return function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new E(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){xl(s,o);const t=[];for(const n of s)t.push(Ol(r,e,n));a={arrayValue:{values:t}}}else a=Ol(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xl(s,o),a=$u(n,t,s,"in"===o||"not-in"===o);return Ht.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pl(e,t,n){const r=t,i=cl("where",e);return fl._create(i,r,n)}class ml extends ll{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ml(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Kt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Al(n,i),n=kn(n,i)}(e._query,t),new ou(e.firestore,e.converter,kn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gl extends hl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new E(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new E(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bt(t,n)}(e._query,this._field,this._direction);return new ou(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new yn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cl("orderBy",e);return gl._create(n,t)}class vl extends hl{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new vl(e,t,n)}_apply(e){return new ou(e.firestore,e.converter,Tn(e._query,this._limit,this._limitType))}}function bl(e){return tu("limit",e),vl._create("limit",e,"F")}function wl(e){return tu("limitToLast",e),vl._create("limitToLast",e,"L")}class _l extends hl{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _l(e,t,n)}_apply(e){const t=Cl(e,this.type,this._docOrFields,this._inclusive);return new ou(e.firestore,e.converter,function(e,t){return new yn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Sl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _l._create("startAt",t,!0)}function El(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _l._create("startAfter",t,!1)}class Il extends hl{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Il(e,t,n)}_apply(e){const t=Cl(e,this.type,this._docOrFields,this._inclusive);return new ou(e.firestore,e.converter,function(e,t){return new yn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Il._create("endBefore",t,!1)}function Tl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Il._create("endAt",t,!0)}function Cl(e,t,n,r){if(n[0]=Object(s.p)(n[0]),n[0]instanceof sl)return function(e,t,n,r,i){if(!r)throw new E(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Sn(e))if(s.field.isKeyField())o.push(It(t,r.key));else{const e=r.data.field(s.field);if(ht(e))throw new E(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new E(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Ut(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Vu(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new E(S.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new E(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!_n(e)&&-1!==o.indexOf("/"))throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(z.fromString(o));if(!W.isDocumentKey(n))throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new W(n);a.push(It(t,i))}else{const e=$u(n,r,o);a.push(e)}}return new Ut(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ol(e,t,n){if("string"==typeof(n=Object(s.p)(n))){if(""===n)throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_n(t)&&-1!==n.indexOf("/"))throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(z.fromString(n));if(!W.isDocumentKey(r))throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return It(e,new W(r))}if(n instanceof su)return It(e,n._key);throw new E(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zc(n),"."))}function xl(e,t){if(!Array.isArray(e)||0===e.length)throw new E(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Al(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new E(S.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new E(S.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Rl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ye(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Nu(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=dt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ft(e));default:return null}}convertTimestamp(e){const t=ct(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=z.fromString(e);b(Ci(n));const r=new mt(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||m("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Pl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class Nl extends Rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new su(this.firestore,null,t)}}class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends sl{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(cl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ml extends Ll{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class jl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ml(this._firestore,this._userDataWriter,n.key,n,new Dl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new E(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ml(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Dl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ml(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(o=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:Fl(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function Ul(e,t){return e instanceof Ll&&t instanceof Ll?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jl&&t instanceof jl&&e._firestore===t._firestore&&du(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Vl(e){e=eu(e,su);const t=eu(e.firestore,yu);return Wc(vu(t),e._key).then(n=>eh(t,e,n))}class zl extends Rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new su(this.firestore,null,t)}}function Bl(e){e=eu(e,su);const t=eu(e.firestore,yu),n=vu(t),r=new zl(t);return function(e,t){const n=new I;return e.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){try{const r=await function(e,t){const n=_(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new E(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=La(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}})(await Uc(e),t,n)),n.promise}(n,e._key).then(n=>new Ll(t,r,e._key,n,new Dl(null!==n&&n.hasLocalMutations,!0),e.converter))}function ql(e){e=eu(e,su);const t=eu(e.firestore,yu);return Wc(vu(t),e._key,{source:"server"}).then(n=>eh(t,e,n))}function Wl(e){e=eu(e,ou);const t=eu(e.firestore,yu),n=vu(t),r=new zl(t);return ul(e._query),Hc(n,e._query).then(n=>new jl(t,r,e,n))}function Hl(e){e=eu(e,ou);const t=eu(e.firestore,yu),n=vu(t),r=new zl(t);return function(e,t){const n=new I;return e.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){try{const r=await Cs(e,t,!0),i=new Ja(t,r.hs),o=i.ha(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=La(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}})(await Uc(e),t,n)),n.promise}(n,e._query).then(n=>new jl(t,r,e,n))}function Kl(e){e=eu(e,ou);const t=eu(e.firestore,yu),n=vu(t),r=new zl(t);return Hc(n,e._query,{source:"server"}).then(n=>new jl(t,r,e,n))}function Gl(e,t,n){e=eu(e,su);const r=eu(e.firestore,yu),i=Pl(e.converter,t,n);return Zl(r,[zu(Vu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hr.none())])}function Ql(e,t,n){e=eu(e,su);const r=eu(e.firestore,yu),i=Vu(r);let o;for(var a=arguments.length,c=new Array(a>3?a-3:0),u=3;u<a;u++)c[u-3]=arguments[u];return Zl(r,[(o="string"==typeof(t=Object(s.p)(t))||t instanceof Ru?Yu(i,"updateDoc",e._key,t,n,c):Qu(i,"updateDoc",e._key,t)).toMutation(e._key,hr.exists(!0))])}function Yl(e){return Zl(eu(e.firestore,yu),[new Ir(e._key,hr.none())])}function $l(e,t){const n=eu(e.firestore,yu),r=lu(e),i=Pl(e.converter,t);return Zl(n,[zu(Vu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Jl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Object(s.p)(e);let c={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||pu(n[u])||(c=n[u],u++);const l={includeMetadataChanges:c.includeMetadataChanges};if(pu(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[u+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,d,f;if(e instanceof su)d=eu(e.firestore,yu),f=bn(e._key.path),h={next:t=>{n[u]&&n[u](eh(d,e,t))},error:n[u+1],complete:n[u+2]};else{const t=eu(e,ou);d=eu(t.firestore,yu),f=t._query;const r=new zl(d);h={next:e=>{n[u]&&n[u](new jl(d,r,t,e))},error:n[u+1],complete:n[u+2]},ul(e._query)}return function(e,t,n,r){const i=new Oc(r),o=new Wa(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>za(await qc(e),o)),()=>{i.La(),e.asyncQueue.enqueueAndForget(async()=>Ba(await qc(e),o))}}(vu(d),f,l,h)}function Xl(e,t){return function(e,t){const n=new Oc(t);return e.asyncQueue.enqueueAndForget(async()=>(function(e,t){_(e).K_.add(t),t.next()})(await qc(e),n)),()=>{n.La(),e.asyncQueue.enqueueAndForget(async()=>(function(e,t){_(e).K_.delete(t)})(await qc(e),n))}}(vu(e=eu(e,yu)),pu(t)?t:{next:t})}function Zl(e,t){return function(e,t){const n=new I;return e.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){const r=Sc(e);try{const i=await function(e,t){const n=_(e),r=F.now(),i=t.reduce((e,t)=>e.add(t.key),Hn());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Mn(),c=Hn();return n.os.getEntries(e,i).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=yr(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new wr(e.key,t,jt(t.value.mapValue),hr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Un(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Je(L)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,i.batchId,n),await dc(r,i.changes),await _a(r.remoteStore)}catch(e){const t=La(e,"Failed to persist write");n.reject(t)}})(await zc(e),t,n)),n.promise}(vu(e),t)}function eh(e,t,n){const r=n.docs.get(t._key),i=new zl(e);return new Ll(e,i,t._key,r,new Dl(n.hasPendingWrites,n.fromCache),t.converter)}const th={maxAttempts:5};class nh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vu(e)}set(e,t,n){this._verifyNotCommitted();const r=rh(e,this._firestore),i=Pl(r.converter,t,n),o=zu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,hr.none())),this}update(e,t,n){this._verifyNotCommitted();const r=rh(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return i="string"==typeof(t=Object(s.p)(t))||t instanceof Ru?Yu(this._dataReader,"WriteBatch.update",r._key,t,n,a):Qu(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rh(e,this._firestore);return this._mutations=this._mutations.concat(new Ir(t._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new E(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rh(e,t){if((e=Object(s.p)(e)).firestore!==t)throw new E(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ih extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vu(e)}get(e){const t=rh(e,this._firestore),n=new Nl(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return v();const r=e[0];if(r.isFoundDocument())return new sl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new sl(this._firestore,n,t._key,null,t.converter);throw v()})}set(e,t,n){const r=rh(e,this._firestore),i=Pl(r.converter,t,n),o=zu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=rh(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return i="string"==typeof(t=Object(s.p)(t))||t instanceof Ru?Yu(this._dataReader,"Transaction.update",r._key,t,n,a):Qu(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rh(e,this._firestore),n=new zl(this._firestore);return super.get(e).then(e=>new Ll(this._firestore,n,t._key,e._document,new Dl(!1,!1),t.converter))}}function oh(e,t,n){e=eu(e,yu);const r=Object.assign(Object.assign({},th),n);return function(e){if(e.maxAttempts<1)throw new E(S.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new I;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Bc(e);new Rc(e.asyncQueue,i,n,t,r).ja()}),r.promise}(vu(e),n=>t(new ih(e,n)),r)}function sh(){return new Bu("deleteField")}function ah(){return new Wu("serverTimestamp")}function ch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hu("arrayUnion",t)}function uh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ku("arrayRemove",t)}function lh(e){return new Gu("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){l=e}(r.SDK_VERSION),Object(r._registerComponent)(new i.a("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new yu(new O(e.getProvider("auth-internal")),new P(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new E(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mt(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Object(r.registerVersion)(c,"4.4.2",e),Object(r.registerVersion)(c,"4.4.2","esm2017")}()}).call(this,n(39))},function(e,t,n){"use strict";n.d(t,"a",function(){return L}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return F}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return D}),n.d(t,"l",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"n",function(){return P}),n.d(t,"o",function(){return g}),n.d(t,"p",function(){return R}),n.d(t,"q",function(){return y}),n.d(t,"r",function(){return v});var r=n(1),i=n(8);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const s=r.createContext(null);const a=r.createContext(null);const c=r.createContext(null);const u=r.createContext(null);const l=r.createContext({outlet:null,matches:[],isDataRoute:!1});const h=r.createContext(null);function d(e,t){let{relative:n}=void 0===t?{}:t;f()||Object(i.h)(!1);let{basename:o,navigator:s}=r.useContext(c),{hash:a,pathname:u,search:l}=v(e,{relative:n}),h=u;return"/"!==o&&(h="/"===u?o:Object(i.o)([o,u])),s.createHref({pathname:h,search:l,hash:a})}function f(){return null!=r.useContext(u)}function p(){return f()||Object(i.h)(!1),r.useContext(u).location}function m(e){r.useContext(c).static||r.useLayoutEffect(e)}function g(){let{isDataRoute:e}=r.useContext(l);return e?function(){let{router:e}=C(k.UseNavigateStable),t=x(T.UseNavigateStable),n=r.useRef(!1);return m(()=>{n.current=!0}),r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,o({fromRouteId:t},i)))},[e,t])}():function(){f()||Object(i.h)(!1);let e=r.useContext(s),{basename:t,navigator:n}=r.useContext(c),{matches:o}=r.useContext(l),{pathname:a}=p(),u=JSON.stringify(Object(i.g)(o).map(e=>e.pathnameBase)),h=r.useRef(!1);return m(()=>{h.current=!0}),r.useCallback(function(r,o){if(void 0===o&&(o={}),!h.current)return;if("number"===typeof r)return void n.go(r);let s=Object(i.s)(r,JSON.parse(u),a,"path"===o.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:Object(i.o)([t,s.pathname])),(o.replace?n.replace:n.push)(s,o.state,o)},[t,n,u,a,e])}()}function y(){let{matches:e}=r.useContext(l),t=e[e.length-1];return t?t.params:{}}function v(e,t){let{relative:n}=void 0===t?{}:t,{matches:o}=r.useContext(l),{pathname:s}=p(),a=JSON.stringify(Object(i.g)(o).map(e=>e.pathnameBase));return r.useMemo(()=>Object(i.s)(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function b(e,t,n){f()||Object(i.h)(!1);let{navigator:s}=r.useContext(c),{matches:a}=r.useContext(l),h=a[a.length-1],d=h?h.params:{},m=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let g,y=p();if(t){var v;let e="string"===typeof t?Object(i.r)(t):t;"/"===m||null!=(v=e.pathname)&&v.startsWith(m)||Object(i.h)(!1),g=e}else g=y;let b=g.pathname||"/",w="/"===m?b:b.slice(m.length)||"/",_=Object(i.q)(e,{pathname:w});let S=I(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:Object(i.o)([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:Object(i.o)([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n);return t&&S?r.createElement(u.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:i.b.Pop}},S):S}function w(){let e=function(){var e;let t=r.useContext(h),n=O(T.UseRouteError),i=x(T.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=Object(i.n)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const _=r.createElement(w,null);class S extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(l.Provider,{value:this.props.routeContext},r.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(l.Provider,{value:t},i)}function I(e,t,n){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=a.findIndex(e=>e.route.id&&(null==c?void 0:c[e.route.id]));e>=0||Object(i.h)(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight((e,i,o)=>{let s=i.route.id?null==c?void 0:c[i.route.id]:null,u=null;n&&(u=i.route.errorElement||_);let l=t.concat(a.slice(0,o+1)),h=()=>{let t;return t=s?u:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(E,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(S,{location:n.location,revalidation:n.revalidation,component:u,error:s,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()},null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),T=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(T||{});function C(e){let t=r.useContext(s);return t||Object(i.h)(!1),t}function O(e){let t=r.useContext(a);return t||Object(i.h)(!1),t}function x(e){let t=function(e){let t=r.useContext(l);return t||Object(i.h)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Object(i.h)(!1),n.route.id}function A(){return x(T.UseRouteId)}function R(){return O(T.UseNavigation).navigation}function P(){let{matches:e,loaderData:t}=O(T.UseMatches);return r.useMemo(()=>e.map(e=>Object(i.f)(e,t)),[e,t])}let N=0;function D(e){let{router:t,basename:n}=C(k.UseBlocker),s=O(T.UseBlocker),[a,c]=r.useState(""),u=r.useCallback(t=>{if("function"!==typeof e)return!!e;if("/"===n)return e(t);let{currentLocation:r,nextLocation:s,historyAction:a}=t;return e({currentLocation:o({},r,{pathname:Object(i.t)(r.pathname,n)||r.pathname}),nextLocation:o({},s,{pathname:Object(i.t)(s.pathname,n)||s.pathname}),historyAction:a})},[n,e]);return r.useEffect(()=>{let e=String(++N);return c(e),()=>t.deleteBlocker(e)},[t]),r.useEffect(()=>{""!==a&&t.getBlocker(a,u)},[t,a,u]),a&&s.blockers.has(a)?s.blockers.get(a):i.c}r.startTransition;function L(e){Object(i.h)(!1)}function M(e){let{basename:t="/",children:n=null,location:o,navigationType:s=i.b.Pop,navigator:a,static:l=!1}=e;f()&&Object(i.h)(!1);let h=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);"string"===typeof o&&(o=Object(i.r)(o));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=r.useMemo(()=>{let e=Object(i.t)(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:s}},[h,p,m,g,y,v,s]);return null==b?null:r.createElement(c.Provider,{value:d},r.createElement(u.Provider,{children:n,value:b}))}function j(e){let{children:t,location:n}=e;return b(function e(t,n){void 0===n&&(n=[]);let o=[];r.Children.forEach(t,(t,s)=>{if(!r.isValidElement(t))return;let a=[...n,s];if(t.type===r.Fragment)return void o.push.apply(o,e(t.props.children,a));t.type!==L&&Object(i.h)(!1),t.props.index&&t.props.children&&Object(i.h)(!1);let c={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(c.children=e(t.props.children,a)),o.push(c)});return o}(t),n)}new Promise(()=>{});function F(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:r.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i;n.d(t,"a",function(){return V}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return J}),n.d(t,"d",function(){return $}),n.d(t,"e",function(){return z}),n.d(t,"f",function(){return w}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return te}),n.d(t,"n",function(){return B}),n.d(t,"o",function(){return M}),n.d(t,"p",function(){return A}),n.d(t,"q",function(){return b}),n.d(t,"r",function(){return p}),n.d(t,"s",function(){return L}),n.d(t,"t",function(){return P}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function s(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:o=!1}=e;t=n.map((e,t)=>m(e,"string"===typeof e?null:e.state,0===t?"default":void 0));let s=u(null==r?t.length-1:r),a=i.Pop,c=null;function u(e){return Math.min(Math.max(e,0),t.length-1)}function h(){return t[s]}function m(e,n,r){void 0===n&&(n=null);let i=d(t?h().pathname:"/",e,n,r);return l("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function g(e){return"string"===typeof e?e:f(e)}return{get index(){return s},get action(){return a},get location(){return h()},createHref:g,createURL:e=>new URL(g(e),"http://localhost"),encodeLocation(e){let t="string"===typeof e?p(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){a=i.Push;let r=m(e,n);s+=1,t.splice(s,t.length,r),o&&c&&c({action:a,location:r,delta:1})},replace(e,n){a=i.Replace;let r=m(e,n);t[s]=r,o&&c&&c({action:a,location:r,delta:0})},go(e){a=i.Pop;let n=u(s+e),r=t[n];s=n,c&&c({action:a,location:r,delta:e})},listen:e=>(c=e,()=>{c=null})}}function a(e){return void 0===e&&(e={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,e)}function c(e){return void 0===e&&(e={}),m(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=p(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))},function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,l=a.history,p=i.Pop,m=null,g=y();function y(){return(l.state||{idx:null}).idx}function v(){p=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,l.replaceState(r({},l.state,{idx:g}),""));let w={get action(){return p},get location(){return e(a,l)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(o,v),m=e,()=>{a.removeEventListener(o,v),m=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=d(w.location,e,t);n&&n(r,e);let o=h(r,g=y()+1),s=w.createHref(r);try{l.pushState(o,"",s)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(s)}c&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=i.Replace;let r=d(w.location,e,t);n&&n(r,e);let o=h(r,g=y()),s=w.createHref(r);l.replaceState(o,"",s),c&&m&&m({action:p,location:w.location,delta:0})},go:e=>l.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map((e,o)=>{let s=[...n,o],a="string"===typeof e.id?e.id:s.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!i[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=r({},e,t(e),{id:a});return i[a]=n,n}{let n=r({},e,t(e),{id:a,children:void 0});return i[a]=n,e.children&&(n.children=v(e.children,t,s,i)),n}})}function b(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=function e(t,n,r,i){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===i&&(i="");let o=(t,o,s)=>{let a={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let c=M([i,a.relativePath]),l=r.concat(a);t.children&&t.children.length>0&&(u(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),e(t.children,n,l,c)),(null!=t.path||t.index)&&n.push({path:c,score:O(c,t.index),routesMeta:l})};t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n;let o=r.endsWith("?");let s=r.replace(/\?$/,"");if(0===i.length)return o?[s,""]:[s];let a=e(i.join("/"));let c=[];c.push(...a.map(e=>""===e?s:[s,e].join("/")));o&&c.push(...a);return c.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))o(e,t,r);else o(e,t)});return n}(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=x(i[s],R(r));return o}function w(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}const _=/^:\w+$/,S=3,E=2,I=1,k=10,T=-2,C=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=E),n.filter(e=>!C(e)).reduce((e,t)=>e+(_.test(t)?S:""===t?I:k),r)}function x(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let l=e.route;o.push({params:r,pathname:M([i,u.pathname]),pathnameBase:j(M([i,u.pathnameBase])),route:l}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e},{}),pathname:o,pathnameBase:s,pattern:e}}function R(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t,n,i){let o;void 0===i&&(i=!1),"string"===typeof e?o=p(e):(u(!(o=r({},e)).pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let s,a=""===e||""===o.pathname,c=a?"/":o.pathname;if(null==c)s=n;else if(i){let e=t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();o.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e;return{pathname:n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t,search:F(r),hash:U(i)}}(o,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class V extends Error{}class z{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=new Set(q),H=["get",...q],K=new Set(H),G=new Set([301,302,303,307,308]),Q=new Set([307,308]),Y={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},X=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ee="remix-router-transitions";function te(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,o=!n;let s;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;s=(e=>({hasErrorBoundary:t(e)}))}else s=Z;let a,c={},h=v(e.routes,s,void 0,c),f=e.basename||"/",p=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),m=null,y=new Set,_=null,S=null,E=null,I=null!=e.hydrationData,k=b(h,e.history.location,f),T=null;if(null==k){let t=ve(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ye(h);k=n,T={[r.id]:t}}let C,O,x=!k.some(e=>e.route.lazy)&&(!k.some(e=>e.route.loader)||null!=e.hydrationData),A={historyAction:e.history.action,location:e.history.location,matches:k,initialized:x,navigation:Y,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},R=i.Pop,N=!1,D=!1,L=new Map,M=null,j=!1,F=!1,U=[],V=[],z=new Map,B=0,q=-1,W=new Map,H=new Set,K=new Map,G=new Map,te=new Set,ie=new Map,se=new Map,ae=!1;function ce(e,t){void 0===t&&(t={}),A=r({},A,e);let n=[],i=[];p.v7_fetcherPersist&&A.fetchers.forEach((e,t)=>{"idle"===e.state&&(te.has(t)?i.push(t):n.push(t))}),[...y].forEach(e=>e(A,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync})),p.v7_fetcherPersist&&(n.forEach(e=>A.fetchers.delete(e)),i.forEach(e=>je(e)))}function he(t,n,o){var s,c;let u,{flushSync:l}=void 0===o?{}:o,d=null!=A.actionData&&null!=A.navigation.formMethod&&Te(A.navigation.formMethod)&&"loading"===A.navigation.state&&!0!==(null==(s=t.state)?void 0:s._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?A.actionData:null;let f=n.loaderData?me(A.loaderData,n.loaderData,n.matches||[],n.errors):A.loaderData,p=A.blockers;p.size>0&&(p=new Map(p)).forEach((e,t)=>p.set(t,J));let m,g=!0===N||null!=A.navigation.formMethod&&Te(A.navigation.formMethod)&&!0!==(null==(c=t.state)?void 0:c._isRedirect);if(a&&(h=a,a=void 0),j||R===i.Pop||(R===i.Push?e.history.push(t,t.state):R===i.Replace&&e.history.replace(t,t.state)),R===i.Pop){let e=L.get(A.location.pathname);e&&e.has(t.pathname)?m={currentLocation:A.location,nextLocation:t}:L.has(t.pathname)&&(m={currentLocation:t,nextLocation:A.location})}else if(D){let e=L.get(A.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(A.location.pathname,e)),m={currentLocation:A.location,nextLocation:t}}ce(r({},n,{actionData:u,loaderData:f,historyAction:R,location:t,initialized:!0,navigation:Y,revalidation:"idle",restoreScrollPosition:Ge(t,n.matches||A.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===l}),R=i.Pop,N=!1,D=!1,j=!1,F=!1,U=[],V=[]}async function de(t,n,o){O&&O.abort(),O=null,R=t,j=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(_&&E){let n=Ke(e,t);_[n]=E()}}(A.location,A.matches),N=!0===(o&&o.preventScrollReset),D=!0===(o&&o.enableViewTransition);let u=a||h,l=o&&o.overrideNavigation,d=b(u,n,f),p=!0===(o&&o.flushSync);if(!d){let e=ve(404,{pathname:n.pathname}),{matches:t,route:r}=ye(u);return He(),void he(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:p})}if(A.initialized&&!F&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(A.location,n)&&!(o&&o.submission&&Te(o.submission.formMethod)))return void he(n,{matches:d},{flushSync:p});O=new AbortController;let m,y,v=le(e.history,n,O.signal,o&&o.submission);if(o&&o.pendingError)y={[ge(d).route.id]:o.pendingError};else if(o&&o.submission&&Te(o.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={});let a;Ie(),ce({navigation:Ne(t,n)},{flushSync:!0===o.flushSync});let u=Ae(r,t);if(u.route.action||u.route.lazy){if(a=await ue("action",e,u,r,c,s,f),e.signal.aborted)return{shortCircuited:!0}}else a={type:g.error,error:ve(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Ee(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===A.location.pathname+A.location.search,await fe(A,a,{submission:n,replace:e}),{shortCircuited:!0}}if(Se(a)){let e=ge(r,u.route.id);return!0!==(o&&o.replace)&&(R=i.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(_e(a))throw ve(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:a.data}}}(v,n,o.submission,d,{replace:o.replace,flushSync:p});if(e.shortCircuited)return;m=e.pendingActionData,y=e.pendingActionError,l=Pe(n,o.submission),p=!1,v=new Request(v.url,{signal:v.signal})}let{shortCircuited:w,loaderData:S,errors:I}=await async function(t,n,i,o,s,c,u,l,d,p){let m=o||Pe(n,s),g=s||c||Re(m),y=a||h,[v,b]=oe(e.history,A,i,g,n,F,U,V,te,K,H,y,f,d,p);if(He(e=>!(i&&i.some(t=>t.route.id===e))||v&&v.some(t=>t.route.id===e)),q=++B,0===v.length&&0===b.length){let e=Ve();return he(n,r({matches:i,loaderData:{},errors:p||null},d?{actionData:d}:{},e?{fetchers:new Map(A.fetchers)}:{}),{flushSync:l}),{shortCircuited:!0}}if(!j){b.forEach(e=>{let t=A.fetchers.get(e.key),n=De(void 0,t?t.data:void 0);A.fetchers.set(e.key,n)});let e=d||A.actionData;ce(r({navigation:m},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},b.length>0?{fetchers:new Map(A.fetchers)}:{}),{flushSync:l})}b.forEach(e=>{z.has(e.key)&&Fe(e.key),e.controller&&z.set(e.key,e.controller)});let w=()=>b.forEach(e=>Fe(e.key));O&&O.signal.addEventListener("abort",w);let{results:_,loaderResults:S,fetcherResults:E}=await we(A.matches,i,v,b,t);if(t.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",w);b.forEach(e=>z.delete(e.key));let I=be(_);if(I){if(I.idx>=v.length){let e=b[I.idx-v.length].key;H.add(e)}return await fe(A,I.result,{replace:u}),{shortCircuited:!0}}let{loaderData:k,errors:T}=pe(A,i,v,S,p,b,E,ie);ie.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&ie.delete(t)})});let C=Ve(),x=ze(q),R=C||x||b.length>0;return r({loaderData:k,errors:T},R?{fetchers:new Map(A.fetchers)}:{})}(v,n,d,l,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,p,m,y);w||(O=null,he(n,r({matches:d},m?{actionData:m}:{},{loaderData:S,errors:I})))}async function fe(o,s,a){let{submission:c,fetcherSubmission:l,replace:h}=void 0===a?{}:a;s.revalidate&&(F=!0);let p=d(o.location,s.location,{_isRedirect:!0});if(u(p,"Expected a location on the redirect navigation"),n){let n=!1;if(s.reloadDocument)n=!0;else if(X.test(s.location)){const r=e.history.createURL(s.location);n=r.origin!==t.location.origin||null==P(r.pathname,f)}if(n)return void(h?t.location.replace(s.location):t.location.assign(s.location))}O=null;let m=!0===h?i.Replace:i.Push,{formMethod:g,formAction:y,formEncType:v}=o.navigation;!c&&!l&&g&&y&&v&&(c=Re(o.navigation));let b=c||l;if(Q.has(s.status)&&b&&Te(b.formMethod))await de(m,p,{submission:r({},b,{formAction:s.location}),preventScrollReset:N});else{let e=Pe(p,c);await de(m,p,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:N})}}async function we(t,n,r,i,o){let a=await Promise.all([...r.map(e=>ue("loader",o,e,n,c,s,f)),...i.map(t=>{if(t.matches&&t.match&&t.controller)return ue("loader",le(e.history,t.path,t.controller.signal),t.match,t.matches,c,s,f);return{type:g.error,error:ve(404,{pathname:t.path})}})]),u=a.slice(0,r.length),l=a.slice(r.length);return await Promise.all([Ce(t,r,u,u.map(()=>o.signal),!1,A.loaderData),Ce(t,i.map(e=>e.match),l,i.map(e=>e.controller?e.controller.signal:null),!0)]),{results:a,loaderResults:u,fetcherResults:l}}function Ie(){F=!0,U.push(...He()),K.forEach((e,t)=>{z.has(t)&&(V.push(t),Fe(t))})}function ke(e,t,n){void 0===n&&(n={}),A.fetchers.set(e,t),ce({fetchers:new Map(A.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function xe(e,t,n,r){void 0===r&&(r={});let i=ge(A.matches,t);je(e),ce({errors:{[i.route.id]:n},fetchers:new Map(A.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Me(e){return p.v7_fetcherPersist&&(G.set(e,(G.get(e)||0)+1),te.has(e)&&te.delete(e)),A.fetchers.get(e)||$}function je(e){let t=A.fetchers.get(e);!z.has(e)||t&&"loading"===t.state&&W.has(e)||Fe(e),K.delete(e),W.delete(e),H.delete(e),te.delete(e),A.fetchers.delete(e)}function Fe(e){let t=z.get(e);u(t,"Expected fetch controller: "+e),t.abort(),z.delete(e)}function Ue(e){for(let t of e){let e=Le(Me(t).data);A.fetchers.set(t,e)}}function Ve(){let e=[],t=!1;for(let n of H){let r=A.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(H.delete(n),e.push(n),t=!0)}return Ue(e),t}function ze(e){let t=[];for(let[n,r]of W)if(r<e){let e=A.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(Fe(n),W.delete(n),t.push(n))}return Ue(t),t.length>0}function Be(e){A.blockers.delete(e),se.delete(e)}function qe(e,t){let n=A.blockers.get(e)||J;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(A.blockers);r.set(e,t),ce({blockers:r})}function We(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===se.size)return;se.size>1&&l(!1,"A router only supports one blocker at a time");let i=Array.from(se.entries()),[o,s]=i[i.length-1],a=A.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function He(e){let t=[];return ie.forEach((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),ie.delete(r))}),t}function Ke(e,t){if(S){return S(e,t.map(e=>w(e,A.loaderData)))||e.key}return e.key}function Ge(e,t){if(_){let n=Ke(e,t),r=_[n];if("number"===typeof r)return r}return null}return C={get basename(){return f},get state(){return A},get routes(){return h},get window(){return t},initialize:function(){if(m=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(ae)return void(ae=!1);l(0===se.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=We({currentLocation:A.location,nextLocation:r,historyAction:n});return o&&null!=i?(ae=!0,e.history.go(-1*i),void qe(o,{state:"blocked",location:r,proceed(){qe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(A.blockers);e.set(o,J),ce({blockers:e})}})):de(n,r)}),n){!function(e,t){try{let r=e.sessionStorage.getItem(ee);if(r){let e=JSON.parse(r);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,L);let e=()=>(function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ee,JSON.stringify(r))}catch(n){l(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}})(t,L);t.addEventListener("pagehide",e),M=(()=>t.removeEventListener("pagehide",e))}return A.initialized||de(i.Pop,A.location),C},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,t,n){if(_=e,E=t,S=n||null,!I&&A.navigation===Y){I=!0;let e=Ge(A.location,A.matches);null!=e&&ce({restoreScrollPosition:e})}return()=>{_=null,E=null,S=null}},navigate:async function t(n,o){if("number"===typeof n)return void e.history.go(n);let s=ne(A.location,A.matches,f,p.v7_prependBasename,n,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:a,submission:c,error:u}=re(p.v7_normalizeFormMethod,!1,s,o),l=A.location,h=d(A.location,a,o&&o.state);h=r({},h,e.history.encodeLocation(h));let m=o&&null!=o.replace?o.replace:void 0,g=i.Push;!0===m?g=i.Replace:!1===m||null!=c&&Te(c.formMethod)&&c.formAction===A.location.pathname+A.location.search&&(g=i.Replace);let y=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,v=!0===(o&&o.unstable_flushSync),b=We({currentLocation:l,nextLocation:h,historyAction:g});if(!b)return await de(g,h,{submission:c,pendingError:u,preventScrollReset:y,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:v});qe(b,{state:"blocked",location:h,proceed(){qe(b,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,o)},reset(){let e=new Map(A.blockers);e.set(b,J),ce({blockers:e})}})},fetch:function(t,n,r,i){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(t)&&Fe(t);let l=!0===(i&&i.unstable_flushSync),d=a||h,m=ne(A.location,A.matches,f,p.v7_prependBasename,r,n,null==i?void 0:i.relative),g=b(d,m,f);if(!g)return void xe(t,n,ve(404,{pathname:m}),{flushSync:l});let{path:y,submission:v,error:w}=re(p.v7_normalizeFormMethod,!0,m,i);if(w)return void xe(t,n,w,{flushSync:l});let _=Ae(g,y);N=!0===(i&&i.preventScrollReset),v&&Te(v.formMethod)?async function(t,n,r,i,o,l,d){if(Ie(),K.delete(t),!i.route.action&&!i.route.lazy){let e=ve(405,{method:d.formMethod,pathname:r,routeId:n});return void xe(t,n,e,{flushSync:l})}let p=A.fetchers.get(t);ke(t,function(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}(d,p),{flushSync:l});let m=new AbortController,g=le(e.history,r,m.signal,d);z.set(t,m);let y=B,v=await ue("action",g,i,o,c,s,f);if(g.signal.aborted)return void(z.get(t)===m&&z.delete(t));if(te.has(t))return void ke(t,Le(void 0));if(Ee(v))return z.delete(t),q>y?void ke(t,Le(void 0)):(H.add(t),ke(t,De(d)),fe(A,v,{fetcherSubmission:d}));if(Se(v))return void xe(t,n,v.error);if(_e(v))throw ve(400,{type:"defer-action"});let w=A.navigation.location||A.location,_=le(e.history,w,m.signal),S=a||h,E="idle"!==A.navigation.state?b(S,A.navigation.location,f):A.matches;u(E,"Didn't find any matches after fetcher action");let I=++B;W.set(t,I);let k=De(d,v.data);A.fetchers.set(t,k);let[T,C]=oe(e.history,A,E,d,w,F,U,V,te,K,H,S,f,{[i.route.id]:v.data},void 0);C.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=A.fetchers.get(t),r=De(void 0,n?n.data:void 0);A.fetchers.set(t,r),z.has(t)&&Fe(t),e.controller&&z.set(t,e.controller)}),ce({fetchers:new Map(A.fetchers)});let x=()=>C.forEach(e=>Fe(e.key));m.signal.addEventListener("abort",x);let{results:P,loaderResults:N,fetcherResults:D}=await we(A.matches,E,T,C,_);if(m.signal.aborted)return;m.signal.removeEventListener("abort",x),W.delete(t),z.delete(t),C.forEach(e=>z.delete(e.key));let L=be(P);if(L){if(L.idx>=T.length){let e=C[L.idx-T.length].key;H.add(e)}return fe(A,L.result)}let{loaderData:M,errors:j}=pe(A,A.matches,T,N,void 0,C,D,ie);if(A.fetchers.has(t)){let e=Le(v.data);A.fetchers.set(t,e)}ze(I),"loading"===A.navigation.state&&I>q?(u(R,"Expected pending action"),O&&O.abort(),he(A.navigation.location,{matches:E,loaderData:M,errors:j,fetchers:new Map(A.fetchers)})):(ce({errors:j,loaderData:me(A.loaderData,M,E,j),fetchers:new Map(A.fetchers)}),F=!1)}(t,n,y,_,g,l,v):(K.set(t,{routeId:n,path:y}),async function(t,n,r,i,o,a,l){let h=A.fetchers.get(t);ke(t,De(l,h?h.data:void 0),{flushSync:a});let d=new AbortController,p=le(e.history,r,d.signal);z.set(t,d);let m=B,g=await ue("loader",p,i,o,c,s,f);if(_e(g)&&(g=await Oe(g,p.signal,!0)||g),z.get(t)===d&&z.delete(t),!p.signal.aborted){if(!te.has(t))return Ee(g)?q>m?void ke(t,Le(void 0)):(H.add(t),void await fe(A,g)):void(Se(g)?xe(t,n,g.error):(u(!_e(g),"Unhandled fetcher deferred data"),ke(t,Le(g.data))));ke(t,Le(void 0))}}(t,n,y,_,g,l,v))},revalidate:function(){Ie(),ce({revalidation:"loading"}),"submitting"!==A.navigation.state&&("idle"!==A.navigation.state?de(R||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation}):de(A.historyAction,A.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Me,deleteFetcher:function(e){if(p.v7_fetcherPersist){let t=(G.get(e)||0)-1;t<=0?(G.delete(e),te.add(e)):G.set(e,t)}else je(e);ce({fetchers:new Map(A.fetchers)})},dispose:function(){m&&m(),M&&M(),y.clear(),O&&O.abort(),A.fetchers.forEach((e,t)=>je(t)),A.blockers.forEach((e,t)=>Be(t))},getBlocker:function(e,t){let n=A.blockers.get(e)||J;return se.get(e)!==t&&se.set(e,t),n},deleteBlocker:Be,_internalFetchControllers:z,_internalActiveDeferreds:ie,_internalSetRoutes:function(e){a=v(e,s,void 0,c={})}}}Symbol("deferred");function ne(e,t,n,r,i,o,s){let a,c;if(o){a=[];for(let e of t)if(a.push(e),e.route.id===o){c=e;break}}else a=t,c=t[t.length-1];let u=L(i||".",D(a).map(e=>e.pathnameBase),P(e.pathname,n)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||xe(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:M([n,u.pathname])),f(u)}function re(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!ke(r.formMethod))return{path:n,error:ve(405,{method:r.formMethod})};let i,o,s=()=>({path:n,error:ve(400,{type:"invalid-body"})}),a=r.formMethod||"get",c=e?a.toUpperCase():a.toLowerCase(),l=we(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Te(c))return s();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:c,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Te(c))return s();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:l,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(m){return s()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=he(r.formData),o=r.formData;else if(r.body instanceof FormData)i=he(r.body),o=r.body;else if(r.body instanceof URLSearchParams)o=de(i=r.body);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{o=de(i=new URLSearchParams(r.body))}catch(m){return s()}let h={formMethod:c,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(Te(h.formMethod))return{path:n,submission:h};let d=p(n);return t&&d.search&&xe(d.search)&&i.append("index",""),d.search="?"+i,{path:f(d),submission:h}}function ie(e,t){let n=e;if(t){let r=e.findIndex(e=>e.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function oe(e,t,n,i,o,s,a,c,u,l,h,d,f,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,y=e.createURL(t.location),v=e.createURL(o),w=m?Object.keys(m)[0]:void 0,_=ie(n,w).filter((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||a.some(t=>t===e.route.id))return!0;let o=t.matches[n],c=e;return ae(e,r({currentUrl:y,currentParams:o.params,nextUrl:v,nextParams:c.params},i,{actionResult:g,defaultShouldRevalidate:s||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||se(o,c)}))}),S=[];return l.forEach((e,o)=>{if(!n.some(t=>t.route.id===e.routeId)||u.has(o))return;let a=b(d,e.path,f);if(!a)return void S.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(o),p=Ae(a,e.path),m=!1;(m=!h.has(o)&&(!!c.includes(o)||(l&&"idle"!==l.state&&void 0===l.data?s:ae(p,r({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},i,{actionResult:g,defaultShouldRevalidate:s})))))&&S.push({key:o,routeId:e.routeId,path:e.path,matches:a,match:p,controller:new AbortController})}),[_,S]}function se(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ae(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ce(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let o=n[e.id];u(o,"No route found in manifest");let s={};for(let r in i){let e=void 0!==o[r]&&"hasErrorBoundary"!==r;l(!e,'Route "'+o.id+'" has a static property "'+r+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+r+'" will be ignored.'),e||y.has(r)||(s[r]=i[r])}Object.assign(o,s),Object.assign(o,r({},t(o),{lazy:void 0}))}async function ue(e,t,n,r,i,o,s,a){let c,l,h;void 0===a&&(a={});let d=e=>{let r,i=new Promise((e,t)=>r=t);return h=(()=>r()),t.signal.addEventListener("abort",h),Promise.race([e({request:t,params:n.params,context:a.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([d(r).catch(t=>{e=t}),ce(n.route,o,i)]);if(e)throw e;l=t[0]}else{if(await ce(n.route,o,i),!(r=n.route[e])){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw ve(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:g.data,data:void 0}}l=await d(r)}else{if(!r){let e=new URL(t.url);throw ve(404,{pathname:e.pathname+e.search})}l=await d(r)}u(void 0!==l,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(m){c=g.error,l=m}finally{h&&t.signal.removeEventListener("abort",h)}if(Ie(l)){let e,i=l.status;if(G.has(i)){let e=l.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),X.test(e)){if(!a.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=P(r.pathname,s);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=ne(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,e);if(a.isStaticRequest)throw l.headers.set("Location",e),l;return{type:g.redirect,status:i,location:e,revalidate:null!==l.headers.get("X-Remix-Revalidate"),reloadDocument:null!==l.headers.get("X-Remix-Reload-Document")}}if(a.isRouteRequest){throw{type:c===g.error?g.error:g.data,response:l}}let o=l.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await l.json():await l.text(),c===g.error?{type:c,error:new z(i,l.statusText,e),headers:l.headers}:{type:g.data,data:e,statusCode:l.status,headers:l.headers}}return c===g.error?{type:c,error:l}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(l)?{type:g.deferred,deferredData:l,statusCode:null==(f=l.init)?void 0:f.status,headers:(null==(p=l.init)?void 0:p.headers)&&new Headers(l.init.headers)}:{type:g.data,data:l};var f,p}function le(e,t,n,r){let i=e.createURL(we(t)).toString(),o={signal:n};if(r&&Te(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=he(r.formData):o.body=r.formData}return new Request(i,o)}function he(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function de(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function fe(e,t,n,r,i){let o,s={},a=null,c=!1,l={};return n.forEach((n,h)=>{let d=t[h].route.id;if(u(!Ee(n),"Cannot handle redirect results in processLoaderData"),Se(n)){let t=ge(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),null==(a=a||{})[t.route.id]&&(a[t.route.id]=i),s[d]=void 0,c||(c=!0,o=B(n.error)?n.error.status:500),n.headers&&(l[d]=n.headers)}else _e(n)?(i.set(d,n.deferredData),s[d]=n.deferredData.data):s[d]=n.data,null==n.statusCode||200===n.statusCode||c||(o=n.statusCode),n.headers&&(l[d]=n.headers)}),r&&(a=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:l}}function pe(e,t,n,i,o,s,a,c){let{loaderData:l,errors:h}=fe(t,n,i,o,c);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:i}=s[d];u(void 0!==a&&void 0!==a[d],"Did not find corresponding fetcher result");let o=a[d];if(!i||!i.signal.aborted)if(Se(o)){let i=ge(e.matches,null==n?void 0:n.route.id);h&&h[i.route.id]||(h=r({},h,{[i.route.id]:o.error})),e.fetchers.delete(t)}else if(Ee(o))u(!1,"Unhandled fetcher revalidation redirect");else if(_e(o))u(!1,"Unhandled fetcher deferred data");else{let n=Le(o.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:h}}function me(e,t,n,i){let o=r({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&r.route.loader&&(o[n]=e[n]),i&&i.hasOwnProperty(n))break}return o}function ge(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function ye(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ve(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new z(e||500,s,new Error(a),!0)}function be(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ee(n))return{result:n,idx:t}}}function we(e){return f(r({},"string"===typeof e?p(e):e,{hash:""}))}function _e(e){return e.type===g.deferred}function Se(e){return e.type===g.error}function Ee(e){return(e&&e.type)===g.redirect}function Ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function ke(e){return K.has(e.toLowerCase())}function Te(e){return W.has(e.toLowerCase())}async function Ce(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],c=t[s];if(!c)continue;let l=e.find(e=>e.route.id===c.route.id),h=null!=l&&!se(l,c)&&void 0!==(o&&o[c.route.id]);if(_e(a)&&(i||h)){let e=r[s];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Oe(a,e,i).then(e=>{e&&(n[s]=e||n[s])})}}}async function Oe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:g.data,data:e.deferredData.unwrappedData}}catch(r){return{type:g.error,error:r}}return{type:g.data,data:e.deferredData.data}}}function xe(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function Ae(e,t){let n="string"===typeof t?p(t).search:t.search;if(e[e.length-1].route.index&&xe(n||""))return e[e.length-1];let r=D(e);return r[r.length-1]}function Re(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Pe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ne(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function De(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}},function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(12),o=n(3);const s=(e,t)=>t.some(t=>e instanceof t);let a,c;const u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||h.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(u.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(v(this),t,...r);return h.set(o,t.sort?t.sort():[t]),y(o)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});l.set(e,t)}(e),s(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,p):e)}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(y(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&u.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=g(e);return t!==e&&(d.set(e,t),f.set(t,e)),t}const v=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],_=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_.get(t))return _.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return _.set(t,o),o}p=(e=>({...e,get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p),n.d(t,"SDK_VERSION",function(){return V}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return C}),n.d(t,"_addComponent",function(){return R}),n.d(t,"_addOrOverwriteComponent",function(){return P}),n.d(t,"_apps",function(){return x}),n.d(t,"_clearComponents",function(){return M}),n.d(t,"_components",function(){return A}),n.d(t,"_getProvider",function(){return D}),n.d(t,"_registerComponent",function(){return N}),n.d(t,"_removeServiceInstance",function(){return L}),n.d(t,"deleteApp",function(){return W}),n.d(t,"getApp",function(){return B}),n.d(t,"getApps",function(){return q}),n.d(t,"initializeApp",function(){return z}),n.d(t,"onLog",function(){return K}),n.d(t,"registerVersion",function(){return H}),n.d(t,"setLogLevel",function(){return G}),n.d(t,"FirebaseError",function(){return o.c});class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const I="@firebase/app",k="0.9.27",T=new i.b("@firebase/app"),C="[DEFAULT]",O={[I]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},x=new Map,A=new Map;function R(e,t){try{e.container.addComponent(t)}catch(n){T.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function P(e,t){e.container.addOrOverwriteComponent(t)}function N(e){const t=e.name;if(A.has(t))return T.debug("There were multiple attempts to register component ".concat(t,".")),!1;A.set(t,e);for(const n of x.values())R(n,e);return!0}function D(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;D(e,t).clearInstance(n)}function M(){A.clear()}const j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},F=new o.b("app","Firebase",j);class U{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw F.create("app-deleted",{appName:this._name})}}const V="10.8.0";function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:C,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw F.create("bad-app-name",{appName:String(s)});if(n||(n=Object(o.l)()),!n)throw F.create("no-options");const a=x.get(s);if(a){if(Object(o.i)(n,a.options)&&Object(o.i)(i,a.config))return a;throw F.create("duplicate-app",{appName:s})}const c=new r.b(s);for(const r of A.values())c.addComponent(r);const u=new U(n,i,c);return x.set(s,u),u}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const t=x.get(e);if(!t&&e===C&&Object(o.l)())return z();if(!t)throw F.create("no-app",{appName:e});return t}function q(){return Array.from(x.values())}async function W(e){const t=e.name;x.has(t)&&(x.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function H(e,t,n){var i;let o=null!==(i=O[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void T.warn(e.join(" "))}N(new r.a("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}function K(e,t){if(null!==e&&"function"!==typeof e)throw F.create("invalid-log-argument");Object(i.d)(e,t)}function G(e){Object(i.c)(e)}const Q="firebase-heartbeat-database",Y=1,$="firebase-heartbeat-store";let J=null;function X(){return J||(J=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=y(s);return r&&s.addEventListener("upgradeneeded",e=>{r(y(s.result),e.oldVersion,e.newVersion,y(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}(Q,Y,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore($)}catch(n){console.warn(n)}}}}).catch(e=>{throw F.create("idb-open",{originalErrorMessage:e.message})})),J}async function Z(e,t){try{const r=(await X()).transaction($,"readwrite"),i=r.objectStore($);await i.put(t,ee(e)),await r.done}catch(n){if(n instanceof o.c)T.warn(n.message);else{const e=F.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});T.warn(e.message)}}}function ee(e){return"".concat(e.name,"!").concat(e.options.appId)}const te=1024,ne=2592e6;class re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ie();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(e=>e.date===r))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=ne}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ie(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:te;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),se(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Object(o.e)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ie(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(o.v)()&&Object(o.C)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const n=(await X()).transaction($),r=await n.objectStore($).get(ee(e));return await n.done,r}catch(t){if(t instanceof o.c)T.warn(t.message);else{const e=F.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});T.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Z(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function se(e){return Object(o.e)(JSON.stringify({version:2,heartbeats:e})).length}var ae;ae="",N(new r.a("platform-logger",e=>new E(e),"PRIVATE")),N(new r.a("heartbeat",e=>new re(e),"PRIVATE")),H(I,k,ae),H(I,k,"esm2017"),H("fire-js","")},function(e,t,n){"use strict";var r=n(4);function i(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.a.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{s[e]={value:e}}),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=((e,t,n,s,a,c)=>{const u=Object.create(o);return r.a.toFlatObject(e,u,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),i.call(u,e.message,t,n,s,a),u.cause=e,u.name=e.name,c&&Object.assign(u,c),u}),t.a=i},function(e,t,n){"use strict";e.exports=n(91)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return h});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];const c=s.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:c,args:s,type:t.name})}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return hr}),n.d(t,"b",function(){return fr}),n.d(t,"c",function(){return dr}),n.d(t,"d",function(){return vr}),n.d(t,"e",function(){return yr}),n.d(t,"f",function(){return pr}),n.d(t,"g",function(){return mr}),n.d(t,"h",function(){return gr}),n.d(t,"i",function(){return ur}),n.d(t,"j",function(){return lr});var r,i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o={},s=s||{},a=i||self;function c(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var l="closure_uid_"+(1e9*Math.random()>>>0),h=0;function d(e,t,n){return e.call.apply(e.bind,arguments)}function f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function p(e,t,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:f).apply(null,arguments)}function m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function g(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function y(){this.s=this.s,this.o=this.o}y.prototype.s=!1,y.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,l)&&e[l]||(e[l]=++h))},y.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const v=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function b(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function w(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(c(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function _(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}function I(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function k(e){return-1!=I().indexOf(e)}function T(e){return T[" "](e),e}T[" "]=function(){};var C,O,x=k("Opera"),A=k("Trident")||k("MSIE"),R=k("Edge"),P=R||A,N=k("Gecko")&&!(-1!=I().toLowerCase().indexOf("webkit")&&!k("Edge"))&&!(k("Trident")||k("MSIE"))&&!k("Edge"),D=-1!=I().toLowerCase().indexOf("webkit")&&!k("Edge");function L(){var e=a.document;return e?e.documentMode:void 0}e:{var M="",j=function(){var e=I();return N?/rv:([^\);]+)(\)|;)/.exec(e):R?/Edge\/([\d\.]+)/.exec(e):A?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):D?/WebKit\/(\S+)/.exec(e):x?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(j&&(M=j?j[1]:""),A){var F=L();if(null!=F&&F>parseFloat(M)){C=String(F);break e}}C=M}if(a.document&&A){var U=L();O=U||(parseInt(C,10)||void 0)}else O=void 0;var V=O;function z(e,t){if(_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(N){e:{try{T(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:B[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&z.$.h.call(this)}}g(z,_);var B={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),W=0;function H(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++W,this.fa=this.ia=!1}function K(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function G(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Q(e){const t={};for(const n in e)t[n]=e[n];return t}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(let t=0;t<Y.length;t++)n=Y[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function J(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=v(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(K(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}J.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Z(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new H(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}r=ue(r);return t&&t[q]?t.P(n,r,u(i)?!!i.capture:!!i,o):re(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ne(e,t[o],n,r,i);return null}return n=ue(n),e&&e[q]?e.O(t,n,u(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=u(i)?!!i.capture:!!i,a=ae(e);if(a||(e[ee]=a=new J(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=se;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)S||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[q])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ae(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):K(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function se(e,t){if(e.fa)e=!0;else{t=new z(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ie(e),e=n.call(r,t)}return e}function ae(e){return(e=e[ee])instanceof J?e:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ue(e){return"function"===typeof e?e:(e[ce]||(e[ce]=function(t){return e.handleEvent(t)}),e[ce])}function le(){y.call(this),this.i=new J(this),this.S=this,this.J=null}function he(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _(t,e);else if(t instanceof _)t.target=t.target||e;else{var i=t;$(t=new _(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=de(s,r,!0,t)&&i}if(i=de(s=t.g=e,r,!0,t)&&i,i=de(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=de(s=t.g=n[o],r,!1,t)&&i}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&X(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}g(le,y),le.prototype[q]=!0,le.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=u(i)?!!i.capture:!!i,r=ue(r),t&&t[q]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Z(s=t.g[n],r,i,o))&&(K(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=ae(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Z(n,r,i,o)),(r=-1<t?n[t]:null)&&ie(r))}(this,e,t,n,r)},le.prototype.N=function(){if(le.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)K(n[r]);delete t.g[e],t.h--}}this.J=null},le.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},le.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fe=a.JSON.stringify;function pe(){var e=_e;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var me=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ge,e=>e.reset());class ge{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ye(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ve(e){a.setTimeout(()=>{throw e},0)}let be,we=!1,_e=new class{constructor(){this.h=this.g=null}add(e,t){const n=me.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Se=()=>{const e=a.Promise.resolve(void 0);be=(()=>{e.then(Ee)})};var Ee=()=>{for(var e;e=pe();){try{e.h.call(e.g)}catch(n){ve(n)}var t=me;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}we=!1};function Ie(e,t){le.call(this),this.h=e||1,this.g=t||a,this.j=p(this.qb,this),this.l=Date.now()}function ke(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Te(e,t,n){if("function"===typeof e)n&&(e=p(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=p(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}g(Ie,le),(r=Ie.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),he(this,"tick"),this.ga&&(ke(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Ie.$.N.call(this),ke(this),delete this.g};class Ce extends y{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Te(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);const n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(e){y.call(this),this.h=e,this.g={}}g(Oe,y);var xe=[];function Ae(e,t,n,r){Array.isArray(n)||(n&&(xe[0]=n.toString()),n=xe);for(var i=0;i<n.length;i++){var o=ne(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Re(e){G(e.g,function(e,t){this.g.hasOwnProperty(t)&&ie(e)},e),e.g={}}function Pe(){this.g=!0}function Ne(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return fe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Oe.prototype.N=function(){Oe.$.N.call(this),Re(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pe.prototype.Ea=function(){this.g=!1},Pe.prototype.info=function(){};var De={},Le=null;function Me(){return Le=Le||new le}function je(e){_.call(this,De.Ta,e)}function Fe(e){const t=Me();he(t,new je(t))}function Ue(e,t){_.call(this,De.STAT_EVENT,e),this.stat=t}function Ve(e){const t=Me();he(t,new Ue(t,e))}function ze(e,t){_.call(this,De.Ua,e),this.size=t}function Be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}De.Ta="serverreachability",g(je,_),De.STAT_EVENT="statevent",g(Ue,_),De.Ua="timingevent",g(ze,_);var qe={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},We={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function He(){}function Ke(e){return e.h||(e.h=e.i())}function Ge(){}He.prototype.h=null;var Qe,Ye={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $e(){_.call(this,"d")}function Je(){_.call(this,"c")}function Xe(){}function Ze(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Oe(this),this.P=tt,e=P?125:void 0,this.V=new Ie(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}g($e,_),g(Je,_),g(Xe,He),Xe.prototype.g=function(){return new XMLHttpRequest},Xe.prototype.i=function(){return{}},Qe=new Xe;var tt=45e3,nt={},rt={};function it(e,t,n){e.L=1,e.A=Et(vt(t)),e.u=n,e.S=!0,ot(e,null)}function ot(e,t){e.G=Date.now(),ut(e),e.B=vt(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Mt(n.i,"t",r),e.o=0,n=e.l.J,e.h=new et,e.g=jn(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Ce(p(e.Pa,e,e.g),e.O)),Ae(e.U,e.g,"readystatechange",e.nb),t=e.I?Q(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Fe(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.v,e.B,e.m,e.W,e.u)}function st(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function at(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if((r=ct(e,n))==rt){4==t&&(e.s=4,Ve(14),i=!1),Ne(e.j,e.m,null,"[Incomplete Response]");break}if(r==nt){e.s=4,Ve(15),Ne(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ne(e.j,e.m,r,null),pt(e,r)}st(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ve(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xn(t),t.M=!0,Ve(11))):(Ne(e.j,e.m,n,"[Invalid Chunked Response]"),ft(e),dt(e))}function ct(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?rt:(n=Number(t.substring(n,r)),isNaN(n)?nt:(r+=1)+n>t.length?rt:(t=t.slice(r,r+n),e.o=r+n,t))}function ut(e){e.Y=Date.now()+e.P,lt(e,e.P)}function lt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Be(p(e.lb,e),t)}function ht(e){e.C&&(a.clearTimeout(e.C),e.C=null)}function dt(e){0==e.l.H||e.J||Pn(e.l,e)}function ft(e){ht(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ke(e.V),Re(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Bt(n.i,e)))if(!e.K&&Bt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Rn(n),_n(n)}On(n),Ve(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Be(p(n.ib,n),6e3));if(1>=zt(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Dn(n,11)}else if((e.K||n.g==e)&&Rn(n),!E(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(qt(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,St(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Mn(r,r.J?r.pa:null,r.Y),s.K){Wt(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(ht(a),ut(a)),r.g=s}else Cn(r);0<n.j.length&&En(n)}else"stop"!=u[0]&&"close"!=u[0]||Dn(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Dn(n,7):wn(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Fe()}catch(u){}}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(c(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=Ze.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==pn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const h=pn(this.g);var t=this.g.Ia();this.g.da();if(!(3>h)&&(3!=h||P||this.g&&(this.h.h||this.g.ja()||mn(this.g)))){this.J||4!=h||7==t||Fe(),ht(this);var n=this.g.da();this.ca=n;t:if(st(this)){var r=mn(this.g);e="";var i=r.length,o=4==pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ft(this),dt(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(c)){var l=c;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Ve(12),ft(this),dt(this);break e}Ne(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pt(this,n)}this.S?(at(this,h,s),P&&this.i&&3==h&&(Ae(this.U,this.V,"tick",this.mb),this.V.start())):(Ne(this.j,this.m,s,null),pt(this,s)),4==h&&ft(this),this.i&&!this.J&&(4==h?Pn(this.l,this):(this.i=!1,ut(this)))}else(function(e){const t={};e=(e.g&&2<=pn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var n=ye(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),ft(this),dt(this)}}}catch(h){}},r.mb=function(){if(this.g){var e=pn(this.g),t=this.g.ja();this.o<t.length&&(ht(this),at(this,e,t),this.i&&4!=e&&ut(this))}},r.cancel=function(){this.J=!0,ft(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(Fe(),Ve(17)),ft(this),this.s=2,dt(this)):lt(this,this.Y-e)};var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yt(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yt){this.h=e.h,bt(this,e.j),this.s=e.s,this.g=e.g,wt(this,e.m),this.l=e.l;var t=e.i,n=new Pt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_t(this,n),this.o=e.o}else e&&(t=String(e).match(gt))?(this.h=!1,bt(this,t[1]||"",!0),this.s=It(t[2]||""),this.g=It(t[3]||"",!0),wt(this,t[4]),this.l=It(t[5]||"",!0),_t(this,t[6]||"",!0),this.o=It(t[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}function vt(e){return new yt(e)}function bt(e,t,n){e.j=n?It(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _t(e,t,n){t instanceof Pt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),Mt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,At)),e.i=new Pt(t,e.h))}function St(e,t,n){e.i.set(t,n)}function Et(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function It(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(kt(t,Ct,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?xt:Ot,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",kt(n,Rt)),e.join("")};var Ct=/[#\/\?@]/g,Ot=/[#\?:]/g,xt=/[#\?]/g,At=/[#\?@]/g,Rt=/#/g;function Pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Dt(e,t){Nt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Nt(e),t=jt(e,t),e.g.has(t)}function Mt(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),b(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Pt.prototype).add=function(e,t){Nt(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Nt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},r.ta=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){Nt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Nt(this),this.i=null,Lt(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Ft(e){this.l=e||Ut,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.g&&a.g.Ka&&a.g.Ka()&&a.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ut=10;function Vt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zt(e){return e.h?1:e.g?e.g.size:0}function Bt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function qt(e,t){e.g?e.g.add(t):e.h=t}function Wt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ht(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return b(e.i)}Ft.prototype.cancel=function(){if(this.i=Ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kt,Gt=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function Qt(){this.g=new Gt}function Yt(e,t,n){const r=n||"";try{mt(e,function(e,n){let i=e;u(e)&&(i=fe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $t(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Jt(e){this.l=e.ec||null,this.j=e.ob||!1}function Xt(e,t){le.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Zt,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}g(Jt,He),Jt.prototype.g=function(){return new Xt(this.l,this.j)},Jt.prototype.i=(Kt={},function(){return Kt}),g(Xt,le);var Zt=0;function en(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nn(e)}function nn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=Xt.prototype).open=function(e,t){if(this.readyState!=Zt)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||a).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tn(this)),this.readyState=Zt},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nn(this)),this.g&&(this.readyState=3,nn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;en(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tn(this):nn(this),3==this.readyState&&en(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,tn(this))},r.Ya=function(e){this.g&&(this.response=e,tn(this))},r.ka=function(){this.g&&tn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rn=a.JSON.parse;function on(e){le.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sn,this.L=this.M=!1}g(on,le);var sn="",an=/^https?$/i,cn=["POST","PUT"];function un(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ln(e),dn(e)}function ln(e){e.F||(e.F=!0,he(e,"complete"),he(e,"error"))}function hn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=pn(e)||2!=e.da()))if(e.v&&4==pn(e))Te(e.La,0,e);else if(he(e,"readystatechange"),4==pn(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(gt)[1]||null;!i&&a.self&&a.self.location&&(i=a.self.location.protocol.slice(0,-1)),r=!an.test(i?i.toLowerCase():"")}n=r}if(n)he(e,"complete"),he(e,"success");else{e.m=6;try{var o=2<pn(e)?e.g.statusText:""}catch(c){o=""}e.j=o+" ["+e.da()+"]",ln(e)}}finally{dn(e)}}}function dn(e,t){if(e.g){fn(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||he(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function fn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(a.clearTimeout(e.A),e.A=null)}function pn(e){return e.g?e.g.readyState:0}function mn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gn(e){let t="";return G(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function yn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):St(e,t,n))}function vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bn(e){this.Ga=0,this.j=[],this.l=new Pe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vn("baseRetryDelayMs",5e3,e),this.hb=vn("retryDelaySeedMs",1e4,e),this.eb=vn("forwardChannelMaxRetries",2,e),this.xa=vn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ft(e&&e.concurrentRequestLimit),this.Ja=new Qt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wn(e){if(Sn(e),3==e.H){var t=e.W++,n=vt(e.I);if(St(n,"SID",e.K),St(n,"RID",t),St(n,"TYPE","terminate"),kn(e,n),(t=new Ze(e,e.l,t)).L=2,t.A=Et(vt(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=jn(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ut(t)}Ln(e)}function _n(e){e.g&&(xn(e),e.g.cancel(),e.g=null)}function Sn(e){_n(e),e.u&&(a.clearTimeout(e.u),e.u=null),Rn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function En(e){if(!Vt(e.i)&&!e.m){e.m=!0;var t=e.Na;be||Se(),we||(be(),we=!0),_e.add(t,e),e.C=0}}function In(e,t){var n;n=t?t.m:e.W++;const r=vt(e.I);St(r,"SID",e.K),St(r,"RID",n),St(r,"AID",e.V),kn(e,r),e.o&&e.s&&yn(r,e.o,e.s),n=new Ze(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Tn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),qt(e.i,n),it(n,r,t)}function kn(e,t){e.na&&G(e.na,function(e,n){St(t,n,e)}),e.h&&mt({},function(e,n){St(t,n,e)})}function Tn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?p(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const c=i[a].map;if(0>(n-=t))t=Math.max(0,i[a].g-100),s=!1;else try{Yt(c,e,"req"+n+"_")}catch(o){r&&r(c)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Cn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;be||Se(),we||(be(),we=!0),_e.add(t,e),e.A=0}}function On(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Be(p(e.Ma,e),Nn(e,e.A)),e.A++,!0)}function xn(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function An(e){e.g=new Ze(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=vt(e.wa);St(t,"RID","rpc"),St(t,"SID",e.K),St(t,"AID",e.V),St(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&St(t,"TO",e.qa),St(t,"TYPE","xmlhttp"),kn(e,t),e.o&&e.s&&yn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Et(vt(t)),n.u=null,n.S=!0,ot(n,e)}function Rn(e){null!=e.v&&(a.clearTimeout(e.v),e.v=null)}function Pn(e,t){var n=null;if(e.g==t){Rn(e),xn(e),e.g=null;var r=2}else{if(!Bt(e.i,t))return;n=t.F,Wt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;he(r=Me(),new ze(r,n)),En(e)}else Cn(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Be(p(e.Na,e,t),Nn(e,e.C)),e.C++,!0))}(e,t)||2==r&&On(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dn(e,5);break;case 4:Dn(e,10);break;case 3:Dn(e,6);break;default:Dn(e,2)}}function Nn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Dn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=p(e.pb,e);n||(n=new yt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||bt(n,"https"),Et(n)),function(e,t){const n=new Pe;if(a.Image){const r=new Image;r.onload=m($t,n,r,"TestLoadImage: loaded",!0,t),r.onerror=m($t,n,r,"TestLoadImage: error",!1,t),r.onabort=m($t,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=m($t,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ve(2);e.H=0,e.h&&e.h.za(t),Ln(e),Sn(e)}function Ln(e){if(e.H=0,e.ma=[],e.h){const t=Ht(e.i);0==t.length&&0==e.j.length||(w(e.ma,t),w(e.ma,e.j),e.i.i.length=0,b(e.j),e.j.length=0),e.h.ya()}}function Mn(e,t,n){var r=n instanceof yt?vt(n):new yt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.m);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new yt(null);r&&bt(o,r),t&&(o.g=t),i&&wt(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&St(r,n,t),St(r,"VER",e.ra),kn(e,r),r}function jn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new on(new Jt({ob:n})):new on(e.va)).Oa(e.J),t}function Fn(){}function Un(){if(A&&!(10<=Number(V)))throw Error("Environmental error: no available transport.")}function Vn(e,t){le.call(this),this.g=new bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!E(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qn(this)}function zn(e){$e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bn(){Je.call(this),this.status=1}function qn(e){this.g=e}function Wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hn(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Kn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=on.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qe.g(),this.C=this.u?Ke(this.u):Ke(Qe),this.g.onreadystatechange=p(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void un(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(0<=v(cn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fn(this),0<this.B&&((this.L=function(e){return A&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=p(this.ua,this)):this.A=Te(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){un(this,o)}},r.ua=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,he(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,he(this,"complete"),he(this,"abort"),dn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dn(this,!0)),on.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?hn(this):this.kb())},r.kb=function(){hn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<pn(this)?this.g.status:-1}catch(Kt){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(Kt){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=bn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ze(this,this.l,e);let o=this.s;if(this.U&&(o?$(o=Q(o),this.U):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Tn(this,i,t),St(n=vt(this.I),"RID",e),St(n,"CVER",22),this.F&&St(n,"X-HTTP-Session-Id",this.F),kn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(gn(o)))+"&"+t:this.o&&yn(n,this.o,o)),qt(this.i,i),this.bb&&St(n,"TYPE","init"),this.P?(St(n,"$req",t),St(n,"SID","null"),i.aa=!0,it(i,n,null)):it(i,n,t),this.H=2}}else 3==this.H&&(e?In(this,e):0==this.j.length||Vt(this.i)||In(this))},r.Ma=function(){if(this.u=null,An(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Be(p(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ve(10),_n(this),An(this))},r.ib=function(){null!=this.v&&(this.v=null,_n(this),On(this),Ve(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ve(2)):(this.l.info("Failed to ping google.com"),Ve(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=Fn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Un.prototype.g=function(e,t){return new Vn(e,t)},g(Vn,le),Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ve(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Mn(e,null,e.Y),En(e)},Vn.prototype.close=function(){wn(this.g)},Vn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fe(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&En(t)},Vn.prototype.N=function(){this.g.h=null,delete this.j,wn(this.g),delete this.g,Vn.$.N.call(this)},g(zn,$e),g(Bn,Je),g(qn,Fn),qn.prototype.Ba=function(){he(this.g,"a")},qn.prototype.Aa=function(e){he(this.g,new zn(e))},qn.prototype.za=function(e){he(this.g,new Bn)},qn.prototype.ya=function(){he(this.g,"b")},g(Wn,function(){this.blockSize=-1}),Wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Hn(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Hn(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Hn(this,r),i=0;break}}this.h=i,this.i+=t},Wn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Gn={};function Qn(e){return-128<=e&&128>e?function(e,t){var n=Gn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Kn([0|e],0>e?-1:0)}):new Kn([0|e],0>e?-1:0)}function Yn(e){if(isNaN(e)||!isFinite(e))return Jn;if(0>e)return nr(Yn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$n;return new Kn(t,0)}var $n=4294967296,Jn=Qn(0),Xn=Qn(1),Zn=Qn(16777216);function er(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function tr(e){return-1==e.h}function nr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Kn(n,~e.h).add(Xn)}function rr(e,t){return e.add(nr(t))}function ir(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function or(e,t){this.g=e,this.h=t}function sr(e,t){if(er(t))throw Error("division by zero");if(er(e))return new or(Jn,Jn);if(tr(e))return t=sr(nr(e),t),new or(nr(t.g),nr(t.h));if(tr(t))return t=sr(e,nr(t)),new or(nr(t.g),t.h);if(30<e.g.length){if(tr(e)||tr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xn,r=t;0>=r.X(e);)n=ar(n),r=ar(r);var i=cr(n,1),o=cr(r,1);for(r=cr(r,2),n=cr(n,2);!er(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=cr(r,1),n=cr(n,1)}return t=rr(e,i.R(t)),new or(i,t)}for(i=Jn;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Yn(n)).R(t);tr(s)||0<s.X(e);)s=(o=Yn(n-=r)).R(t);er(o)&&(o=Xn),i=i.add(o),e=rr(e,s)}return new or(i,e)}function ar(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Kn(n,e.h)}function cr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Kn(i,e.h)}(r=Kn.prototype).ea=function(){if(tr(this))return-nr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$n+r)*t,t*=$n}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(er(this))return"0";if(tr(this))return"-"+nr(this).toString(e);for(var t=Yn(Math.pow(e,6)),n=this,r="";;){var i=sr(n,t).g,o=((0<(n=rr(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(er(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return tr(e=rr(this,e))?-1:er(e)?0:1},r.abs=function(){return tr(this)?nr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Kn(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(er(this)||er(e))return Jn;if(tr(this))return tr(e)?nr(this).R(nr(e)):nr(nr(this).R(e));if(tr(e))return nr(this.R(nr(e)));if(0>this.X(Zn)&&0>e.X(Zn))return Yn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,ir(n,2*r+2*i),n[2*r+2*i+1]+=o*c,ir(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ir(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ir(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Kn(n,0)},r.gb=function(e){return sr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Kn(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Kn(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Kn(n,this.h^e.h)},Un.prototype.createWebChannel=Un.prototype.g,Vn.prototype.send=Vn.prototype.u,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,We.COMPLETE="complete",Ge.EventType=Ye,Ye.OPEN="a",Ye.CLOSE="b",Ye.ERROR="c",Ye.MESSAGE="d",le.prototype.listen=le.prototype.O,on.prototype.listenOnce=on.prototype.P,on.prototype.getLastError=on.prototype.Sa,on.prototype.getLastErrorCode=on.prototype.Ia,on.prototype.getStatus=on.prototype.da,on.prototype.getResponseJson=on.prototype.Wa,on.prototype.getResponseText=on.prototype.ja,on.prototype.send=on.prototype.ha,on.prototype.setWithCredentials=on.prototype.Oa,Wn.prototype.digest=Wn.prototype.l,Wn.prototype.reset=Wn.prototype.reset,Wn.prototype.update=Wn.prototype.j,Kn.prototype.add=Kn.prototype.add,Kn.prototype.multiply=Kn.prototype.R,Kn.prototype.modulo=Kn.prototype.gb,Kn.prototype.compare=Kn.prototype.X,Kn.prototype.toNumber=Kn.prototype.ea,Kn.prototype.toString=Kn.prototype.toString,Kn.prototype.getBits=Kn.prototype.D,Kn.fromNumber=Yn,Kn.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return nr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Yn(Math.pow(n,8)),i=Jn,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Yn(Math.pow(n,s)),i=i.R(s).add(Yn(a))):i=(i=i.R(r)).add(Yn(a))}return i};var ur=o.createWebChannelTransport=function(){return new Un},lr=o.getStatEventTarget=function(){return Me()},hr=o.ErrorCode=qe,dr=o.EventType=We,fr=o.Event=De,pr=o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mr=(o.FetchXmlHttpFactory=Jt,o.WebChannel=Ge),gr=o.XhrIo=on,yr=o.Md5=Wn,vr=o.Integer=Kn}).call(this,n(24))},,function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p});var r=n(1),i=n(41),o=n(7),s=n(8);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const l=r.startTransition;i.flushSync;function h(e){let{basename:t,children:n,future:i,window:a}=e,c=r.useRef();null==c.current&&(c.current=Object(s.i)({window:a,v5Compat:!0}));let u=c.current,[h,d]=r.useState({action:u.action,location:u.location}),{v7_startTransition:f}=i||{},p=r.useCallback(e=>{f&&l?l(()=>d(e)):d(e)},[d,f]);return r.useLayoutEffect(()=>u.listen(p),[u,p]),r.createElement(o.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u})}const d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p=r.forwardRef(function(e,t){let n,{onClick:i,relative:l,reloadDocument:h,replace:p,state:m,target:g,to:y,preventScrollReset:v,unstable_viewTransition:b}=e,w=c(e,u),{basename:_}=r.useContext(o.f),S=!1;if("string"===typeof y&&f.test(y)&&(n=y,d))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=Object(s.t)(t.pathname,_);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:S=!0}catch(k){}let E=Object(o.l)(y,{relative:l}),I=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:c,relative:u,unstable_viewTransition:l}=void 0===t?{}:t,h=Object(o.o)(),d=Object(o.m)(),f=Object(o.r)(e,{relative:u});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:Object(s.l)(d)===Object(s.l)(f);h(e,{replace:n,state:a,preventScrollReset:c,relative:u,unstable_viewTransition:l})}},[d,h,f,i,a,n,e,c,u,l])}(y,{replace:p,state:m,target:g,preventScrollReset:v,relative:l,unstable_viewTransition:b});return r.createElement("a",a({},w,{href:n||E,onClick:S||h?i:function(e){i&&i(e),e.defaultPrevented||I(e)},ref:t,target:g}))});var m,g;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m||(m={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(g||(g={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(3);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(3),i=n(16),o=n(9),s=n(12);class a{constructor(e,t){this._delegate=e,this.firebase=t,Object(o._addComponent)(e,new i.a("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Object(o.deleteApp)(this._delegate)))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Object(o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){Object(o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.b("app-compat","Firebase",c);const l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=o.initializeApp(i,s);if(Object(r.f)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw u.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&Object(r.j)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){const e=this._getService.bind(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(e=e||o._DEFAULT_ENTRY_NAME,!Object(r.f)(t,e))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(r.j)(t,e)},createSubscribe:r.h,ErrorFactory:r.b,deepExtend:r.j}),t}(),h=new s.b("@firebase/app-compat"),d="@firebase/app-compat",f="0.2.27";if(Object(r.r)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const p=l;var m;Object(o.registerVersion)(d,f,m)},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var i=(e.match(/[^0-9]*$/)||"").toString();return r[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function o(e){var t=i(e);return"".concat(t.value).concat(t.unit)}},function(e,t,n){"use strict";(function(e){var r=n(4),i=n(10),o=n(35);function s(e){return r.a.isPlainObject(e)||r.a.isArray(e)}function a(e){return r.a.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,n){return e?e.concat(t).map(function(e,t){return e=a(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const u=r.a.toFlatObject(r.a,{},null,function(e){return/^is[A-Z]/.test(e)});t.a=function(t,n,l){if(!r.a.isObject(t))throw new TypeError("target must be an object");n=n||new(o.a||FormData);const h=(l=r.a.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!r.a.isUndefined(t[e])})).metaTokens,d=l.visitor||y,f=l.dots,p=l.indexes,m=(l.Blob||"undefined"!==typeof Blob&&Blob)&&r.a.isSpecCompliantForm(n);if(!r.a.isFunction(d))throw new TypeError("visitor must be a function");function g(t){if(null===t)return"";if(r.a.isDate(t))return t.toISOString();if(!m&&r.a.isBlob(t))throw new i.a("Blob is not supported. Use a Buffer instead.");return r.a.isArrayBuffer(t)||r.a.isTypedArray(t)?m&&"function"===typeof Blob?new Blob([t]):e.from(t):t}function y(e,t,i){let o=e;if(e&&!i&&"object"===typeof e)if(r.a.endsWith(t,"{}"))t=h?t:t.slice(0,-2),e=JSON.stringify(e);else if(r.a.isArray(e)&&function(e){return r.a.isArray(e)&&!e.some(s)}(e)||(r.a.isFileList(e)||r.a.endsWith(t,"[]"))&&(o=r.a.toArray(e)))return t=a(t),o.forEach(function(e,i){!r.a.isUndefined(e)&&null!==e&&n.append(!0===p?c([t],i,f):null===p?t:t+"[]",g(e))}),!1;return!!s(e)||(n.append(c(i,t,f),g(e)),!1)}const v=[],b=Object.assign(u,{defaultVisitor:y,convertValue:g,isVisitable:s});if(!r.a.isObject(t))throw new TypeError("data must be an object");return function e(t,i){if(!r.a.isUndefined(t)){if(-1!==v.indexOf(t))throw Error("Circular reference detected in "+i.join("."));v.push(t),r.a.forEach(t,function(t,o){!0===(!(r.a.isUndefined(t)||null===t)&&d.call(n,t,r.a.isString(o)?o.trim():o,i,b))&&e(t,i?i.concat(o):[o])}),v.pop()}}(t),n}}).call(this,n(95).Buffer)},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function l(){}function h(){}h.resetWarningCache=l;var d,f=(function(e){e.exports=function(){function e(e,t,n,r,i,o){if(o!==u){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h,resetWarningCache:l};return n.PropTypes=n,n}()}(d={exports:{}},d.exports),d.exports),p=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},m=function(e){return null!==e&&"object"===i(e)},g=function e(t,n){if(!m(t)||!m(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var o="[object Object]"===Object.prototype.toString.call(t),s="[object Object]"===Object.prototype.toString.call(n);if(o!==s)return!1;if(!o&&!r)return t===n;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(var u={},l=0;l<a.length;l+=1)u[a[l]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var d=Object.keys(u);if(d.length!==a.length)return!1;var f=t,p=n;return d.every(function(t){return e(f[t],p[t])})},y=function(e,t,n){return m(e)?Object.keys(e).reduce(function(i,s){var a=!m(t)||!g(e[s],t[s]);return n.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?r(r({},i||{}),{},o({},s,e[s])):i},null):null},v="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",b=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(null===e||m(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(function(e){return m(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return b(e,t)})};var n=b(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},_=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},S=["on","session"],E=t.createContext(null);E.displayName="CustomCheckoutSdkContext";var I=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},k=t.createContext(null);k.displayName="CustomCheckoutContext";var T=function(e){var n=e.stripe,i=e.options,o=e.children,c=t.useMemo(function(){return w(n,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),u=t.useState(null),l=a(u,2),h=l[0],d=l[1],f=t.useState(function(){return{stripe:"sync"===c.tag?c.stripe:null,customCheckoutSdk:null}}),y=a(f,2),v=y[0],b=y[1],I=function(e,t){b(function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}})},T=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==c.tag||v.stripe?"sync"===c.tag&&c.stripe&&!T.current&&(T.current=!0,c.stripe.initCustomCheckout(i).then(function(e){e&&(I(c.stripe,e),e.on("change",d))})):c.stripePromise.then(function(t){t&&e&&!T.current&&(T.current=!0,t.initCustomCheckout(i).then(function(e){e&&(I(t,e),e.on("change",d))}))}),function(){e=!1}},[c,v,i,d]);var C=p(n);t.useEffect(function(){null!==C&&C!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[C,n]);var O=p(i);t.useEffect(function(){var e,t;if(v.customCheckoutSdk){!i.clientSecret||m(O)||g(i.clientSecret,O.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===O||void 0===O?void 0:null===(e=O.elementsOptions)||void 0===e?void 0:e.appearance,r=null===i||void 0===i?void 0:null===(t=i.elementsOptions)||void 0===t?void 0:t.appearance;r&&!g(r,n)&&v.customCheckoutSdk.changeAppearance(r)}},[i,O,v.customCheckoutSdk]),t.useEffect(function(){_(v.stripe)},[v.stripe]);var x=t.useMemo(function(){return function(e,t){if(!e)return null;e.on,e.session;var n=s(e,S);return r(r({},n),t||e.session())}(v.customCheckoutSdk,h)},[v.customCheckoutSdk,h]);return v.customCheckoutSdk?t.createElement(E.Provider,{value:v},t.createElement(k.Provider,{value:x},o)):null};T.propTypes={stripe:f.any,options:f.shape({clientSecret:f.string.isRequired,elementsOptions:f.object}).isRequired};var C=function(e){var n=t.useContext(E),r=t.useContext(O);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?I(n,e):x(r,e)},O=t.createContext(null);O.displayName="ElementsContext";var x=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=t.createContext(null);A.displayName="CartElementContext";var R=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo(function(){return w(n)},[n]),s=t.useState(null),c=a(s,2),u=c[0],l=c[1],h=t.useState(null),d=a(h,2),f=d[0],m=d[1],g=t.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}}),v=a(g,2),b=v[0],S=v[1];t.useEffect(function(){var e=!0,t=function(e){S(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==o.tag||b.stripe?"sync"!==o.tag||b.stripe||t(o.stripe):o.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[o,b,r]);var E=p(n);t.useEffect(function(){null!==E&&E!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[E,n]);var I=p(r);return t.useEffect(function(){if(b.elements){var e=y(r,I,["clientSecret","fonts"]);e&&b.elements.update(e)}},[r,I,b.elements]),t.useEffect(function(){_(b.stripe)},[b.stripe]),t.createElement(O.Provider,{value:b},t.createElement(A.Provider,{value:{cart:u,setCart:l,cartState:f,setCartState:m}},i))};R.propTypes={stripe:f.any,options:f.object};var P=function(e){var n=t.useContext(O);return x(n,e)},N={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},D=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(A);return n?N:function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(r,e)},L=function(e){var t=e.children,n=P("mounts <ElementsConsumer>");return t(n)};L.propTypes={children:f.func.isRequired};var M=function(e,n,r){var i=!!r,o=t.useRef(r);t.useEffect(function(){o.current=r},[r]),t.useEffect(function(){if(!i||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}},[i,n,e,o])},j=function(e,n){var r,i="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){var n=C("mounts <".concat(i,">"));D("mounts <".concat(i,">"),"customCheckoutSdk"in n);var r=e.id,o=e.className;return t.createElement("div",{id:r,className:o})}:function(n){var r,o=n.id,s=n.className,c=n.options,u=void 0===c?{}:c,l=n.onBlur,h=n.onFocus,d=n.onReady,f=n.onChange,m=n.onEscape,g=n.onClick,v=n.onLoadError,b=n.onLoaderStart,w=n.onNetworksChange,_=n.onCheckout,S=n.onLineItemClick,E=n.onConfirm,I=n.onCancel,k=n.onShippingAddressChange,T=n.onShippingRateChange,O=C("mounts <".concat(i,">")),x="elements"in O?O.elements:null,A="customCheckoutSdk"in O?O.customCheckoutSdk:null,R=a(t.useState(null),2),P=R[0],N=R[1],L=t.useRef(null),j=t.useRef(null),F=D("mounts <".concat(i,">"),"customCheckoutSdk"in O),U=F.setCart,V=F.setCartState;M(P,"blur",l),M(P,"focus",h),M(P,"escape",m),M(P,"click",g),M(P,"loaderror",v),M(P,"loaderstart",b),M(P,"networkschange",w),M(P,"lineitemclick",S),M(P,"confirm",E),M(P,"cancel",I),M(P,"shippingaddresschange",k),M(P,"shippingratechange",T),"cart"===e?r=function(e){V(e),d&&d(e)}:d&&(r="expressCheckout"===e?d:function(){d(P)}),M(P,"ready",r),M(P,"change","cart"===e?function(e){V(e),f&&f(e)}:f),M(P,"checkout","cart"===e?function(e){V(e),_&&_(e)}:_),t.useLayoutEffect(function(){if(null===L.current&&null!==j.current&&(x||A)){var t=null;A?t=A.createElement(e,u):x&&(t=x.create(e,u)),"cart"===e&&U&&U(t),L.current=t,N(t),t&&t.mount(j.current)}},[x,A,u,U]);var z=p(u);return t.useEffect(function(){if(L.current){var e=y(u,z,["paymentRequest"]);e&&L.current.update(e)}},[u,z]),t.useLayoutEffect(function(){return function(){if(L.current&&"function"===typeof L.current.destroy)try{L.current.destroy(),L.current=null}catch(e){}}},[]),t.createElement("div",{id:o,className:s,ref:j})};return o.propTypes={id:f.string,className:f.string,onChange:f.func,onBlur:f.func,onFocus:f.func,onReady:f.func,onEscape:f.func,onClick:f.func,onLoadError:f.func,onLoaderStart:f.func,onNetworksChange:f.func,onCheckout:f.func,onLineItemClick:f.func,onConfirm:f.func,onCancel:f.func,onShippingAddressChange:f.func,onShippingRateChange:f.func,options:f.object},o.displayName=i,o.__elementType=e,o},F="undefined"===typeof window,U=t.createContext(null);U.displayName="EmbeddedCheckoutProviderContext";var V=function(){var e=t.useContext(U);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},z=F?function(e){var n=e.id,r=e.className;return V(),t.createElement("div",{id:n,className:r})}:function(e){var n=e.id,r=e.className,i=V().embeddedCheckout,o=t.useRef(!1),s=t.useRef(null);return t.useLayoutEffect(function(){return!o.current&&i&&null!==s.current&&(i.mount(s.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch(e){}}},[i]),t.createElement("div",{ref:s,id:n,className:r})},B=j("auBankAccount",F),q=j("card",F),W=j("cardNumber",F),H=j("cardExpiry",F),K=j("cardCvc",F),G=j("fpxBank",F),Q=j("iban",F),Y=j("idealBank",F),$=j("p24Bank",F),J=j("epsBank",F),X=j("payment",F),Z=j("expressCheckout",F),ee=j("paymentRequestButton",F),te=j("linkAuthentication",F),ne=j("address",F),re=j("shippingAddress",F),ie=j("cart",F),oe=j("paymentMethodMessaging",F),se=j("affirmMessage",F),ae=j("afterpayClearpayMessage",F);e.AddressElement=ne,e.AffirmMessageElement=se,e.AfterpayClearpayMessageElement=ae,e.AuBankAccountElement=B,e.CardCvcElement=K,e.CardElement=q,e.CardExpiryElement=H,e.CardNumberElement=W,e.CartElement=ie,e.CustomCheckoutProvider=T,e.Elements=R,e.ElementsConsumer=L,e.EmbeddedCheckout=z,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo(function(){return w(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),s=t.useRef(null),c=t.useRef(null),u=a(t.useState({embeddedCheckout:null}),2),l=u[0],h=u[1];t.useEffect(function(){if(!c.current&&!s.current){var e=function(e){c.current||s.current||(c.current=e,s.current=c.current.initEmbeddedCheckout(r).then(function(e){h({embeddedCheckout:e})}))};"async"===o.tag&&!c.current&&r.clientSecret?o.stripePromise.then(function(t){t&&e(t)}):"sync"===o.tag&&!c.current&&r.clientSecret&&e(o.stripe)}},[o,r,l,c]),t.useEffect(function(){return function(){l.embeddedCheckout?(s.current=null,l.embeddedCheckout.destroy()):s.current&&s.current.then(function(){s.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()})}},[l.embeddedCheckout]),t.useEffect(function(){_(c)},[c]);var d=p(n);t.useEffect(function(){null!==d&&d!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=p(r);return t.useEffect(function(){null!=f&&(null!=r?(null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[f,r]),t.createElement(U.Provider,{value:l},i)},e.EpsBankElement=J,e.ExpressCheckoutElement=Z,e.FpxBankElement=G,e.IbanElement=Q,e.IdealBankElement=Y,e.LinkAuthenticationElement=te,e.P24BankElement=$,e.PaymentElement=X,e.PaymentMethodMessagingElement=oe,e.PaymentRequestButtonElement=ee,e.ShippingAddressElement=re,e.useCartElement=function(){return D("calls useCartElement()").cart},e.useCartElementState=function(){return D("calls useCartElementState()").cartState},e.useCustomCheckout=function(){!function(e){var n=t.useContext(E);I(n,e)}("calls useCustomCheckout()");var e=t.useContext(k);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},e.useElements=function(){return P("calls useElements()").elements},e.useStripe=function(){return C("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},,function(e,t,n){"use strict";var r=n(2);n(3),n(9),n(12),n(16);n.d(t,"a",function(){return r.M}),n.d(t,"b",function(){return r.tb}),n.d(t,"c",function(){return r.N})},,,function(e,t,n){e.exports=n(83)()},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(s,0),r}},function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.a=null},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(e)}function o(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"}}]})(e)}},,,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,h=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")"}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(73)},,,,function(e,t,n){var r,i,o;i=[t,n(82)],void 0===(o="function"===typeof(r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};e.default=r.default})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(85))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)((r=!!e,(n=e||"")in(t={"carousel-root":!0})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));var t,n,r},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=u(n(46)),o=n(86),s=u(n(40)),a=u(n(45)),c=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return e.hasOwnProperty("key")},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,r.Component);var t,n,u,l=m(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),v(g(t=l.call(this,e)),"itemsWrapperRef",void 0),v(g(t),"itemsListRef",void 0),v(g(t),"thumbsRef",void 0),v(g(t),"setItemsWrapperRef",function(e){t.itemsWrapperRef=e}),v(g(t),"setItemsListRef",function(e){t.itemsListRef=e}),v(g(t),"setThumbsRef",function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e}),v(g(t),"updateSizes",function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,c=a?e-s:0;t.setState(function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:c,showArrows:a}})}}),v(g(t),"handleClickItem",function(e,n,r){if(!b(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}}),v(g(t),"onSwipeStart",function(){t.setState({swiping:!0})}),v(g(t),"onSwipeEnd",function(){t.setState({swiping:!1})}),v(g(t),"onSwipeMove",function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)}),!0}),v(g(t),"slideRight",function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))}),v(g(t),"slideLeft",function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))}),v(g(t),"moveTo",function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})}),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=h,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map(function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",d({},s,{role:"button",tabIndex:0}),t)})}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,c=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,u=-this.state.firstItem*(this.state.itemSize||0),l=(0,s.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return t={WebkitTransform:l,MozTransform:l,MsTransform:l,OTransform:l,transform:l,msTransform:l,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!c),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),u&&f(t,u),h}();t.default=w,v(w,"displayName","Thumbs"),v(w,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(1),o=(r=n(40))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){n[r]=(0,o.default)(e,"%",t)}),n}},function(e,t,n){"use strict";var r=n(41);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]})(e)}},function(e,t,n){"use strict";var r=n(18);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","10.8.0","app-compat")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"}}]})(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"}},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"}},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"}}]})(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return i.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return o.default}});var r=s(n(81)),i=n(89),o=s(n(47));function s(e){return e&&e.__esModule?e:{default:e}}},,,,,,,function(e,t,n){var r,i;void 0===(i="function"===typeof(r=function(){var e,t,n={},r={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},o={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat,scalePercentBy100:i.scalePercentBy100};function s(e,t){this._input=e,this._value=t}return(e=function(r){var i,a,c,u;if(e.isNumeral(r))i=r.value();else if(0===r||"undefined"===typeof r)i=0;else if(null===r||t.isNaN(r))i=null;else if("string"===typeof r)if(o.zeroFormat&&r===o.zeroFormat)i=0;else if(o.nullFormat&&r===o.nullFormat||!r.replace(/[^0-9]+/g,"").length)i=null;else{for(a in n)if((u="function"===typeof n[a].regexps.unformat?n[a].regexps.unformat():n[a].regexps.unformat)&&r.match(u)){c=n[a].unformat;break}i=(c=c||e._.stringToNumber)(r)}else i=Number(r)||null;return new s(r,i)}).version="2.0.6",e.isNumeral=function(e){return e instanceof s},e._=t={numberToFormat:function(t,n,i){var o,s,a,c,u,l,h,d,f=r[e.options.currentLocale],p=!1,m=!1,g="",y="",v=!1;if(t=t||0,a=Math.abs(t),e._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(l=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(s=!!(s=n.match(/a(k|m|b|t)?/))&&s[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),a>=1e12&&!s||"t"===s?(g+=f.abbreviations.trillion,t/=1e12):a<1e12&&a>=1e9&&!s||"b"===s?(g+=f.abbreviations.billion,t/=1e9):a<1e9&&a>=1e6&&!s||"m"===s?(g+=f.abbreviations.million,t/=1e6):(a<1e6&&a>=1e3&&!s||"k"===s)&&(g+=f.abbreviations.thousand,t/=1e3)),e._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),c=t.toString().split(".")[0],u=n.split(".")[1],h=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(e._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),y=e._.toFixed(t,u[0].length+u[1].length,i,u[1].length)):y=e._.toFixed(t,u.length,i),c=y.split(".")[0],y=e._.includes(y,".")?f.delimiters.decimal+y.split(".")[1]:"",m&&0===Number(y.slice(1))&&(y="")):c=e._.toFixed(t,0,i),g&&!s&&Number(c)>=1e3&&g!==f.abbreviations.trillion)switch(c=String(Number(c)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(e._.includes(c,"-")&&(c=c.slice(1),v=!0),c.length<o)for(var b=o-c.length;b>0;b--)c="0"+c;return h>-1&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(c=""),d=c+y+(g||""),p?d=(p&&v?"(":"")+d+(p&&v?")":""):l>=0?d=0===l?(v?"-":"+")+d:d+(v?"-":"+"):v&&(d="-"+d),d},stringToNumber:function(e){var t,n,i,s=r[o.currentLocale],a=e,c={thousand:3,million:6,billion:9,trillion:12};if(o.zeroFormat&&e===o.zeroFormat)n=0;else if(o.nullFormat&&e===o.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==s.delimiters.decimal&&(e=e.replace(/\./g,"").replace(s.delimiters.decimal,".")),c)if(i=new RegExp("[^a-zA-Z]"+s.abbreviations[t]+"(?:\\)|(\\"+s.currency.symbol+")?(?:\\))?)?$"),a.match(i)){n*=Math.pow(10,c[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,n){var r=t.multiplier(n);return e>r?e:r},1)},toFixed:function(e,t,n,r){var i,o,s,a,c=e.toString().split("."),u=t-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,u),t):u,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=o,e.formats=n,e.locales=r,e.locale=function(e){return e&&(o.currentLocale=e.toLowerCase()),o.currentLocale},e.localeData=function(e){if(!e)return r[o.currentLocale];if(e=e.toLowerCase(),!r[e])throw new Error("Unknown locale : "+e);return r[e]},e.reset=function(){for(var e in i)o[e]=i[e]},e.zeroFormat=function(e){o.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){o.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){o.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,c,u,l;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=e.localeData(n)}catch(h){u=e.localeData(e.locale())}return o=u.currency.symbol,a=u.abbreviations,r=u.delimiters.decimal,i="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,(null===(l=t.match(/^[^\d]+/))||(t=t.substr(1),l[0]===o))&&(null===(l=t.match(/[^\d]+$/))||(t=t.slice(0,-1),l[0]===a.thousand||l[0]===a.million||l[0]===a.billion||l[0]===a.trillion))&&(c=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((s=t.split(r)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(c):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(c)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(c)&&!!s[1].match(/^\d+$/)))},e.fn=s.prototype={clone:function(){return e(this)},format:function(t,r){var i,s,a,c=this._value,u=t||o.defaultFormat;if(r=r||Math.round,0===c&&null!==o.zeroFormat)s=o.zeroFormat;else if(null===c&&null!==o.nullFormat)s=o.nullFormat;else{for(i in n)if(u.match(n[i].regexps.format)){a=n[i].format;break}s=(a=a||e._.numberToFormat)(c,u,r)}return s},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],function(e,t,r,i){return e+Math.round(n*t)},0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],function(e,t,r,i){return e-Math.round(n*t)},Math.round(this._value*n))/n,this},multiply:function(e){return this._value=t.reduce([this._value,e],function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)},1),this},divide:function(e){return this._value=t.reduce([this._value,e],function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter(function(e){return t.suffixes.indexOf(e)<0})).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var s,a,c,u=e._.includes(i,"ib")?n:t,l=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=u.suffixes.length;s++)if(a=Math.pow(u.base,s),c=Math.pow(u.base,s+1),null===r||0===r||r>=a&&r<c){l+=u.suffixes[s],a>0&&(r/=a);break}return e._.numberToFormat(r,i,o)+l},unformat:function(r){var i,o,s=e._.stringToNumber(r);if(s){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}s*=o||1}return s}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],function(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)},1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";var r=n(92),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=d(n,y);try{u(t,y,v)}catch(b){}}}}return t}},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",a=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},c=null,u=null,l=null,h=function(e){return null!==c?c:(c=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(s),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var n=e[t];if(o.test(n.src))return n}return null}();if(r&&e)console.warn(s);else if(r){if(r&&null!==l&&null!==u){var c;r.removeEventListener("load",l),r.removeEventListener("error",u),null===(c=r.parentNode)||void 0===c||c.removeChild(r),r=a(e)}}else r=a(e);l=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),u=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",l),r.addEventListener("error",u)}catch(h){return void n(h)}else t(null)})).catch(function(e){return c=null,Promise.reject(e)})},d=!1,f=function(){return r||(r=h(null).catch(function(e){return r=null,Promise.reject(e)}))};Promise.resolve().then(function(){return f()}).catch(function(e){d||console.warn(e)});var p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d=!0;var r=Date.now();return f().then(function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(r,n),r}(e,t,r)})}},,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=w.prototype=new b;_.constructor=w,g(_,v.prototype),_.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:r,type:e,key:s,ref:a,props:o,_owner:I.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,n,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case i:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,S(s)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(s,t,n,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var l=o+x(a=e[u],u);c+=A(a,t,n,l,s)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(a=e.next()).done;)c+=A(a=a.value,t,n,l=o+x(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},L={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:r,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(1),i=n(74);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case I:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case O:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ee(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,le=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function Ie(e){if(e=di(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=pi(t),_e(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var xe=!1;function Ae(e,t,n){if(xe)return e(t,n);xe=!0;try{return Ce(e,t,n)}finally{xe=!1,(null!==Se||null!==Ee)&&(Oe(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Pe=!1}var De=!1,Le=null,Me=!1,je=null,Fe={onError:function(e){De=!0,Le=e}};function Ue(e,t,n,r,i,o,s,a,c){De=!1,Le=null,function(e,t,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Be(i),e;if(s===r)return Be(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var We=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Qe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,Xe=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var st=64,at=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ct(a):0!==(o&=s)&&(r=ct(o))}else 0!==(s=n&~i)?r=ct(s):0!==o&&(r=ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function dt(){var e=st;return 0===(4194240&(st<<=1))&&(st=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,bt,wt,_t,St,Et=!1,It=[],kt=null,Tt=null,Ct=null,Ot=new Map,xt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=di(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=hi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=di(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){Lt(e)&&n.delete(t)}function jt(){Et=!1,null!==kt&&Lt(kt)&&(kt=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Ct&&Lt(Ct)&&(Ct=null),Ot.forEach(Mt),xt.forEach(Mt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<It.length){Ft(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ft(kt,e),null!==Tt&&Ft(Tt,e),null!==Ct&&Ft(Ct,e),Ot.forEach(t),xt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Dt(n),null===n.blockedOn&&At.shift()}var Vt=w.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,r){var i=gt,o=Vt.transition;Vt.transition=null;try{gt=1,Wt(e,t,n,r)}finally{gt=i,Vt.transition=o}}function qt(e,t,n,r){var i=gt,o=Vt.transition;Vt.transition=null;try{gt=4,Wt(e,t,n,r)}finally{gt=i,Vt.transition=o}}function Wt(e,t,n,r){if(zt){var i=Kt(e,t,n,r);if(null===i)jr(e,t,r,Ht,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Nt(kt,e,t,n,r,i),!0;case"dragenter":return Tt=Nt(Tt,e,t,n,r,i),!0;case"mouseover":return Ct=Nt(Ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Nt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Nt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=di(i);if(null!==o&&vt(o),null===(o=Kt(e,t,n,r))&&jr(e,t,r,Ht,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Ht=null;function Kt(e,t,n,r){if(Ht=null,null!==(e=hi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case $e:return 1;case Je:return 4;case Xe:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,$t=null;function Jt(){if($t)return $t;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=tn(sn),cn=j({},sn,{view:0,detail:0}),un=tn(cn),ln=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),hn=tn(ln),dn=tn(j({},ln,{dataTransfer:0})),fn=tn(j({},cn,{relatedTarget:0})),pn=tn(j({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=tn(j({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gn=tn(j({},sn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function _n(){return wn}var Sn=tn(j({},cn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=tn(j({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=tn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),kn=tn(j({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=tn(j({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=[9,13,27,32],On=l&&"CompositionEvent"in window,xn=null;l&&"documentMode"in document&&(xn=document.documentMode);var An=l&&"TextEvent"in window&&!xn,Rn=l&&(!On||xn&&8<xn&&11>=xn),Pn=String.fromCharCode(32),Nn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Un(e,t,n,r){ke(r),0<(t=Ur(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Bn(e){Rr(e,0)}function qn(e){if(K(fi(e)))return e}function Wn(e,t){if("change"===e)return t}var Hn=!1;if(l){var Kn;if(l){var Gn="oninput"in document;if(!Gn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Gn="function"===typeof Qn.oninput}Kn=Gn}else Kn=!1;Hn=Kn&&(!document.documentMode||9<document.documentMode)}function Yn(){Vn&&(Vn.detachEvent("onpropertychange",$n),zn=Vn=null)}function $n(e){if("value"===e.propertyName&&qn(zn)){var t=[];Un(t,zn,e,we(e)),Ae(Bn,t)}}function Jn(e,t,n){"focusin"===e?(Yn(),zn=n,(Vn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Yn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(zn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function or(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ar(e){var t=or(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&sr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ir(n,o);var s=ir(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cr=l&&"documentMode"in document&&11>=document.documentMode,ur=null,lr=null,hr=null,dr=!1;function fr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==ur||ur!==G(r)||("selectionStart"in(r=ur)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&nr(hr,r)||(hr=r,0<(r=Ur(lr,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},gr={},yr={};function vr(e){if(gr[e])return gr[e];if(!mr[e])return e;var t,n=mr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return gr[e]=n[t];return e}l&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);var br=vr("animationend"),wr=vr("animationiteration"),_r=vr("animationstart"),Sr=vr("transitionend"),Er=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Er.set(e,t),c(t,[e])}for(var Tr=0;Tr<Ir.length;Tr++){var Cr=Ir[Tr];kr(Cr.toLowerCase(),"on"+(Cr[0].toUpperCase()+Cr.slice(1)))}kr(br,"onAnimationEnd"),kr(wr,"onAnimationIteration"),kr(_r,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Sr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,u){if(Ue.apply(this,arguments),De){if(!De)throw Error(o(198));var l=Le;De=!1,Le=null,Me||(Me=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,a,u),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,a,u),o=c}}}if(Me)throw e=je,Me=!1,je=null,e}function Pr(e,t){var n=t[ci];void 0===n&&(n=t[ci]=new Set);var r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Mr(n,e,r,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Dr]){e[Dr]=!0,s.forEach(function(t){"selectionchange"!==t&&(xr.has(t)||Nr(t,!1,e),Nr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Dr]||(t[Dr]=!0,Nr("selectionchange",!1,t))}}function Mr(e,t,n,r){switch(Gt(t)){case 1:var i=Bt;break;case 4:i=qt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=hi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=o,i=we(n),s=[];e:{var a=Er.get(e);if(void 0!==a){var c=an,u=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":c=Sn;break;case"focusin":u="focus",c=fn;break;case"focusout":u="blur",c=fn;break;case"beforeblur":case"afterblur":c=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=In;break;case br:case wr:case _r:c=pn;break;case Sr:c=kn;break;case"scroll":c=un;break;case"wheel":c=Tn;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var l=0!==(4&t),h=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&l.push(Fr(p,m,f)))),h)break;p=p.return}0<l.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!hi(u)&&!u[ai])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?hi(u):null)&&(u!==(h=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=hn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:fi(c),f=null==u?a:fi(u),(a=new l(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,hi(i)===r&&((l=new l(d,p+"enter",u,n,i)).target=f,l.relatedTarget=h,m=l),h=m,c&&u)e:{for(d=u,p=0,f=l=c;f;f=Vr(f))p++;for(f=0,m=d;m;m=Vr(m))f++;for(;0<p-f;)l=Vr(l),p--;for(;0<f-p;)d=Vr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Vr(l),d=Vr(d)}l=null}else l=null;null!==c&&zr(s,a,c,l,!1),null!==u&&null!==h&&zr(s,h,u,l,!0)}if("select"===(c=(a=r?fi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Wn;else if(Fn(a))if(Hn)g=er;else{g=Xn;var y=Jn}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=Zn);switch(g&&(g=g(e,r))?Un(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&Z(a,"number",a.value)),y=r?fi(r):window,e){case"focusin":(Fn(y)||"true"===y.contentEditable)&&(ur=y,lr=r,hr=null);break;case"focusout":hr=lr=ur=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,fr(s,n,i);break;case"selectionchange":if(cr)break;case"keydown":case"keyup":fr(s,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Mn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Mn&&(v=Jt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,Mn=!0)),0<(y=Ur(r,b)).length&&(b=new gn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Ln(n))&&(b.data=v))),(v=An?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Nn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!On&&Dn(e,t)?(e=Jt(),$t=Yt=Qt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Rr(s,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=Re(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(c=Re(n,o))&&s.unshift(Fr(n,c,a)):i||null!=(c=Re(n,o))&&s.push(Fr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Br=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Wr(e){return("string"===typeof e?e:""+e).replace(Br,"\n").replace(qr,"")}function Hr(e,t,n){if(t=Wr(t),Wr(e)!==t&&n)throw Error(o(425))}function Kr(){}var Gr=null,Qr=null;function Yr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Jr="function"===typeof clearTimeout?clearTimeout:void 0,Xr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Xr?function(e){return Xr.resolve(null).then(e).catch(ei)}:$r;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),oi="__reactFiber$"+ii,si="__reactProps$"+ii,ai="__reactContainer$"+ii,ci="__reactEvents$"+ii,ui="__reactListeners$"+ii,li="__reactHandles$"+ii;function hi(e){var t=e[oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ai]||n[oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[oi])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function di(e){return!(e=e[oi]||e[ai])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function pi(e){return e[si]||null}var mi=[],gi=-1;function yi(e){return{current:e}}function vi(e){0>gi||(e.current=mi[gi],mi[gi]=null,gi--)}function bi(e,t){mi[++gi]=e.current,e.current=t}var wi={},_i=yi(wi),Si=yi(!1),Ei=wi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return wi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){vi(Si),vi(_i)}function Ci(e,t,n){if(_i.current!==wi)throw Error(o(168));bi(_i,t),bi(Si,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return j({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,Ei=_i.current,bi(_i,e),bi(Si,Si.current),!0}function Ai(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,vi(Si),vi(_i),bi(_i,e)):vi(Si),bi(Si,n)}var Ri=null,Pi=!1,Ni=!1;function Di(e){null===Ri?Ri=[e]:Ri.push(e)}function Li(){if(!Ni&&null!==Ri){Ni=!0;var e=0,t=gt;try{var n=Ri;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Pi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),We($e,Li),i}finally{gt=t,Ni=!1}}return null}var Mi=[],ji=0,Fi=null,Ui=0,Vi=[],zi=0,Bi=null,qi=1,Wi="";function Hi(e,t){Mi[ji++]=Ui,Mi[ji++]=Fi,Fi=e,Ui=t}function Ki(e,t,n){Vi[zi++]=qi,Vi[zi++]=Wi,Vi[zi++]=Bi,Bi=e;var r=qi;e=Wi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var o=32-rt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qi=1<<32-rt(t)+i|n<<i|r,Wi=o+e}else qi=1<<o|n<<i|r,Wi=e}function Gi(e){null!==e.return&&(Hi(e,1),Ki(e,1,0))}function Qi(e){for(;e===Fi;)Fi=Mi[--ji],Mi[ji]=null,Ui=Mi[--ji],Mi[ji]=null;for(;e===Bi;)Bi=Vi[--zi],Vi[zi]=null,Wi=Vi[--zi],Vi[zi]=null,qi=Vi[--zi],Vi[zi]=null}var Yi=null,$i=null,Ji=!1,Xi=null;function Zi(e,t){var n=mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function eo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Yi=e,$i=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Yi=e,$i=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Bi?{id:qi,overflow:Wi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Yi=e,$i=null,!0);default:return!1}}function to(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function no(e){if(Ji){var t=$i;if(t){var n=t;if(!eo(e,t)){if(to(e))throw Error(o(418));t=ni(n.nextSibling);var r=Yi;t&&eo(e,t)?Zi(r,n):(e.flags=-4097&e.flags|2,Ji=!1,Yi=e)}}else{if(to(e))throw Error(o(418));e.flags=-4097&e.flags|2,Ji=!1,Yi=e}}}function ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Yi=e}function io(e){if(e!==Yi)return!1;if(!Ji)return ro(e),Ji=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Yr(e.type,e.memoizedProps)),t&&(t=$i)){if(to(e))throw oo(),Error(o(418));for(;t;)Zi(e,t),t=ni(t.nextSibling)}if(ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$i=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$i=null}}else $i=Yi?ni(e.stateNode.nextSibling):null;return!0}function oo(){for(var e=$i;e;)e=ni(e.nextSibling)}function so(){$i=Yi=null,Ji=!1}function ao(e){null===Xi?Xi=[e]:Xi.push(e)}var co=w.ReactCurrentBatchConfig;function uo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var lo=yi(null),ho=null,fo=null,po=null;function mo(){po=fo=ho=null}function go(e){var t=lo.current;vi(lo),e._currentValue=t}function yo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vo(e,t){ho=e,po=fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(la=!0),e.firstContext=null)}function bo(e){var t=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:t,next:null},null===fo){if(null===ho)throw Error(o(308));fo=e,ho.dependencies={lanes:0,firstContext:e}}else fo=fo.next=e;return t}var wo=null;function _o(e){null===wo?wo=[e]:wo.push(e)}function So(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_o(t)):(n.next=i.next,i.next=n),t.interleaved=n,Eo(e,r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&gc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Eo(e,n)}return null===(i=r.interleaved)?(t.next=t,_o(r)):(t.next=i.next,i.next=t),r.interleaved=t,Eo(e,n)}function xo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ro(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(s=0,l=u=c=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Io=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(u=l=f,c=h):l=l.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ic|=s,e.lanes=s,e.memoizedState=h}}function Po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var No=(new r.Component).refs;function Do(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bc(),i=qc(e),o=Co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Wc(t,e,i,r),xo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bc(),i=qc(e),o=Co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Wc(t,e,i,r),xo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bc(),r=qc(e),i=Co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(Wc(t,e,r,n),xo(t,e,r))}};function Mo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,o))}function jo(e,t,n){var r=!1,i=wi,o=t.contextType;return"object"===typeof o&&null!==o?o=bo(o):(i=ki(t)?Ei:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):wi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=No,ko(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=bo(o):(o=ki(t)?Ei:_i.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Do(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),Ro(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;t===No&&(t=i.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bo(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=yu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=_u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Bo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=vu(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Su(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=vu(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case S:return(t=Su(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(ee(t)||L(t))return(t=bu(t,e.mode,n,null)).return=e,t;zo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(ee(n)||L(n))return null!==i?null:h(e,t,n,r,null);zo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);zo(t,r)}return null}function m(i,o,a,c){for(var u=null,l=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===l?u=y:l.sibling=y,l=y,h=g}if(m===a.length)return n(i,h),Ji&&Hi(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(o=s(h,o,m),null===l?u=h:l.sibling=h,l=h);return Ji&&Hi(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===l?u=g:l.sibling=g,l=g);return e&&h.forEach(function(e){return t(i,e)}),Ji&&Hi(i,m),u}function g(i,a,c,u){var l=L(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var h=l=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?l=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),Ji&&Hi(i,g),l;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?l=v:h.sibling=v,h=v);return Ji&&Hi(i,g),l}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),Ji&&Hi(i,g),l}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var u=s.key,l=o;null!==l;){if(l.key===u){if((u=s.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Bo(u)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Vo(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===E?((o=bu(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=vu(s.type,s.key,s.props,null,r.mode,c)).ref=Vo(r,o,s),c.return=r,r=c)}return a(r);case S:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Su(s,r.mode,c)).return=r,r=o}return a(r);case P:return e(r,o,(l=s._init)(s._payload),c)}if(ee(s))return m(r,o,s,c);if(L(s))return g(r,o,s,c);zo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=_u(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var Wo=qo(!0),Ho=qo(!1),Ko={},Go=yi(Ko),Qo=yi(Ko),Yo=yi(Ko);function $o(e){if(e===Ko)throw Error(o(174));return e}function Jo(e,t){switch(bi(Yo,t),bi(Qo,e),bi(Go,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}vi(Go),bi(Go,t)}function Xo(){vi(Go),vi(Qo),vi(Yo)}function Zo(e){$o(Yo.current);var t=$o(Go.current),n=ae(t,e.type);t!==n&&(bi(Qo,e),bi(Go,n))}function es(e){Qo.current===e&&(vi(Go),vi(Qo))}var ts=yi(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=w.ReactCurrentDispatcher,ss=w.ReactCurrentBatchConfig,as=0,cs=null,us=null,ls=null,hs=!1,ds=!1,fs=0,ps=0;function ms(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function ys(e,t,n,r,i,s){if(as=s,cs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Js:Xs,e=n(r,i),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,ls=us=null,t.updateQueue=null,os.current=Zs,e=n(r,i)}while(ds)}if(os.current=$s,t=null!==us&&null!==us.next,as=0,ls=us=cs=null,hs=!1,t)throw Error(o(300));return e}function vs(){var e=0!==fs;return fs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?cs.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===us){var e=cs.alternate;e=null!==e?e.memoizedState:null}else e=us.next;var t=null===ls?cs.memoizedState:ls.next;if(null!==t)ls=t,us=e;else{if(null===e)throw Error(o(310));e={memoizedState:(us=e).memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},null===ls?cs.memoizedState=ls=e:ls=ls.next=e}return ls}function _s(e,t){return"function"===typeof t?t(e):t}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=us,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,u=null,l=s;do{var h=l.lane;if((as&h)===h)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=d,a=r):u=u.next=d,cs.lanes|=h,Ic|=h}l=l.next}while(null!==l&&l!==s);null===u?a=r:u.next=c,tr(r,t.memoizedState)||(la=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,cs.lanes|=s,Ic|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);tr(s,t.memoizedState)||(la=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function ks(e,t){var n=cs,r=ws(),i=t(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,la=!0),r=r.queue,js(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Cs.bind(null,n,r,i,t),void 0,null),null===yc)throw Error(o(349));0!==(30&as)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=cs.updateQueue)?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&As(e)}function Os(e,t,n){return n(function(){xs(t)&&As(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function As(e){var t=Eo(e,1);null!==t&&Wc(t,e,1,-1)}function Rs(e){var t=bs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=qc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,s)){var c=t.interleaved;return null===c?(i.next=i,_o(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=So(e,t,i,r))&&(i=Bc(),Wc(n,e,r,i),Ys(n,t,r))}}.bind(null,cs,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=cs.updateQueue)?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return ws().memoizedState}function Ds(e,t,n,r){var i=bs();cs.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ls(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==us){var s=us.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}cs.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ms(e,t){return Ds(8390656,8,e,t)}function js(e,t){return Ls(2048,8,e,t)}function Fs(e,t){return Ls(4,2,e,t)}function Us(e,t){return Ls(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,Vs.bind(null,t,e),n)}function Bs(){}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,la=!0),e.memoizedState=n):(tr(n,t)||(n=dt(),cs.lanes|=n,Ic|=n,e.baseState=!0),t)}function Ks(){return ws().memoizedState}function Gs(e){var t=e.alternate;return e===cs||null!==t&&t===cs}function Qs(e,t){ds=hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var $s={readContext:bo,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Js={readContext:bo,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:bo,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=qc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e)?Qs(t,n):null!==(n=So(e,t,n,r))&&(Wc(n,e,r,Bc()),Ys(n,t,r))}.bind(null,cs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Rs,useDebugValue:Bs,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=function(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{gt=n,ss.transition=r}}.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cs,i=bs();if(Ji){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===yc)throw Error(o(349));0!==(30&as)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(Os.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bs(),t=yc.identifierPrefix;if(Ji){var n=Wi;t=":"+t+"R"+(n=(qi&~(1<<32-rt(qi)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:bo,useCallback:qs,useContext:bo,useEffect:js,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Ws,useReducer:Ss,useRef:Ns,useState:function(){return Ss(_s)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(ws(),us.memoizedState,e)},useTransition:function(){return[Ss(_s)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},Zs={readContext:bo,useCallback:qs,useContext:bo,useEffect:js,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Ws,useReducer:Es,useRef:Ns,useState:function(){return Es(_s)},useDebugValue:Bs,useDeferredValue:function(e){var t=ws();return null===us?t.memoizedState=e:Hs(t,us.memoizedState,e)},useTransition:function(){return[Es(_s)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function ea(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ta(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ra="function"===typeof WeakMap?WeakMap:Map;function ia(e,t,n){(n=Co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pc||(Pc=!0,Nc=r),na(0,t)},n}function oa(e,t,n){(n=Co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){na(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){na(0,t),"function"!==typeof r&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function sa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ra;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bc(),e.pingedLanes|=e.suspendedLanes&n,yc===e&&(bc&n)===n&&(4===Sc||3===Sc&&(130023424&bc)===bc&&500>Qe()-xc?Zc(e,0):Tc|=n),Hc(e,t)}.bind(null,e,t,n),t.then(e,e))}function aa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ca(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Co(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ua=w.ReactCurrentOwner,la=!1;function ha(e,t,n,r){t.child=null===e?Ho(t,null,n,r):Wo(t,e.child,n,r)}function da(e,t,n,r,i){n=n.render;var o=t.ref;return vo(t,i),r=ys(e,t,n,r,o,i),n=vs(),null===e||la?(Ji&&n&&Gi(t),t.flags|=1,ha(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,La(e,t,i))}function fa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||gu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=vu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,pa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(s,r)&&e.ref===t.ref)return La(e,t,i)}return t.flags|=1,(e=yu(o,r)).ref=t.ref,e.return=t,t.child=e}function pa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(nr(o,r)&&e.ref===t.ref){if(la=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,La(e,t,i);0!==(131072&e.flags)&&(la=!0)}}return ya(e,t,n,r,i)}function ma(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(_c,wc),wc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(_c,wc),wc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,bi(_c,wc),wc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bi(_c,wc),wc|=r;return ha(e,t,i,n),t.child}function ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ya(e,t,n,r,i){var o=ki(n)?Ei:_i.current;return o=Ii(t,o),vo(t,i),n=ys(e,t,n,r,o,i),r=vs(),null===e||la?(Ji&&r&&Gi(t),t.flags|=1,ha(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,La(e,t,i))}function va(e,t,n,r,i){if(ki(n)){var o=!0;xi(t)}else o=!1;if(vo(t,i),null===t.stateNode)Da(e,t),jo(t,n,r),Uo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=bo(u):u=Ii(t,u=ki(n)?Ei:_i.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==u)&&Fo(t,s,r,u),Io=!1;var d=t.memoizedState;s.state=d,Ro(t,r,s,i),c=t.memoizedState,a!==r||d!==c||Si.current||Io?("function"===typeof l&&(Do(t,n,l,r),c=t.memoizedState),(a=Io||Mo(t,n,a,r,d,c,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,To(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:uo(t.type,a),s.props=u,h=t.pendingProps,d=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=bo(c):c=Ii(t,c=ki(n)?Ei:_i.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==c)&&Fo(t,s,r,c),Io=!1,d=t.memoizedState,s.state=d,Ro(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Si.current||Io?("function"===typeof f&&(Do(t,n,f,r),p=t.memoizedState),(u=Io||Mo(t,n,u,r,d,p,c)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ba(e,t,n,r,o,i)}function ba(e,t,n,r,i,o){ga(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ai(t,n,!1),La(e,t,o);r=t.stateNode,ua.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Wo(t,e.child,null,o),t.child=Wo(t,null,a,o)):ha(e,t,a,o),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function wa(e){var t=e.stateNode;t.pendingContext?Ci(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ci(0,t.context,!1),Jo(e,t.containerInfo)}function _a(e,t,n,r,i){return so(),ao(i),t.flags|=256,ha(e,t,n,r),t.child}var Sa,Ea,Ia,ka,Ta={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oa(e,t,n){var r,i=t.pendingProps,s=ts.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),bi(ts,1&s),null===e)return no(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=wu(c,i,0,null),e=bu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ca(n),t.memoizedState=Ta,e):xa(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,r=ta(Error(o(422))),Aa(e,t,a,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=wu({mode:"visible",children:r.children},i,0,null),(s=bu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Wo(t,e.child,null,a),t.child.memoizedState=Ca(a),t.memoizedState=Ta,s);if(0===(1&t.mode))return Aa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,s=Error(o(419)),r=ta(s,r,void 0),Aa(e,t,a,r)}if(c=0!==(a&e.childLanes),la||c){if(null!==(r=yc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Eo(e,i),Wc(r,e,i,-1))}return nu(),r=ta(Error(o(421))),Aa(e,t,a,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),du(e,n)}.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$i=ni(i.nextSibling),Yi=t,Ji=!0,Xi=null,null!==e&&(Vi[zi++]=qi,Vi[zi++]=Wi,Vi[zi++]=Bi,qi=e.id,Wi=e.overflow,Bi=t),(t=xa(t,r.children)).flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=yu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=yu(r,a):(a=bu(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ca(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ta,i}return e=(a=e.child).sibling,i=yu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function xa(e,t){return(t=wu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Aa(e,t,n,r){return null!==r&&ao(r),Wo(t,e.child,null,n),(e=xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ra(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),yo(e.return,t,n)}function Pa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Na(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ha(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ra(e,n,t);else if(19===e.tag)Ra(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pa(t,!0,n,null,o);break;case"together":Pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Da(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function La(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ic|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=yu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ma(e,t){if(!Ji)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ja(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fa(e,t,n){var r=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(t),null;case 1:return ki(t.type)&&Ti(),ja(t),null;case 3:return r=t.stateNode,Xo(),vi(Si),vi(_i),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(io(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xi&&(Gc(Xi),Xi=null))),Ea(e,t),ja(t),null;case 5:es(t);var i=$o(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ia(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ja(t),null}if(e=$o(Go.current),io(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[oi]=t,r[si]=s,e=0!==(1&t.mode),n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Pr(Or[i],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":Y(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":re(r,s),Pr("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Hr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Hr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Pr("scroll",r)}switch(n){case"input":H(r),X(r,s,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Kr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[oi]=t,e[si]=r,Sa(e,t,!1,!1),t.stateNode=e;e:{switch(c=ve(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),i=r;break;case"iframe":case"object":case"embed":Pr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Pr(Or[i],e);i=r;break;case"source":Pr("error",e),i=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),i=r;break;case"details":Pr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Pr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Pr("invalid",e);break;default:i=r}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var l=u[s];"style"===s?me(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Pr("scroll",e):null!=l&&b(e,s,l,c))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?te(e,!!r.multiple,s,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ja(t),null;case 6:if(e&&null!=t.stateNode)ka(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Yo.current),$o(Go.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[oi]=t,(s=r.nodeValue!==n)&&null!==(e=Yi))switch(e.tag){case 3:Hr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Hr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[oi]=t,t.stateNode=r}return ja(t),null;case 13:if(vi(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Ji&&null!==$i&&0!==(1&t.mode)&&0===(128&t.flags))oo(),so(),t.flags|=98560,s=!1;else if(s=io(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[oi]=t}else so(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ja(t),s=!1}else null!==Xi&&(Gc(Xi),Xi=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Sc&&(Sc=3):nu())),null!==t.updateQueue&&(t.flags|=4),ja(t),null);case 4:return Xo(),Ea(e,t),null===e&&Lr(t.stateNode.containerInfo),ja(t),null;case 10:return go(t.type._context),ja(t),null;case 17:return ki(t.type)&&Ti(),ja(t),null;case 19:if(vi(ts),null===(s=t.memoizedState))return ja(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Ma(s,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ns(e))){for(t.flags|=128,Ma(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Ac&&(t.flags|=128,r=!0,Ma(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ma(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!Ji)return ja(t),null}else 2*Qe()-s.renderingStartTime>Ac&&1073741824!==n&&(t.flags|=128,r=!0,Ma(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=ts.current,bi(ts,r?1&n|2:1&n),t):(ja(t),null);case 22:case 23:return Xc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wc)&&(ja(t),6&t.subtreeFlags&&(t.flags|=8192)):ja(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ua(e,t){switch(Qi(t),t.tag){case 1:return ki(t.type)&&Ti(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),vi(Si),vi(_i),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(vi(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));so()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return vi(ts),null;case 4:return Xo(),null;case 10:return go(t.type._context),null;case 22:case 23:return Xc(),null;case 24:default:return null}}Sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ea=function(){},Ia=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Go.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),r=ne(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Pr("scroll",e),s||c===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},ka=function(e,t,n,r){n!==r&&(t.flags|=4)};var Va=!1,za=!1,Ba="function"===typeof WeakSet?WeakSet:Set,qa=null;function Wa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){hu(e,t,r)}else n.current=null}function Ha(e,t,n){try{n()}catch(r){hu(e,t,r)}}var Ka=!1;function Ga(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Ha(t,n,o)}i=i.next}while(i!==r)}}function Qa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ya(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function $a(e){var t=e.alternate;null!==t&&(e.alternate=null,$a(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[oi],delete t[si],delete t[ci],delete t[ui],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ja(e){return 5===e.tag||3===e.tag||4===e.tag}function Xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ja(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Za=null,ec=!1;function tc(e,t,n){for(n=n.child;null!==n;)nc(e,t,n),n=n.sibling}function nc(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(a){}switch(n.tag){case 5:za||Wa(n,t);case 6:var r=Za,i=ec;Za=null,tc(e,t,n),ec=i,null!==(Za=r)&&(ec?(e=Za,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Za.removeChild(n.stateNode));break;case 18:null!==Za&&(ec?(e=Za,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ut(e)):ti(Za,n.stateNode));break;case 4:r=Za,i=ec,Za=n.stateNode.containerInfo,ec=!0,tc(e,t,n),Za=r,ec=i;break;case 0:case 11:case 14:case 15:if(!za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)?Ha(n,t,s):0!==(4&o)&&Ha(n,t,s)),i=i.next}while(i!==r)}tc(e,t,n);break;case 1:if(!za&&(Wa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hu(n,t,a)}tc(e,t,n);break;case 21:tc(e,t,n);break;case 22:1&n.mode?(za=(r=za)||null!==n.memoizedState,tc(e,t,n),za=r):tc(e,t,n);break;default:tc(e,t,n)}}function rc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ba),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),du(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ic(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:Za=c.stateNode,ec=!1;break e;case 3:case 4:Za=c.stateNode.containerInfo,ec=!0;break e}c=c.return}if(null===Za)throw Error(o(160));nc(s,a,i),Za=null,ec=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){hu(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)oc(t,e),t=t.sibling}function oc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ic(t,e),sc(e),4&r){try{Ga(3,e,e.return),Qa(3,e)}catch(g){hu(e,e.return,g)}try{Ga(5,e,e.return)}catch(g){hu(e,e.return,g)}}break;case 1:ic(t,e),sc(e),512&r&&null!==n&&Wa(n,n.return);break;case 5:if(ic(t,e),sc(e),512&r&&null!==n&&Wa(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){hu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===s.type&&null!=s.name&&$(i,s),ve(c,a);var l=ve(c,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?le(i,d):"children"===h?he(i,d):b(i,h,d,l)}switch(c){case"input":J(i,s);break;case"textarea":ie(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?te(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?te(i,!!s.multiple,s.defaultValue,!0):te(i,!!s.multiple,s.multiple?[]:"",!1))}i[si]=s}catch(g){hu(e,e.return,g)}}break;case 6:if(ic(t,e),sc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){hu(e,e.return,g)}}break;case 3:if(ic(t,e),sc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){hu(e,e.return,g)}break;case 4:ic(t,e),sc(e);break;case 13:ic(t,e),sc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(xc=Qe())),4&r&&rc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(za=(l=za)||h,ic(t,e),za=l):ic(t,e),sc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(qa=e,h=e.child;null!==h;){for(d=qa=h;null!==qa;){switch(p=(f=qa).child,f.tag){case 0:case 11:case 14:case 15:Ga(4,f,f.return);break;case 1:Wa(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){hu(r,n,g)}}break;case 5:Wa(f,f.return);break;case 22:if(null!==f.memoizedState){uc(d);continue}}null!==p?(p.return=f,qa=p):uc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=pe("display",a))}catch(g){hu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){hu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ic(t,e),sc(e),4&r&&rc(e);break;case 21:break;default:ic(t,e),sc(e)}}function sc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Ja(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xa(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Kr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xa(e),s);break;default:throw Error(o(161))}}catch(a){hu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ac(e,t,n){qa=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==qa;){var o=qa,s=o.child;if(22===o.tag&&i){var a=null!==o.memoizedState||Va;if(!a){var c=o.alternate,u=null!==c&&null!==c.memoizedState||za;c=Va;var l=za;if(Va=a,(za=u)&&!l)for(qa=o;null!==qa;)u=(a=qa).child,22===a.tag&&null!==a.memoizedState?lc(o):null!==u?(u.return=a,qa=u):lc(o);for(;null!==s;)qa=s,e(s,n,r),s=s.sibling;qa=o,Va=c,za=l}cc(t)}else 0!==(8772&o.subtreeFlags)&&null!==s?(s.return=o,qa=s):cc(t)}}(e,t,n)}function cc(e){for(;null!==qa;){var t=qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:za||Qa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Po(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Po(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}za||512&t.flags&&Ya(t)}catch(f){hu(t,t.return,f)}}if(t===e){qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,qa=n;break}qa=t.return}}function uc(e){for(;null!==qa;){var t=qa;if(t===e){qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qa=n;break}qa=t.return}}function lc(e){for(;null!==qa;){var t=qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qa(4,t)}catch(c){hu(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){hu(t,i,c)}}var o=t.return;try{Ya(t)}catch(c){hu(t,o,c)}break;case 5:var s=t.return;try{Ya(t)}catch(c){hu(t,s,c)}}}catch(c){hu(t,t.return,c)}if(t===e){qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,qa=a;break}qa=t.return}}var hc,dc=Math.ceil,fc=w.ReactCurrentDispatcher,pc=w.ReactCurrentOwner,mc=w.ReactCurrentBatchConfig,gc=0,yc=null,vc=null,bc=0,wc=0,_c=yi(0),Sc=0,Ec=null,Ic=0,kc=0,Tc=0,Cc=null,Oc=null,xc=0,Ac=1/0,Rc=null,Pc=!1,Nc=null,Dc=null,Lc=!1,Mc=null,jc=0,Fc=0,Uc=null,Vc=-1,zc=0;function Bc(){return 0!==(6&gc)?Qe():-1!==Vc?Vc:Vc=Qe()}function qc(e){return 0===(1&e.mode)?1:0!==(2&gc)&&0!==bc?bc&-bc:null!==co.transition?(0===zc&&(zc=dt()),zc):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function Wc(e,t,n,r){if(50<Fc)throw Fc=0,Uc=null,Error(o(185));pt(e,n,r),0!==(2&gc)&&e===yc||(e===yc&&(0===(2&gc)&&(kc|=n),4===Sc&&Qc(e,bc)),Hc(e,r),1===n&&0===gc&&0===(1&t.mode)&&(Ac=Qe()+500,Pi&&Li()))}function Hc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-rt(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=lt(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ut(e,e===yc?bc:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Pi=!0,Di(e)}(Yc.bind(null,e)):Di(Yc.bind(null,e)),Zr(function(){0===(6&gc)&&Li()}),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=Je;break;case 16:n=Xe;break;case 536870912:n=et;break;default:n=Xe}n=fu(n,function e(t,n){Vc=-1;zc=0;if(0!==(6&gc))throw Error(o(327));var r=t.callbackNode;if(uu()&&t.callbackNode!==r)return null;var i=ut(t,t===yc?bc:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=ru(t,i);else{n=i;var s=gc;gc|=2;var a=tu();for(yc===t&&bc===n||(Rc=null,Ac=Qe()+500,Zc(t,n));;)try{ou();break}catch(u){eu(t,u)}mo(),fc.current=a,gc=s,null!==vc?n=0:(yc=null,bc=0,n=Sc)}if(0!==n){if(2===n&&(0!==(s=ht(t))&&(i=s,n=Kc(t,s))),1===n)throw r=Ec,Zc(t,0),Qc(t,i),Hc(t,Qe()),r;if(6===n)Qc(t,i);else{if(s=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tr(o(),i))return!1}catch(c){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(n=ru(t,i))&&(0!==(a=ht(t))&&(i=a,n=Kc(t,a))),1===n))throw r=Ec,Zc(t,0),Qc(t,i),Hc(t,Qe()),r;switch(t.finishedWork=s,t.finishedLanes=i,n){case 0:case 1:throw Error(o(345));case 2:cu(t,Oc,Rc);break;case 3:if(Qc(t,i),(130023424&i)===i&&10<(n=xc+500-Qe())){if(0!==ut(t,0))break;if(((s=t.suspendedLanes)&i)!==i){Bc(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$r(cu.bind(null,t,Oc,Rc),n);break}cu(t,Oc,Rc);break;case 4:if(Qc(t,i),(4194240&i)===i)break;for(n=t.eventTimes,s=-1;0<i;){var c=31-rt(i);a=1<<c,(c=n[c])>s&&(s=c),i&=~a}if(i=s,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*dc(i/1960))-i)){t.timeoutHandle=$r(cu.bind(null,t,Oc,Rc),i);break}cu(t,Oc,Rc);break;case 5:cu(t,Oc,Rc);break;default:throw Error(o(329))}}}Hc(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kc(e,t){var n=Cc;return e.current.memoizedState.isDehydrated&&(Zc(e,t).flags|=256),2!==(e=ru(e,t))&&(t=Oc,Oc=n,null!==t&&Gc(t)),e}function Gc(e){null===Oc?Oc=e:Oc.push.apply(Oc,e)}function Qc(e,t){for(t&=~Tc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Yc(e){if(0!==(6&gc))throw Error(o(327));uu();var t=ut(e,0);if(0===(1&t))return Hc(e,Qe()),null;var n=ru(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=Kc(e,r))}if(1===n)throw n=Ec,Zc(e,0),Qc(e,t),Hc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cu(e,Oc,Rc),Hc(e,Qe()),null}function $c(e,t){var n=gc;gc|=1;try{return e(t)}finally{0===(gc=n)&&(Ac=Qe()+500,Pi&&Li())}}function Jc(e){null!==Mc&&0===Mc.tag&&0===(6&gc)&&uu();var t=gc;gc|=1;var n=mc.transition,r=gt;try{if(mc.transition=null,gt=1,e)return e()}finally{gt=r,mc.transition=n,0===(6&(gc=t))&&Li()}}function Xc(){wc=_c.current,vi(_c)}function Zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==vc)for(n=vc.return;null!==n;){var r=n;switch(Qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:Xo(),vi(Si),vi(_i),is();break;case 5:es(r);break;case 4:Xo();break;case 13:case 19:vi(ts);break;case 10:go(r.type._context);break;case 22:case 23:Xc()}n=n.return}if(yc=e,vc=e=yu(e.current,null),bc=wc=t,Sc=0,Ec=null,Tc=kc=Ic=0,Oc=Cc=null,null!==wo){for(t=0;t<wo.length;t++)if(null!==(r=(n=wo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}wo=null}return e}function eu(e,t){for(;;){var n=vc;try{if(mo(),os.current=$s,hs){for(var r=cs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}hs=!1}if(as=0,ls=us=cs=null,ds=!1,fs=0,pc.current=null,null===n||null===n.return){Sc=1,Ec=t,vc=null;break}e:{var s=e,a=n.return,c=n,u=t;if(t=bc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=aa(a);if(null!==p){p.flags&=-257,ca(p,a,c,0,t),1&p.mode&&sa(s,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){sa(s,l,t),nu();break e}u=Error(o(426))}else if(Ji&&1&c.mode){var y=aa(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ca(y,a,c,0,t),ao(ea(u,c));break e}}s=u=ea(u,c),4!==Sc&&(Sc=2),null===Cc?Cc=[s]:Cc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ao(s,ia(0,u,t));break e;case 1:c=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Dc||!Dc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ao(s,oa(s,c,t));break e}}s=s.return}while(null!==s)}au(n)}catch(w){t=w,vc===n&&null!==n&&(vc=n=n.return);continue}break}}function tu(){var e=fc.current;return fc.current=$s,null===e?$s:e}function nu(){0!==Sc&&3!==Sc&&2!==Sc||(Sc=4),null===yc||0===(268435455&Ic)&&0===(268435455&kc)||Qc(yc,bc)}function ru(e,t){var n=gc;gc|=2;var r=tu();for(yc===e&&bc===t||(Rc=null,Zc(e,t));;)try{iu();break}catch(i){eu(e,i)}if(mo(),gc=n,fc.current=r,null!==vc)throw Error(o(261));return yc=null,bc=0,Sc}function iu(){for(;null!==vc;)su(vc)}function ou(){for(;null!==vc&&!Ke();)su(vc)}function su(e){var t=hc(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?au(e):vc=t,pc.current=null}function au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fa(n,t,wc)))return void(vc=n)}else{if(null!==(n=Ua(n,t)))return n.flags&=32767,void(vc=n);if(null===e)return Sc=6,void(vc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(vc=t);vc=t=e}while(null!==t);0===Sc&&(Sc=5)}function cu(e,t,n){var r=gt,i=mc.transition;try{mc.transition=null,gt=1,function(e,t,n,r){do{uu()}while(null!==Mc);if(0!==(6&gc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===yc&&(vc=yc=null,bc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Lc||(Lc=!0,fu(Xe,function(){return uu(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=mc.transition,mc.transition=null;var a=gt;gt=1;var c=gc;gc|=4,pc.current=null,function(e,t){if(Gr=zt,sr(e=or())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,c=-1,u=-1,l=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++l===i&&(c=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},zt=!1,qa=t;null!==qa;)if(e=(t=qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qa=e;else for(;null!==qa;){t=qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(_){hu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,qa=e;break}qa=t.return}m=Ka,Ka=!1}(e,n),oc(n,e),ar(Qr),zt=!!Gr,Qr=Gr=null,e.current=n,ac(n,e,i),Ge(),gc=c,gt=a,mc.transition=s}else e.current=n;if(Lc&&(Lc=!1,Mc=e,jc=i),0===(s=e.pendingLanes)&&(Dc=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Hc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pc)throw Pc=!1,e=Nc,Nc=null,e;0!==(1&jc)&&0!==e.tag&&uu(),0!==(1&(s=e.pendingLanes))?e===Uc?Fc++:(Fc=0,Uc=e):Fc=0,Li()}(e,t,n,r)}finally{mc.transition=i,gt=r}return null}function uu(){if(null!==Mc){var e=yt(jc),t=mc.transition,n=gt;try{if(mc.transition=null,gt=16>e?16:e,null===Mc)var r=!1;else{if(e=Mc,Mc=null,jc=0,0!==(6&gc))throw Error(o(331));var i=gc;for(gc|=4,qa=e.current;null!==qa;){var s=qa,a=s.child;if(0!==(16&qa.flags)){var c=s.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(qa=l;null!==qa;){var h=qa;switch(h.tag){case 0:case 11:case 15:Ga(8,h,s)}var d=h.child;if(null!==d)d.return=h,qa=d;else for(;null!==qa;){var f=(h=qa).sibling,p=h.return;if($a(h),h===l){qa=null;break}if(null!==f){f.return=p,qa=f;break}qa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,qa=a;else e:for(;null!==qa;){if(0!==(2048&(s=qa).flags))switch(s.tag){case 0:case 11:case 15:Ga(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,qa=v;break e}qa=s.return}}var b=e.current;for(qa=b;null!==qa;){var w=(a=qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,qa=w;else e:for(a=b;null!==qa;){if(0!==(2048&(c=qa).flags))try{switch(c.tag){case 0:case 11:case 15:Qa(9,c)}}catch(S){hu(c,c.return,S)}if(c===a){qa=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,qa=_;break e}qa=c.return}}if(gc=i,Li(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(S){}r=!0}return r}finally{gt=n,mc.transition=t}}return!1}function lu(e,t,n){e=Oo(e,t=ia(0,t=ea(n,t),1),1),t=Bc(),null!==e&&(pt(e,1,t),Hc(e,t))}function hu(e,t,n){if(3===e.tag)lu(e,e,n);else for(;null!==t;){if(3===t.tag){lu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){t=Oo(t,e=oa(t,e=ea(n,e),1),1),e=Bc(),null!==t&&(pt(t,1,e),Hc(t,e));break}}t=t.return}}function du(e,t){0===t&&(0===(1&e.mode)?t=1:(t=at,0===(130023424&(at<<=1))&&(at=4194304)));var n=Bc();null!==(e=Eo(e,t))&&(pt(e,t,n),Hc(e,n))}function fu(e,t){return We(e,t)}function pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mu(e,t,n,r){return new pu(e,t,n,r)}function gu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yu(e,t){var n=e.alternate;return null===n?((n=mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)gu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return bu(n.children,i,s,t);case I:a=8,i|=8;break;case k:return(e=mu(12,n,t,2|i)).elementType=k,e.lanes=s,e;case x:return(e=mu(13,n,t,i)).elementType=x,e.lanes=s,e;case A:return(e=mu(19,n,t,i)).elementType=A,e.lanes=s,e;case N:return wu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case O:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=mu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function bu(e,t,n,r){return(e=mu(7,e,r,t)).lanes=n,e}function wu(e,t,n,r){return(e=mu(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function _u(e,t,n){return(e=mu(6,e,null,t)).lanes=n,e}function Su(e,t,n){return(t=mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,i,o,s,a,c){return e=new Eu(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(o),e}function ku(e){if(!e)return wi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ki(n))return Oi(e,n,t)}return t}function Tu(e,t,n,r,i,o,s,a,c){return(e=Iu(n,r,!0,e,0,o,0,a,c)).context=ku(null),n=e.current,(o=Co(r=Bc(),i=qc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,pt(e,i,r),Hc(e,r),e}function Cu(e,t,n,r){var i=t.current,o=Bc(),s=qc(i);return n=ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=Co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,s))&&(Wc(e,i,s,o),xo(e,i,s)),s}function Ou(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Au(e,t){xu(e,t),(e=e.alternate)&&xu(e,t)}hc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Si.current)la=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return la=!1,function(e,t,n){switch(t.tag){case 3:wa(t),so();break;case 5:Zo(t);break;case 1:ki(t.type)&&xi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(lo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oa(e,t,n):(bi(ts,1&ts.current),null!==(e=La(e,t,n))?e.sibling:null);bi(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Na(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,ma(e,t,n)}return La(e,t,n)}(e,t,n);la=0!==(131072&e.flags)}else la=!1,Ji&&0!==(1048576&t.flags)&&Ki(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Da(e,t),e=t.pendingProps;var i=Ii(t,_i.current);vo(t,n),i=ys(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)?(s=!0,xi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ko(t),i.updater=Lo,t.stateNode=i,i._reactInternals=t,Uo(t,r,e,n),t=ba(null,t,r,!0,s,n)):(t.tag=0,Ji&&s&&Gi(t),ha(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Da(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return gu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===R)return 14}return 2}(r),e=uo(r,e),i){case 0:t=ya(null,t,r,e,n);break e;case 1:t=va(null,t,r,e,n);break e;case 11:t=da(null,t,r,e,n);break e;case 14:t=fa(null,t,r,uo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ya(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,va(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:e:{if(wa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,To(e,t),Ro(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_a(e,t,r,n,i=ea(Error(o(423)),t));break e}if(r!==i){t=_a(e,t,r,n,i=ea(Error(o(424)),t));break e}for($i=ni(t.stateNode.containerInfo.firstChild),Yi=t,Ji=!0,Xi=null,n=Ho(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(so(),r===i){t=La(e,t,n);break e}ha(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&no(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Yr(r,i)?a=null:null!==s&&Yr(r,s)&&(t.flags|=32),ga(e,t),ha(e,t,a,n),t.child;case 6:return null===e&&no(t),null;case 13:return Oa(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wo(t,null,r,n):ha(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,da(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return ha(e,t,t.pendingProps,n),t.child;case 8:case 12:return ha(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,bi(lo,r._currentValue),r._currentValue=a,null!==s)if(tr(s.value,a)){if(s.children===i.children&&!Si.current){t=La(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Co(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),yo(s.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),yo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ha(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vo(t,n),r=r(i=bo(i)),t.flags|=1,ha(e,t,r,n),t.child;case 14:return i=uo(r=t.type,t.pendingProps),fa(e,t,r,i=uo(r.type,i),n);case 15:return pa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),Da(e,t),t.tag=1,ki(r)?(e=!0,xi(t)):e=!1,vo(t,n),jo(t,r,i),Uo(t,r,i,n),ba(null,t,r,!0,e,n);case 19:return Na(e,t,n);case 22:return ma(e,t,n)}throw Error(o(156,t.tag))};var Ru="function"===typeof reportError?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}function Nu(e){this._internalRoot=e}function Du(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Mu(){}function ju(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Ou(s);a.call(e)}}Cu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Ou(s);o.call(e)}}var s=Tu(t,r,e,0,null,!1,0,"",Mu);return e._reactRootContainer=s,e[ai]=s.current,Lr(8===e.nodeType?e.parentNode:e),Jc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ou(c);a.call(e)}}var c=Iu(e,0,!1,null,0,!1,0,"",Mu);return e._reactRootContainer=c,e[ai]=c.current,Lr(8===e.nodeType?e.parentNode:e),Jc(function(){Cu(t,c,n,r)}),c}(n,t,e,i,r);return Ou(s)}Nu.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Cu(e,t,null,null)},Nu.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jc(function(){Cu(null,e,null,null)}),t[ai]=null}},Nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Dt(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(mt(t,1|n),Hc(t,Qe()),0===(6&gc)&&(Ac=Qe()+500,Li()))}break;case 13:Jc(function(){var t=Eo(e,1);if(null!==t){var n=Bc();Wc(t,e,1,n)}}),Au(e,1)}},bt=function(e){if(13===e.tag){var t=Eo(e,134217728);if(null!==t)Wc(t,e,134217728,Bc());Au(e,134217728)}},wt=function(e){if(13===e.tag){var t=qc(e),n=Eo(e,t);if(null!==n)Wc(n,e,t,Bc());Au(e,t)}},_t=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Ce=$c,Oe=Jc;var Fu={usingClientEntryPoint:!1,Events:[di,fi,pi,ke,Te,$c]},Uu={findFiberByHostInstance:hi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vu={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{tt=zu.inject(Vu),nt=zu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Du(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Du(e))throw Error(o(299));var n=!1,r="",i=Ru;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Iu(e,1,!1,null,0,n,0,r,i),e[ai]=t.current,Lr(8===e.nodeType?e.parentNode:e),new Pu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Jc(e)},t.hydrate=function(e,t,n){if(!Lu(t))throw Error(o(200));return ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Du(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Tu(t,null,e,1,null!=n?n:null,i,0,s,a),e[ai]=t.current,Lr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nu(t)},t.render=function(e,t,n){if(!Lu(t))throw Error(o(200));return ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Lu(e))throw Error(o(40));return!!e._reactRootContainer&&(Jc(function(){ju(null,null,e,!1,function(){e._reactRootContainer=null,e[ai]=null})}),!0)},t.unstable_batchedUpdates=$c,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ju(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(75)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],u=a+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[a]=n,r=a);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,N(S);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!x());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var c=!0;else{var h=r(l);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,T=-1,C=5,O=-1;function x(){return!(t.unstable_now()-O<C)}function A(){if(null!==k){var e=t.unstable_now();O=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function N(e){k=e,I||(I=!0,E())}function D(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(g?(v(T),T=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}).call(this,n(76).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(77),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(24))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},s=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;r=function(t){var n=a.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return o[i]=s,r(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{u(e),s=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(24),n(39))},,function(e,t,n){"use strict";n(80)},function(e,t,n){"use strict";(function(e){var t=n(18),r=n(5),i=n(16),o=n(3),s="@firebase/auth-compat",a="0.5.2";const c=1e3;function u(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.q)();return!("file:"!==u()&&"ionic:"!==u()&&"capacitor:"!==u()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.q)();return Object(o.u)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.q)();return/Edge\/\d+/.test(e)}(e)}function d(){try{const t=self.localStorage,n=r.s();if(t)return t.setItem(n,"1"),t.removeItem(n),!h()||Object(o.v)()}catch(e){return f()&&Object(o.v)()}return!1}function f(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function p(){return("http:"===u()||"https:"===u()||Object(o.s)()||l())&&!(Object(o.y)()||Object(o.x)())&&d()&&!f()}function m(){return l()&&"undefined"!==typeof document}const g={LOCAL:"local",NONE:"none",SESSION:"session"},y=r.p,v="persistence";async function b(e){await e._initializationPromise;const t=w(),n=r.w(v,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function w(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const _=r.p;class S{constructor(){this.browserResolver=r.t(r.A),this.cordovaResolver=r.t(r.F),this.underlyingResolver=null,this._redirectPersistence=r.B,this._completeRedirectFn=r.u,this._overrideRedirectResult=r.v}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return m()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!m()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},c);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function E(e){return e.unwrap()}function I(e){return k(e)}function k(e){const{_tokenResponse:t}=e instanceof o.c?e.customData:e;if(!t)return null;if(!(e instanceof o.c)&&"temporaryProof"in t&&"phoneNumber"in t)return r.i.credentialFromResult(e);const n=t.providerId;if(!n||n===r.k.PASSWORD)return null;let i;switch(n){case r.k.GOOGLE:i=r.f;break;case r.k.FACEBOOK:i=r.d;break;case r.k.GITHUB:i=r.e;break;case r.k.TWITTER:i=r.o;break;default:const{oauthIdToken:e,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:c}=t;return o||s||e||a?a?n.startsWith("saml.")?r.m._create(n,a):r.g._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:o}):new r.h(n).credential({idToken:e,accessToken:o,rawNonce:c}):null}return e instanceof o.c?i.credentialFromError(e):i.credentialFromResult(e)}function T(e,t){return t.catch(t=>{throw t instanceof o.c&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new O(e,r.K(e,t));else if(i){const e=k(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:I(e),additionalUserInfo:r.J(e),user:x.getOrCreate(n)}})}async function C(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>T(e,n.confirm(t))}}class O{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return T(E(this.auth),this.resolver.resolveSignIn(e))}}class x{constructor(e){this._delegate=e,this.multiFactor=r.T(e)}static getOrCreate(e){return x.USER_MAP.has(e)||x.USER_MAP.set(e,new x(e)),x.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return T(this.auth,r.P(this._delegate,e))}async linkWithPhoneNumber(e,t){return C(this.auth,r.Q(this._delegate,e,t))}async linkWithPopup(e){return T(this.auth,r.R(this._delegate,e,S))}async linkWithRedirect(e){return await b(r.q(this.auth)),r.S(this._delegate,e,S)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return T(this.auth,r.U(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return C(this.auth,r.V(this._delegate,e,t))}reauthenticateWithPopup(e){return T(this.auth,r.W(this._delegate,e,S))}async reauthenticateWithRedirect(e){return await b(r.q(this.auth)),r.X(this._delegate,e,S)}sendEmailVerification(e){return r.Y(this._delegate,e)}async unlink(e){return await r.jb(this._delegate,e),this}updateEmail(e){return r.kb(this._delegate,e)}updatePassword(e){return r.lb(this._delegate,e)}updatePhoneNumber(e){return r.mb(this._delegate,e)}updateProfile(e){return r.nb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.ob(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}x.USER_MAP=new WeakMap;const A=r.p;class R{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;A(n,"invalid-api-key",{appName:e.name}),A(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?S:void 0;this._delegate=t.initialize({options:{persistence:N(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r.H),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?x.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.E(this._delegate,e,t)}applyActionCode(e){return r.y(this._delegate,e)}checkActionCode(e){return r.C(this._delegate,e)}confirmPasswordReset(e,t){return r.D(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return T(this._delegate,r.G(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.I(this._delegate,e)}isSignInWithEmailLink(e){return r.O(this._delegate,e)}async getRedirectResult(){A(p(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.L(this._delegate,S);return e?T(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r.x(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=P(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=P(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return r.ab(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.Z(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){y(Object.values(g).includes(t),e,"invalid-persistence-type"),Object(o.y)()?y(t!==g.SESSION,e,"unsupported-persistence-type"):Object(o.x)()?y(t===g.NONE,e,"unsupported-persistence-type"):f()?y(t===g.NONE||t===g.LOCAL&&Object(o.v)(),e,"unsupported-persistence-type"):y(t===g.NONE||d(),e,"unsupported-persistence-type")}(this._delegate,e),e){case g.SESSION:t=r.B;break;case g.LOCAL:t=await r.t(r.N)._isAvailable()?r.N:r.z;break;case g.NONE:t=r.M;break;default:return r.r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return T(this._delegate,r.bb(this._delegate))}signInWithCredential(e){return T(this._delegate,r.cb(this._delegate,e))}signInWithCustomToken(e){return T(this._delegate,r.db(this._delegate,e))}signInWithEmailAndPassword(e,t){return T(this._delegate,r.eb(this._delegate,e,t))}signInWithEmailLink(e,t){return T(this._delegate,r.fb(this._delegate,e,t))}signInWithPhoneNumber(e,t){return C(this._delegate,r.gb(this._delegate,e,t))}async signInWithPopup(e){return A(p(),this._delegate,"operation-not-supported-in-this-environment"),T(this._delegate,r.hb(this._delegate,e,S))}async signInWithRedirect(e){return A(p(),this._delegate,"operation-not-supported-in-this-environment"),await b(this._delegate),r.ib(this._delegate,e,S)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return r.pb(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=(()=>this)}}function P(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&x.getOrCreate(e)),error:t,complete:n}}function N(e,t){const n=function(e,t){const n=w();if(!n)return[];const i=r.w(v,e,t);switch(n.getItem(i)){case g.NONE:return[r.M];case g.LOCAL:return[r.N,r.B];case g.SESSION:return[r.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(r.N)||n.push(r.N),"undefined"!==typeof window)for(const i of[r.z,r.B])n.includes(i)||n.push(i);return n.includes(r.M)||n.push(r.M),n}R.Persistence=g;class D{constructor(){this.providerId="phone",this._delegate=new r.i(E(t.a.auth()))}static credential(e,t){return r.i.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}D.PHONE_SIGN_IN_METHOD=r.i.PHONE_SIGN_IN_METHOD,D.PROVIDER_ID=r.i.PROVIDER_ID;const L=r.p;class M{constructor(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.a.app();var o;L(null===(o=i.options)||void 0===o?void 0:o.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new r.l(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}const j="auth-compat";var F;(F=t.a).INTERNAL.registerComponent(new i.a(j,e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new R(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.a.EMAIL_SIGNIN,PASSWORD_RESET:r.a.PASSWORD_RESET,RECOVER_EMAIL:r.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.a.VERIFY_EMAIL}},EmailAuthProvider:r.c,FacebookAuthProvider:r.d,GithubAuthProvider:r.e,GoogleAuthProvider:r.f,OAuthProvider:r.h,SAMLAuthProvider:r.n,PhoneAuthProvider:D,PhoneMultiFactorGenerator:r.j,RecaptchaVerifier:M,TwitterAuthProvider:r.o,Auth:R,AuthCredential:r.b,Error:o.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion(s,a)}).call(this,n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=h(n(45)),o=h(n(46)),s=h(n(47)),a=h(n(87)),c=h(n(48)),u=n(49),l=n(88);function h(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,r.default.Component);var t,n,h,d=b(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S(w(t=d.call(this,e)),"thumbsRef",void 0),S(w(t),"carouselWrapperRef",void 0),S(w(t),"listRef",void 0),S(w(t),"itemsRef",void 0),S(w(t),"timer",void 0),S(w(t),"animationHandler",void 0),S(w(t),"setThumbsRef",function(e){t.thumbsRef=e}),S(w(t),"setCarouselWrapperRef",function(e){t.carouselWrapperRef=e}),S(w(t),"setListRef",function(e){t.listRef=e}),S(w(t),"setItemsRef",function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e}),S(w(t),"autoPlay",function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout(function(){t.increment()},t.props.interval)))}),S(w(t),"clearAutoPlay",function(){t.timer&&clearTimeout(t.timer)}),S(w(t),"resetAutoPlay",function(){t.clearAutoPlay(),t.autoPlay()}),S(w(t),"stopOnHover",function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)}),S(w(t),"startOnLeave",function(){t.setState({isMouseEntered:!1},t.autoPlay)}),S(w(t),"isFocusWithinTheCarousel",function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))}),S(w(t),"navigateWithKeyboard",function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}}),S(w(t),"updateSizes",function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}}),S(w(t),"setMountState",function(){t.setState({hasMount:!0}),t.updateSizes()}),S(w(t),"handleClickItem",function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))}),S(w(t),"handleOnChange",function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)}),S(w(t),"handleClickThumb",function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)}),S(w(t),"onSwipeStart",function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)}),S(w(t),"onSwipeEnd",function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()}),S(w(t),"onSwipeMove",function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(w(t)));return t.setState(g({},r)),!!Object.keys(r).length}),S(w(t),"decrement",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))}),S(w(t),"increment",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))}),S(w(t),"moveTo",function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}}),S(w(t),"onClickNext",function(){t.increment(1)}),S(w(t),"onClickPrev",function(){t.decrement(1)}),S(w(t),"onSwipeForward",function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),S(w(t),"onSwipeBackwards",function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),S(w(t),"changeItem",function(e){return function(n){(0,u.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}}),S(w(t),"selectItem",function(e){t.setState(g({previousItem:t.state.selectedItem},e),function(){t.setState(t.animationHandler(t.props,t.state))}),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])}),S(w(t),"getInitialImage",function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]}),S(w(t),"getVariableItemHeight",function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",function e(){t.forceUpdate(),i.removeEventListener("load",e)})}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null});var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&l.fadeAnimationHandler||l.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,c=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(c=g(g({},c),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(c=g(g({},c),{},{pointerEvents:"none"}));var u={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:c};return r.default.createElement("li",u,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),l=u.shift(),h=u.pop(),d={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(d.onSwipeLeft=this.onSwipeForward,d.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else d.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,d.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,d.style=g(g({},d.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},d,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&l):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&l)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&y(t.prototype,n),h&&y(t,h),f}();t.default=E,S(E,"displayName","Carousel"),S(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find(function(e){return"img"===e.type})),t)return t});return 0===t.filter(function(e){return e}).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:l.slideSwipeAnimationHandler,stopSwipingHandler:l.slideStopSwipingHandler})},function(e,t,n){var r,i,o;i=[t,n(1),n(31)],void 0===(o="function"===typeof(r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=u;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=!1;function u(e){c=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){u(!0)}}))}catch(f){}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return c?e:e.capture}function h(e){if("touches"in e){var t=e.touches[0],n=t.pageX,r=t.pageY;return{x:n,y:r}}var i=e.screenX,o=e.screenY;return{x:i,y:o}}var d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,l({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,l({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=h(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=h(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0;var s=this.props.onSwipeMove({x:i,y:o},e);s&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);d.displayName="ReactSwipe",d.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},d.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=d})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=n(84);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var s=i.apply(null,r);s&&e.push(s)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(1),o=(r=n(40))&&r.__esModule?r:{default:r},s=n(49);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,u=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>u))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(u+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(u+2),e.axis):a>u&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var l=(0,s.getPosition)(r,e),h=(0,o.default)(l,"%",e.axis),d=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:h,msTransform:h,OTransform:h,transform:h},t.swiping||(n.itemListStyle=c(c({},n.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,c=i.Children.count(t.children),u=(0,s.getPosition)(n.selectedItem,t),l=t.infiniteLoop?(0,s.getPosition)(c-1,t)-100:(0,s.getPosition)(c-1,t),h=a?e.x:e.y,d=h;0===u&&h>0&&(d=0),u===l&&h<0&&(d=0);var f=u+100/(n.itemSize/d),p=Math.abs(h)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*c:n.selectedItem===c-1&&f<100*-c&&(f+=100*c)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:"ease-in-out",msTransitionTimingFunction:"ease-in-out",MozTransitionTimingFunction:"ease-in-out",WebkitTransitionTimingFunction:"ease-in-out",OTransitionTimingFunction:"ease-in-out"};return t.swiping||(r=c(c({},r),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:r,selectedStyle:c(c({},r),{},{opacity:1,position:"relative"}),prevStyle:c({},r)}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(1),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";e.exports=n(93)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case s:case c:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case f:case y:case g:case u:return e;default:return t}}case o:return t}}}function E(e){return S(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||S(e)===h},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===f},t.isFragment=function(e){return S(e)===s},t.isLazy=function(e){return S(e)===y},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===c||e===a||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===v)},t.typeOf=S},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){var r=n(96),i=n(97),o=n(98);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return B(V(t,e.length-n),e,n,r)}function w(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return B(z(t),e,n,r)}function E(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"===typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:V(new c(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(24))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),s=r[0],a=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,function(e,t,n){"use strict";var r=n(18),i=n(6),o=n(3),s=n(16);const a="@firebase/firestore-compat",c="0.3.25";function u(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function l(){if("undefined"===typeof Uint8Array)throw new i.g("unimplemented","Uint8Arrays are not available in this environment.")}function h(){if(!Object(i.r)())throw new i.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class d{constructor(e){this._delegate=e}static fromBase64String(e){return h(),new d(i.b.fromBase64String(e))}static fromUint8Array(e){return l(),new d(i.b.fromUint8Array(e))}toBase64(){return h(),this._delegate.toBase64()}toUint8Array(){return l(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function f(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class p{enableIndexedDbPersistence(e,t){return Object(i.F)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Object(i.G)(e._delegate)}clearIndexedDbPersistence(e){return Object(i.x)(e._delegate)}}class m{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof i.m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Object(i.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.A)(this._delegate,e,t,n)}enableNetwork(){return Object(i.H)(this._delegate)}disableNetwork(){return Object(i.D)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(i.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(i.lb)(this._delegate)}onSnapshotsInSync(e){return Object(i.Y)(this._delegate,e)}get app(){if(!this._appCompat)throw new i.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new x(this,Object(i.y)(this._delegate,e))}catch(t){throw _(t,"collection()","Firestore.collection()")}}doc(e){try{return new w(this,Object(i.E)(this._delegate,e))}catch(t){throw _(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new T(this,Object(i.z)(this._delegate,e))}catch(t){throw _(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Object(i.db)(this._delegate,t=>e(new y(this,t)))}batch(){return Object(i.K)(this._delegate),new v(new i.l(this._delegate,e=>Object(i.L)(this._delegate,e)))}loadBundle(e){return Object(i.V)(this._delegate,e)}namedQuery(e){return Object(i.W)(this._delegate,e).then(e=>e?new T(this,e):null)}}class g extends i.a{constructor(e){super(),this.firestore=e}convertBytes(e){return new d(new i.b(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return w.forKey(t,this.firestore,null)}}class y{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new g(e)}get(e){const t=A(e);return this._delegate.get(t).then(e=>new I(this._firestore,new i.e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=A(e);return n?(u("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=A(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=A(e);return this._delegate.delete(t),this}}class v{constructor(e){this._delegate=e}set(e,t,n){const r=A(e);return n?(u("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=A(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=A(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class b{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new k(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=b.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new b(e,new g(e),t),r.set(t,i)),i}}b.INSTANCES=new WeakMap;class w{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new g(e)}static forPath(e,t,n){if(e.length%2!==0)throw new i.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new w(t,new i.d(t._delegate,n,new i.n(e)))}static forKey(e,t,n){return new w(t,new i.d(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new x(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x(this.firestore,Object(i.y)(this._delegate,e))}catch(t){throw _(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Object(o.p)(e))instanceof i.d&&Object(i.cb)(this._delegate,e)}set(e,t){t=u("DocumentReference.set",t);try{return t?Object(i.fb)(this._delegate,e,t):Object(i.fb)(this._delegate,e)}catch(n){throw _(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];try{return 1===arguments.length?Object(i.kb)(this._delegate,e):Object(i.kb)(this._delegate,e,t,...r)}catch(s){throw _(s,"updateDoc()","DocumentReference.update()")}}delete(){return Object(i.B)(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=S(t),o=E(t,e=>new I(this.firestore,new i.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Object(i.X)(this._delegate,r,o)}get(e){let t;return(t="cache"===(null===e||void 0===e?void 0:e.source)?Object(i.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(i.O)(this._delegate):Object(i.M)(this._delegate)).then(e=>new I(this.firestore,new i.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new w(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _(e,t,n){return e.message=e.message.replace(t,n),e}function S(e){for(const t of e)if("object"===typeof t&&!f(t))return t;return{}}function E(e,t){var n,r;let i;return{next:e=>{i.next&&i.next(t(e))},error:null===(n=(i=f(e[0])?e[0]:f(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class I{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new w(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Object(i.hb)(this._delegate,e._delegate)}}class k extends I{data(e){const t=this._delegate.data(e);return this._delegate._converter?t:(Object(i.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t)}}class T{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new g(e)}where(e,t,n){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.mb)(e,t,n)))}catch(r){throw _(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.Z)(e,t)))}catch(n){throw _(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.T)(e)))}catch(t){throw _(t,"limit()","Query.limit()")}}limitToLast(e){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.U)(e)))}catch(t){throw _(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.jb)(...arguments)))}catch(e){throw _(e,"startAt()","Query.startAt()")}}startAfter(){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.ib)(...arguments)))}catch(e){throw _(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.J)(...arguments)))}catch(e){throw _(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new T(this.firestore,Object(i.ab)(this._delegate,Object(i.I)(...arguments)))}catch(e){throw _(e,"endAt()","Query.endAt()")}}isEqual(e){return Object(i.bb)(this._delegate,e._delegate)}get(e){let t;return(t="cache"===(null===e||void 0===e?void 0:e.source)?Object(i.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(i.R)(this._delegate):Object(i.P)(this._delegate)).then(e=>new O(this.firestore,new i.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=S(t),o=E(t,e=>new O(this.firestore,new i.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Object(i.X)(this._delegate,r,o)}withConverter(e){return new T(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class C{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new k(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class O{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new T(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new k(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new C(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new k(this._firestore,n))})}isEqual(e){return Object(i.hb)(this._delegate,e._delegate)}}class x extends T{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new w(this.firestore,e):null}doc(e){try{return new w(this.firestore,void 0===e?Object(i.E)(this._delegate):Object(i.E)(this._delegate,e))}catch(t){throw _(t,"doc()","CollectionReference.doc()")}}add(e){return Object(i.u)(this._delegate,e).then(e=>new w(this.firestore,e))}isEqual(e){return Object(i.cb)(this._delegate,e._delegate)}withConverter(e){return new x(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function A(e){return Object(i.p)(e,i.d)}class R{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new i.f(...t)}static documentId(){return new R(i.o.keyField().canonicalString())}isEqual(e){return(e=Object(o.p)(e))instanceof i.f&&this._delegate._internalPath.isEqual(e._internalPath)}}class P{constructor(e){this._delegate=e}static serverTimestamp(){const e=Object(i.eb)();return e._methodName="FieldValue.serverTimestamp",new P(e)}static delete(){const e=Object(i.C)();return e._methodName="FieldValue.delete",new P(e)}static arrayUnion(){const e=Object(i.w)(...arguments);return e._methodName="FieldValue.arrayUnion",new P(e)}static arrayRemove(){const e=Object(i.v)(...arguments);return e._methodName="FieldValue.arrayRemove",new P(e)}static increment(e){const t=Object(i.S)(e);return t._methodName="FieldValue.increment",new P(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const N={Firestore:m,GeoPoint:i.h,Timestamp:i.k,Blob:d,Transaction:y,WriteBatch:v,DocumentReference:w,DocumentSnapshot:I,Query:T,QueryDocumentSnapshot:k,QuerySnapshot:O,CollectionReference:x,FieldPath:R,FieldValue:P,setLogLevel:function(e){Object(i.gb)(e)},CACHE_SIZE_UNLIMITED:i.c};!function(e){var t;t=((e,t)=>new m(e,t,new p)),e.INTERNAL.registerComponent(new s.a("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},N))),e.registerVersion(a,c)}(r.a)},,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(33),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=Object(o.a)("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");t.a=function(e){var t=e.loading,n=void 0===t||t,o=e.color,u=void 0===o?"#000000":o,l=e.speedMultiplier,h=void 0===l?1:l,d=e.cssOverride,f=void 0===d?{}:d,p=e.height,m=void 0===p?15:p,g=e.width,y=void 0===g?5:g,v=e.radius,b=void 0===v?2:v,w=e.margin,_=void 0===w?2:w,S=a(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),E=Object(i.b)(_).value+18,I=E/2+E/5.5,k=s({display:"inherit",position:"relative",fontSize:"0",top:E,left:E,width:"".concat(3*E,"px"),height:"".concat(3*E,"px")},f),T=function(e){return{position:"absolute",width:Object(i.a)(y),height:Object(i.a)(m),margin:Object(i.a)(_),backgroundColor:u,borderRadius:Object(i.a)(b),transition:"2s",animationFillMode:"both",animation:"".concat(c," ").concat(1.2/h,"s ").concat(.12*e,"s infinite ease-in-out")}},C=s(s({},T(1)),{top:"".concat(E,"px"),left:"0"}),O=s(s({},T(2)),{top:"".concat(I,"px"),left:"".concat(I,"px"),transform:"rotate(-45deg)"}),x=s(s({},T(3)),{top:"0",left:"".concat(E,"px"),transform:"rotate(90deg)"}),A=s(s({},T(4)),{top:"".concat(-1*I,"px"),left:"".concat(I,"px"),transform:"rotate(45deg)"}),R=s(s({},T(5)),{top:"".concat(-1*E,"px"),left:"0"}),P=s(s({},T(6)),{top:"".concat(-1*I,"px"),left:"".concat(-1*I,"px"),transform:"rotate(-45deg)"}),N=s(s({},T(7)),{top:"0",left:"".concat(-1*E,"px"),transform:"rotate(90deg)"}),D=s(s({},T(8)),{top:"".concat(I,"px"),left:"".concat(-1*I,"px"),transform:"rotate(45deg)"});return n?r.createElement("span",s({style:k},S),r.createElement("span",{style:C}),r.createElement("span",{style:O}),r.createElement("span",{style:x}),r.createElement("span",{style:A}),r.createElement("span",{style:R}),r.createElement("span",{style:P}),r.createElement("span",{style:N}),r.createElement("span",{style:D})):null}},function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(33),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=Object(o.a)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");t.a=function(e){var t=e.loading,n=void 0===t||t,o=e.color,u=void 0===o?"#000000":o,l=e.speedMultiplier,h=void 0===l?1:l,d=e.cssOverride,f=void 0===d?{}:d,p=e.size,m=void 0===p?35:p,g=a(e,["loading","color","speedMultiplier","cssOverride","size"]),y=s({background:"transparent !important",width:Object(i.a)(m),height:Object(i.a)(m),borderRadius:"100%",border:"2px solid",borderTopColor:u,borderBottomColor:"transparent",borderLeftColor:u,borderRightColor:u,display:"inline-block",animation:"".concat(c," ").concat(.75/h,"s 0s infinite linear"),animationFillMode:"both"},f);return n?r.createElement("span",s({style:y},g)):null}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(1);function s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r};var c={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}function l(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?i({},e):e;return l(e)&&l(t)&&Object.keys(t).forEach(i=>{"__proto__"!==i&&(l(t[i])&&i in e&&l(e[i])?r[i]=h(e[i],t[i],n):n.clone?r[i]=l(t[i])?function e(t){if(!l(t))return t;const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}(t[i]):t[i]:r[i]=t[i])}),r}const d=["values","unit","step"],f=e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>i({},e,{[t.key]:t.val}),{})};var p={borderRadius:4};var m=function(e,t){return t?h(e,t,{clone:!1}):e};const g={xs:0,sm:600,md:900,lg:1200,xl:1536},y={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(g[e],"px)")};function v(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||y;return t.reduce((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r),{})}if("object"===typeof t){const e=r.breakpoints||y;return Object.keys(t).reduce((r,i)=>{if(-1!==Object.keys(e.values||g).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r},{})}return n(t)}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>{return t[e.up(n)]={},t},{}))||{}}function w(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function _(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function S(e){if("string"!==typeof e)throw new Error(_(7));return e.charAt(0).toUpperCase()+e.slice(1)}function E(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function I(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:E(e,n)||i,t&&(r=t(r,i,e)),r}var k=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=E(e.theme,r)||{};return v(e,o,e=>{let r=I(s,i,e);return e===r&&"string"===typeof e&&(r=I(s,i,"".concat(t).concat("default"===e?"":S(e)),e)),!1===n?r:{[n]:r}})};return o.propTypes={},o.filterProps=[t],o};const T={m:"margin",p:"padding"},C={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},x=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!O[e])return[e];e=O[e]}const[t,n]=e.split(""),r=T[t],i=C[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),A=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],R=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],P=[...A,...R];function N(e,t,n,r){var i;const o=null!=(i=E(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>void 0}function D(e){return N(e,"spacing",8)}function L(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function M(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=L(t,n),e),{})}(x(n),r);return v(e,e[n],i)}function j(e,t){const n=D(e.theme);return Object.keys(e).map(r=>M(e,t,r,n)).reduce(m,{})}function F(e){return j(e,A)}function U(e){return j(e,R)}function V(e){return j(e,P)}F.propTypes={},F.filterProps=A,U.propTypes={},U.filterProps=R,V.propTypes={},V.filterProps=P;var z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((t,n)=>r[n]?m(t,r[n](e)):t,{});return i.propTypes={},i.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),i};function B(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function q(e,t){return k({prop:e,themeKey:"borders",transform:t})}const W=q("border",B),H=q("borderTop",B),K=q("borderRight",B),G=q("borderBottom",B),Q=q("borderLeft",B),Y=q("borderColor"),$=q("borderTopColor"),J=q("borderRightColor"),X=q("borderBottomColor"),Z=q("borderLeftColor"),ee=q("outline",B),te=q("outlineColor"),ne=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=N(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:L(t,e)});return v(e,e.borderRadius,n)}return null};ne.propTypes={},ne.filterProps=["borderRadius"];z(W,H,K,G,Q,Y,$,J,X,Z,ne,ee,te);const re=e=>{if(void 0!==e.gap&&null!==e.gap){const t=N(e.theme,"spacing",8),n=e=>({gap:L(t,e)});return v(e,e.gap,n)}return null};re.propTypes={},re.filterProps=["gap"];const ie=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=N(e.theme,"spacing",8),n=e=>({columnGap:L(t,e)});return v(e,e.columnGap,n)}return null};ie.propTypes={},ie.filterProps=["columnGap"];const oe=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=N(e.theme,"spacing",8),n=e=>({rowGap:L(t,e)});return v(e,e.rowGap,n)}return null};oe.propTypes={},oe.filterProps=["rowGap"];z(re,ie,oe,k({prop:"gridColumn"}),k({prop:"gridRow"}),k({prop:"gridAutoFlow"}),k({prop:"gridAutoColumns"}),k({prop:"gridAutoRows"}),k({prop:"gridTemplateColumns"}),k({prop:"gridTemplateRows"}),k({prop:"gridTemplateAreas"}),k({prop:"gridArea"}));function se(e,t){return"grey"===t?t:e}z(k({prop:"color",themeKey:"palette",transform:se}),k({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:se}),k({prop:"backgroundColor",themeKey:"palette",transform:se}));function ae(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const ce=k({prop:"width",transform:ae}),ue=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||g[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:ae(t)}};return v(e,e.maxWidth,t)}return null};ue.filterProps=["maxWidth"];const le=k({prop:"minWidth",transform:ae}),he=k({prop:"height",transform:ae}),de=k({prop:"maxHeight",transform:ae}),fe=k({prop:"minHeight",transform:ae});k({prop:"size",cssProperty:"width",transform:ae}),k({prop:"size",cssProperty:"height",transform:ae});z(ce,ue,le,he,de,fe,k({prop:"boxSizing"}));var pe={border:{themeKey:"borders",transform:B},borderTop:{themeKey:"borders",transform:B},borderRight:{themeKey:"borders",transform:B},borderBottom:{themeKey:"borders",transform:B},borderLeft:{themeKey:"borders",transform:B},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:B},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ne},color:{themeKey:"palette",transform:se},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:se},backgroundColor:{themeKey:"palette",transform:se},p:{style:U},pt:{style:U},pr:{style:U},pb:{style:U},pl:{style:U},px:{style:U},py:{style:U},padding:{style:U},paddingTop:{style:U},paddingRight:{style:U},paddingBottom:{style:U},paddingLeft:{style:U},paddingX:{style:U},paddingY:{style:U},paddingInline:{style:U},paddingInlineStart:{style:U},paddingInlineEnd:{style:U},paddingBlock:{style:U},paddingBlockStart:{style:U},paddingBlockEnd:{style:U},m:{style:F},mt:{style:F},mr:{style:F},mb:{style:F},ml:{style:F},mx:{style:F},my:{style:F},margin:{style:F},marginTop:{style:F},marginRight:{style:F},marginBottom:{style:F},marginLeft:{style:F},marginX:{style:F},marginY:{style:F},marginInline:{style:F},marginInlineStart:{style:F},marginInlineEnd:{style:F},marginBlock:{style:F},marginBlockStart:{style:F},marginBlockEnd:{style:F},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:re},rowGap:{style:oe},columnGap:{style:ie},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ae},maxWidth:{style:ue},minWidth:{transform:ae},height:{transform:ae},maxHeight:{transform:ae},minHeight:{transform:ae},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};const me=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:c,style:u}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const l=E(n,a)||{};return u?u(i):v(i,t,t=>{let n=I(l,c,t);return t===n&&"string"===typeof t&&(n=I(l,c,"".concat(e).concat("default"===t?"":S(t)),t)),!1===s?n:{[s]:n}})}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!=(r=o.unstable_sxConfig)?r:pe;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=b(o.breakpoints),a=Object.keys(i);let c=i;return Object.keys(r).forEach(n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])c=m(c,e(n,i,o,s));else{const e=v({theme:o},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),i=new Set(r);return t.every(e=>i.size===Object.keys(e).length)}(e,i)?c=m(c,e):c[n]=t({sx:i,theme:o})}else c=m(c,e(n,i,o,s))}),w(a,c)}return Array.isArray(i)?i.map(a):a(i)}}();me.filterProps=["sx"];var ge=me;const ye=["breakpoints","palette","spacing","shape"];var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:o,shape:s={}}=e,a=r(e,ye),c=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,s=r(e,d),a=f(t),c=Object.keys(a);function u(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-o/100).concat(n,")")}function h(e,r){const i=c.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[c[i]]?t[c[i]]:r)-o/100).concat(n,")")}return i({keys:c,values:a,up:u,down:l,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):u(e)},not:function(e){const t=c.indexOf(e);return 0===t?u(c[1]):t===c.length-1?l(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},s)}(t),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=D({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(o);let l=h({breakpoints:c,direction:"ltr",components:{},palette:i({mode:"light"},n),spacing:u,shape:i({},p,s)},a);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return(l=g.reduce((e,t)=>h(e,t),l)).unstable_sxConfig=i({},pe,null==a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return ge({sx:e,theme:this})},l};var be=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(we){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),we="-ms-",_e="-moz-",Se="-webkit-",Ee="comm",Ie="rule",ke="decl",Te="@import",Ce="@keyframes",Oe="@layer",xe=Math.abs,Ae=String.fromCharCode,Re=Object.assign;function Pe(e,t){return 45^je(e,0)?(((t<<2^je(e,0))<<2^je(e,1))<<2^je(e,2))<<2^je(e,3):0}function Ne(e){return e.trim()}function De(e,t){return(e=t.exec(e))?e[0]:e}function Le(e,t,n){return e.replace(t,n)}function Me(e,t){return e.indexOf(t)}function je(e,t){return 0|e.charCodeAt(t)}function Fe(e,t,n){return e.slice(t,n)}function Ue(e){return e.length}function Ve(e){return e.length}function ze(e,t){return t.push(e),e}function Be(e,t){return e.map(t).join("")}var qe=1,We=1,He=0,Ke=0,Ge=0,Qe="";function Ye(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:qe,column:We,length:s,return:""}}function $e(e,t){return Re(Ye("",null,null,"",null,null,0),e,{length:-e.length},t)}function Je(){return Ge=Ke<He?je(Qe,Ke++):0,We++,10===Ge&&(We=1,qe++),Ge}function Xe(){return je(Qe,Ke)}function Ze(){return Ke}function et(e,t){return Fe(Qe,e,t)}function tt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nt(e){return qe=We=1,He=Ue(Qe=e),Ke=0,[]}function rt(e){return Qe="",e}function it(e){return Ne(et(Ke-1,function e(t){for(;Je();)switch(Ge){case t:return Ke;case 34:case 39:34!==t&&39!==t&&e(Ge);break;case 40:41===t&&e(t);break;case 92:Je()}return Ke}(91===e?e+2:40===e?e+1:e)))}function ot(e){for(;(Ge=Xe())&&Ge<33;)Je();return tt(e)>2||tt(Ge)>3?"":" "}function st(e,t){for(;--t&&Je()&&!(Ge<48||Ge>102||Ge>57&&Ge<65||Ge>70&&Ge<97););return et(e,Ze()+(t<6&&32==Xe()&&32==Je()))}function at(e,t){for(;Je()&&e+Ge!==57&&(e+Ge!==84||47!==Xe()););return"/*"+et(t,Ke-1)+"*"+Ae(47===e?e:Je())}function ct(e){for(;!tt(Xe());)Je();return et(e,Ke)}function ut(e){return rt(function e(t,n,r,i,o,s,a,c,u){var l=0;var h=0;var d=a;var f=0;var p=0;var m=0;var g=1;var y=1;var v=1;var b=0;var w="";var _=o;var S=s;var E=i;var I=w;for(;y;)switch(m=b,b=Je()){case 40:if(108!=m&&58==je(I,d-1)){-1!=Me(I+=Le(it(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:I+=it(b);break;case 9:case 10:case 13:case 32:I+=ot(m);break;case 92:I+=st(Ze()-1,7);continue;case 47:switch(Xe()){case 42:case 47:ze(ht(at(Je(),Ze()),n,r),u);break;default:I+="/"}break;case 123*g:c[l++]=Ue(I)*v;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+h:-1==v&&(I=Le(I,/\f/g,"")),p>0&&Ue(I)-d&&ze(p>32?dt(I+";",i,r,d-1):dt(Le(I," ","")+";",i,r,d-2),u);break;case 59:I+=";";default:if(ze(E=lt(I,n,r,l,h,o,c,w,_=[],S=[],d),s),123===b)if(0===h)e(I,n,E,E,_,s,d,c,S);else switch(99===f&&110===je(I,3)?100:f){case 100:case 108:case 109:case 115:e(t,E,E,i&&ze(lt(t,E,E,0,0,o,c,w,o,_=[],d),S),o,S,d,c,i?_:S);break;default:e(I,E,E,E,[""],S,0,c,S)}}l=h=p=0,g=v=1,w=I="",d=a;break;case 58:d=1+Ue(I),p=m;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==(Ge=Ke>0?je(Qe,--Ke):0,We--,10===Ge&&(We=1,qe--),Ge))continue;switch(I+=Ae(b),b*g){case 38:v=h>0?1:(I+="\f",-1);break;case 44:c[l++]=(Ue(I)-1)*v,v=1;break;case 64:45===Xe()&&(I+=it(Je())),f=Xe(),h=d=Ue(w=I+=ct(Ze())),b++;break;case 45:45===m&&2==Ue(I)&&(g=0)}}return s}("",null,null,null,[""],e=nt(e),0,[0],e))}function lt(e,t,n,r,i,o,s,a,c,u,l){for(var h=i-1,d=0===i?o:[""],f=Ve(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=Fe(e,h+1,h=xe(m=s[p])),b=e;y<f;++y)(b=Ne(m>0?d[y]+" "+v:Le(v,/&\f/g,d[y])))&&(c[g++]=b);return Ye(e,t,n,0===i?Ie:a,c,u,l)}function ht(e,t,n){return Ye(e,t,n,Ee,Ae(Ge),Fe(e,2,-2),0)}function dt(e,t,n,r){return Ye(e,t,n,ke,Fe(e,0,r),Fe(e,r+1,-1),r)}function ft(e,t){for(var n="",r=Ve(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function pt(e,t,n,r){switch(e.type){case Oe:if(e.children.length)break;case Te:case ke:return e.return=e.return||e.value;case Ee:return"";case Ce:return e.return=e.value+"{"+ft(e.children,r)+"}";case Ie:e.value=e.props.join(",")}return Ue(n=ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function mt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var gt=function(e,t,n){for(var r=0,i=0;r=i,i=Xe(),38===r&&12===i&&(t[n]=1),!tt(i);)Je();return et(e,Ke)},yt=function(e,t){return rt(function(e,t){var n=-1,r=44;do{switch(tt(r)){case 0:38===r&&12===Xe()&&(t[n]=1),e[n]+=gt(Ke-1,t,n);break;case 2:e[n]+=it(r);break;case 4:if(44===r){e[++n]=58===Xe()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ae(r)}}while(r=Je());return e}(nt(e),t))},vt=new WeakMap,bt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vt.get(n))&&!r){vt.set(e,!0);for(var i=[],o=yt(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var u=0;u<s.length;u++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},wt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};var _t=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ke:e.return=function e(t,n){switch(Pe(t,n)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+_e+t+we+t+t;case 6828:case 4268:return Se+t+we+t+t;case 6165:return Se+t+we+"flex-"+t+t;case 5187:return Se+t+Le(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+we+"flex-$1$2")+t;case 5443:return Se+t+we+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Se+t+we+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+we+Le(t,"shrink","negative")+t;case 5292:return Se+t+we+Le(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+Le(t,"-grow","")+Se+t+we+Le(t,"grow","positive")+t;case 4554:return Se+Le(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+we+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ue(t)-1-n>6)switch(je(t,n+1)){case 109:if(45!==je(t,n+4))break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+_e+(108==je(t,n+3)?"$3":"$2-$3"))+t;case 115:return~Me(t,"stretch")?e(Le(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==je(t,n+1))break;case 6444:switch(je(t,Ue(t)-3-(~Me(t,"!important")&&10))){case 107:return Le(t,":",":"+Se)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(45===je(t,14)?"inline-":"")+"box$3$1"+Se+"$2$3$1"+we+"$2box$3")+t}break;case 5936:switch(je(t,n+11)){case 114:return Se+t+we+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+we+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+we+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+we+t+t}return t}(e.value,e.length);break;case Ce:return ft([$e(e,{value:Le(e.value,"@","@"+Se)})],r);case Ie:if(e.length)return Be(e.props,function(t){switch(De(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ft([$e(e,{props:[Le(t,/:(read-\w+)/,":"+_e+"$1")]})],r);case"::placeholder":return ft([$e(e,{props:[Le(t,/:(plac\w+)/,":"+Se+"input-$1")]}),$e(e,{props:[Le(t,/:(plac\w+)/,":"+_e+"$1")]}),$e(e,{props:[Le(t,/:(plac\w+)/,we+"input-$1")]})],r)}return""})}}],St=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r=e.stylisPlugins||_t;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var c,u,l=[pt,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=Ve(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([bt,wt].concat(r,l));o=function(e,t,n,r){c=n,ft(ut(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new be({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(a),d};n(64);function Et(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}var It=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},kt=function(e,t,n){It(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var Tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ct=/[A-Z]|^ms/g,Ot=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xt=function(e){return 45===e.charCodeAt(1)},At=function(e){return null!=e&&"boolean"!==typeof e},Rt=mt(function(e){return xt(e)?e:e.replace(Ct,"-$&").toLowerCase()}),Pt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ot,function(e,t,n){return Dt={name:t,styles:n,next:Dt},t})}return 1===Tt[e]||xt(e)||"number"!==typeof t||0===t?t:t+"px"};function Nt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Dt={name:n.name,styles:n.styles,next:Dt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Dt={name:r.name,styles:r.styles,next:Dt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nt(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":At(s)&&(r+=Rt(o)+":"+Pt(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Nt(e,t,s);switch(o){case"animation":case"animationName":r+=Rt(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)At(s[c])&&(r+=Rt(o)+":"+Pt(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Dt,o=n(e);return Dt=i,Nt(e,t,o)}break;case"string":}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Dt,Lt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Mt=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Dt=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Nt(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Nt(n,t,e[s]),r&&(i+=o[s]);Lt.lastIndex=0;for(var a,c="";null!==(a=Lt.exec(i));)c+="-"+a[1];return{name:function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c,styles:i,next:Dt}},jt=!!o.useInsertionEffect&&o.useInsertionEffect,Ft=jt||function(e){return e()},Ut=(jt||o.useLayoutEffect,o.createContext("undefined"!==typeof HTMLElement?St({key:"css"}):null));Ut.Provider;var Vt=function(e){return Object(o.forwardRef)(function(t,n){var r=Object(o.useContext)(Ut);return e(t,r,n)})};var zt=o.createContext({});var Bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=o.useContext(zt);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n};const qt=ve();var Wt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return Bt(e)};function Ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Kt(e){if(e.type)return e;if("#"===e.charAt(0))return Kt(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(_(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(_(10,r))}else i=i.split(",");return{type:n,values:i=i.map(e=>parseFloat(e)),colorSpace:r}}function Gt(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Qt(e){let t="hsl"===(e=Kt(e)).type||"hsla"===e.type?Kt(function(e){e=Kt(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),Gt({type:a,values:c})}(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yt(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gt(e)}function $t(e,t){if(e=Kt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gt(e)}var Jt={black:"#000",white:"#fff"};var Xt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var Zt={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var en={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var tn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var nn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var rn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var on={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const sn=["mode","contrastThreshold","tonalOffset"],an={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jt.white,default:Jt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cn={text:{primary:Jt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function un(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$t(e.main,i):"dark"===t&&(e.dark=Yt(e.main,o)))}function ln(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:o=.2}=e,s=r(e,sn),a=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[200],light:nn[50],dark:nn[400]}:{main:nn[700],light:nn[400],dark:nn[800]}}(t),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zt[200],light:Zt[50],dark:Zt[400]}:{main:Zt[500],light:Zt[300],dark:Zt[700]}}(t),u=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[500],light:en[300],dark:en[700]}:{main:en[700],light:en[400],dark:en[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[400],light:rn[300],dark:rn[700]}:{main:rn[700],light:rn[500],dark:rn[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[800],light:on[500],dark:on[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[400],light:tn[300],dark:tn[700]}:{main:"#ed6c02",light:tn[500],dark:tn[900]}}(t);function p(e){return function(e,t){const n=Qt(e),r=Qt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,cn.text.primary)>=n?cn.text.primary:an.text.primary}const m=e=>{let{color:t,name:n,mainShade:r=500,lightShade:s=300,darkShade:a=700}=e;if(!(t=i({},t)).main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error(_(11,n?" (".concat(n,")"):"",r));if("string"!==typeof t.main)throw new Error(_(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return un(t,"light",s,o),un(t,"dark",a,o),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:cn,light:an};return h(i({common:i({},Jt),mode:t,primary:m({color:a,name:"primary"}),secondary:m({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:u,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:d,name:"success"}),grey:Xt,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:o},g[t]),s)}const hn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dn(e){return Math.round(1e5*e)/1e5}const fn={textTransform:"uppercase"},pn='"Roboto", "Helvetica", "Arial", sans-serif';function mn(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=pn,fontSize:s=14,fontWeightLight:a=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:l=700,htmlFontSize:d=16,allVariants:f,pxToRem:p}=n,m=r(n,hn);const g=s/14,y=p||(e=>"".concat(e/d*g,"rem")),v=(e,t,n,r,s)=>i({fontFamily:o,fontWeight:e,fontSize:y(t),lineHeight:n},o===pn?{letterSpacing:"".concat(dn(r/t),"em")}:{},s,f),b={h1:v(a,96,1.167,-1.5),h2:v(a,60,1.2,-.5),h3:v(c,48,1.167,0),h4:v(c,34,1.235,.25),h5:v(c,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(c,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(c,16,1.5,.15),body2:v(c,14,1.43,.15),button:v(u,14,1.75,.4,fn),caption:v(c,12,1.66,.4),overline:v(c,12,2.66,1,fn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return h(i({htmlFontSize:d,pxToRem:y,fontFamily:o,fontSize:s,fontWeightLight:a,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:l},b),m,{clone:!1})}const gn=.2,yn=.14,vn=.12;function bn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(gn,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(yn,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(vn,")")].join(",")}var wn=["none",bn(0,2,1,-1,0,1,1,0,0,1,3,0),bn(0,3,1,-2,0,2,2,0,0,1,5,0),bn(0,3,3,-2,0,3,4,0,0,1,8,0),bn(0,2,4,-1,0,4,5,0,0,1,10,0),bn(0,3,5,-1,0,5,8,0,0,1,14,0),bn(0,3,5,-1,0,6,10,0,0,1,18,0),bn(0,4,5,-2,0,7,10,1,0,2,16,1),bn(0,5,5,-3,0,8,10,1,0,3,14,2),bn(0,5,6,-3,0,9,12,1,0,3,16,2),bn(0,6,6,-3,0,10,14,1,0,4,18,3),bn(0,6,7,-4,0,11,15,1,0,4,20,3),bn(0,7,8,-4,0,12,17,2,0,5,22,4),bn(0,7,8,-4,0,13,19,2,0,5,24,4),bn(0,7,9,-4,0,14,21,2,0,5,26,4),bn(0,8,9,-5,0,15,22,2,0,6,28,5),bn(0,8,10,-5,0,16,24,2,0,6,30,5),bn(0,8,11,-5,0,17,26,2,0,6,32,5),bn(0,9,11,-5,0,18,28,2,0,7,34,6),bn(0,9,12,-6,0,19,29,2,0,7,36,6),bn(0,10,13,-6,0,20,31,3,0,8,38,7),bn(0,10,13,-6,0,21,33,3,0,8,40,7),bn(0,10,14,-6,0,22,35,3,0,8,42,7),bn(0,11,14,-7,0,23,36,3,0,9,44,8),bn(0,11,15,-7,0,24,38,3,0,9,46,8)];const _n=["duration","easing","delay"],Sn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},En={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function In(e){return"".concat(Math.round(e),"ms")}function kn(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Tn(e){const t=i({},Sn,e.easing),n=i({},En,e.duration);return i({getAutoHeightDuration:kn,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=i;r(i,_n);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:In(o)," ").concat(s," ").concat("string"===typeof a?a:In(a))).join(",")}},e,{easing:t,duration:n})}var Cn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const On=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:o={},typography:s={}}=e,a=r(e,On);if(e.vars)throw new Error(_(18));const c=ln(n),u=ve(e);let l=h(u,{mixins:(d=u.breakpoints,f=t,i({toolbar:{minHeight:56,[d.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[d.up("sm")]:{minHeight:64}}},f)),palette:c,shadows:wn.slice(),typography:mn(c,s),transitions:Tn(o),zIndex:i({},Cn)});var d,f;l=h(l,a);for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return(l=m.reduce((e,t)=>h(e,t),l)).unstable_sxConfig=i({},pe,null==a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return ge({sx:e,theme:this})},l}var An=xn(),Rn="$$material";var Pn=S;let Nn=0;const Dn=o["useId".toString()];var Ln=function(e){if(void 0!==Dn){const t=Dn();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect(()=>{null==t&&n("mui-".concat(Nn+=1))},[t]),r}(e)};var Mn=function(e){let{controlled:t,default:n,name:r,state:i="value"}=e;const{current:s}=o.useRef(void 0!==t),[a,c]=o.useState(n);return[s?t:a,o.useCallback(e=>{s||c(e)},[])]};let jn,Fn=!0,Un=!1;const Vn={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zn(e){e.metaKey||e.altKey||e.ctrlKey||(Fn=!0)}function Bn(){Fn=!1}function qn(){"hidden"===this.visibilityState&&Un&&(Fn=!0)}function Wn(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Fn||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Vn[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Hn=function(){const e=o.useCallback(e=>{null!=e&&function(e){e.addEventListener("keydown",zn,!0),e.addEventListener("mousedown",Bn,!0),e.addEventListener("pointerdown",Bn,!0),e.addEventListener("touchstart",Bn,!0),e.addEventListener("visibilitychange",qn,!0)}(e.ownerDocument)},[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Wn(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Un=!0,window.clearTimeout(jn),jn=window.setTimeout(()=>{Un=!1},100),t.current=!1,!0)},ref:e}};var Kn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo(()=>t.every(e=>null==e)?null:e=>{t.forEach(t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)})},t)};function Gn(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function e(t,n){const r=i({},n);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=i({},t[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=t[o]||{},a=n[o];r[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(r[o]=i({},a),Object.keys(s).forEach(t=>{r[o][t]=e(s[t],a[t])})):r[o]=a:r[o]=s}else void 0===r[o]&&(r[o]=t[o])}),r}(t.components[n].defaultProps,r):r}function Qn(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Wt(r);return i&&(o=o[i]||o),Gn({theme:o,name:n,props:t})}({props:t,name:n,defaultTheme:An,themeId:Rn})}var Yn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$n=mt(function(e){return Yn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),Jn=function(e){return"theme"!==e},Xn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?$n:Jn},Zn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},er=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return It(t,n,r),Ft(function(){return kt(t,n,r)}),null},tr=(n(94),function e(t,n){var r,s,a=t.__emotion_real===t,c=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,s=n.target);var u=Zn(t,n,a),l=u||Xn(c),h=!l("as");return function(){var d=arguments,f=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&f.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],d[0][m])}var g=Vt(function(e,t,n){var r=h&&e.as||c,i="",a=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=o.useContext(zt)}"string"===typeof e.className?i=Et(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var m=Mt(f.concat(a),t.registered,d);i+=t.key+"-"+m.name,void 0!==s&&(i+=" "+s);var g=h&&void 0===u?Xn(r):l,y={};for(var v in e)h&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=i,y.ref=n,o.createElement(o.Fragment,null,o.createElement(er,{cache:t,serialized:m,isStringTag:"string"===typeof r}),o.createElement(r,y))});return g.displayName=void 0!==r?r:"Styled("+("string"===typeof c?c:c.displayName||c.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=c,g.__emotion_styles=f,g.__emotion_forwardProp=u,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(t,r){return e(t,i({},n,r,{shouldForwardProp:Zn(g,r,!0)})).apply(void 0,f)},g}}.bind());["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){tr[e]=tr(e)});const nr=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},rr=["variant"];function ir(e){return 0===e.length}function or(e){const{variant:t}=e,n=r(e,rr);let i=t||"";return Object.keys(n).sort().forEach(t=>{i+="color"===t?ir(i)?e[t]:S(e[t]):"".concat(ir(i)?t:S(t)).concat(S(e[t].toString()))}),i}const sr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const ar=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,cr=e=>{const t={};return e&&e.forEach(e=>{const n=or(e.props);t[n]=e.style}),t},ur=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),cr(n)},lr=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(n=>{let o=!0;Object.keys(n.props).forEach(t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)}),o&&i.push(t[or(n.props)])}),i},hr=(e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return lr(e,t,o)};function dr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const fr=ve(),pr=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function mr(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function gr(e){return e?(t,n)=>n[e]:null}const yr=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:o}=e;const s=t(i({},n,{theme:mr(i({},n,{defaultTheme:r,themeId:o}))}));let a;if(s&&s.variants&&(a=s.variants,delete s.variants),a){return[s,...lr(n,cr(a),a)]}return s};const vr=dr;var br=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=fr,rootShouldForwardProp:o=dr,slotShouldForwardProp:s=dr}=e,a=e=>ge(i({},e,{theme:mr(i({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nr(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:f,skipSx:p,overridesResolver:m=gr(pr(d))}=c,g=r(c,sr),y=void 0!==f?f:d&&"Root"!==d&&"root"!==d||!1,v=p||!1;let b=dr;"Root"===d||"root"===d?b=o:d?b=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);const w=function(e,t){return tr(e,t)}(e,i({shouldForwardProp:b,label:void 0},g)),_=function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];const d=s?s.map(e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>yr({styledArg:e,props:r,defaultTheme:n,themeId:t});if(l(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=(n=>{let r=e;return lr(n,cr(t),t).forEach(e=>{r=h(r,e)}),r})),n}return e}):[];let f=r;if(l(r)){let e;r&&r.variants&&(e=r.variants,delete f.variants,f=(t=>{let n=r;return lr(t,cr(e),e).forEach(e=>{n=h(n,e)}),n}))}else"function"===typeof r&&r.__emotion_real!==r&&(f=(e=>yr({styledArg:r,props:e,defaultTheme:n,themeId:t})));u&&m&&d.push(e=>{const r=mr(i({},e,{defaultTheme:n,themeId:t})),o=ar(u,r);if(o){const t={};return Object.entries(o).forEach(n=>{let[o,s]=n;t[o]="function"===typeof s?s(i({},e,{theme:r})):s}),m(e,t)}return null}),u&&!y&&d.push(e=>{const r=mr(i({},e,{defaultTheme:n,themeId:t}));return hr(e,ur(u,r),r,u)}),v||d.push(a);const p=d.length-s.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");(f=[...r,...e]).raw=[...r.raw,...e]}const g=w(f,...d);return e.muiName&&(g.muiName=e.muiName),g};return w.withConfig&&(_.withConfig=w.withConfig),_}}({themeId:Rn,defaultTheme:An,rootShouldForwardProp:e=>dr(e)&&"classes"!==e});const wr=e=>e;var _r=(()=>{let e=wr;return{configure(t){e=t},generate:t=>e(t),reset(){e=wr}}})();const Sr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Er(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=Sr[t];return r?"".concat(n,"-").concat(r):"".concat(_r.generate(e),"-").concat(t)}function Ir(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=Er(e,t,n)}),r}function kr(e){return Er("MuiSvgIcon",e)}Ir("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Tr=n(11);const Cr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Or=br("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Pn(n.color))],t["fontSize".concat(Pn(n.fontSize))]]}})(e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,c,u,l,h,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(c=t.typography)||null==(u=c.pxToRem)?void 0:u.call(c,24))||"1.5rem",large:(null==(l=t.typography)||null==(h=l.pxToRem)?void 0:h.call(l,35))||"2.1875rem"}[n.fontSize],color:null!=(d=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?d:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}}),xr=o.forwardRef(function(e,t){const n=Qn({props:e,name:"MuiSvgIcon"}),{children:s,className:c,color:l="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:m,viewBox:g="0 0 24 24"}=n,y=r(n,Cr),v=o.isValidElement(s)&&"svg"===s.type,b=i({},n,{color:l,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g,hasSvgAsChild:v}),w={};p||(w.viewBox=g);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return u({root:["root","inherit"!==t&&"color".concat(Pn(t)),"fontSize".concat(Pn(n))]},kr,r)})(b);return Object(Tr.jsxs)(Or,i({as:h,className:a(_.root,c),focusable:"false",color:f,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},w,y,v&&s.props,{ownerState:b,children:[v?s.props.children:s,m?Object(Tr.jsx)("title",{children:m}):null]}))});xr.muiName="SvgIcon";var Ar=xr;function Rr(e,t){function n(n,r){return Object(Tr.jsx)(Ar,i({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=Ar.muiName,o.memo(o.forwardRef(n))}var Pr=Rr(Object(Tr.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Nr=Rr(Object(Tr.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Dr(e){return Er("MuiRating",e)}var Lr=Ir("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);const Mr=["value"],jr=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Fr(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const Ur=br("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Lr.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(Pn(n.size))],n.readOnly&&t.readOnly]}})(e=>{let{theme:t,ownerState:n}=e;return i({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",["&.".concat(Lr.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(Lr.focusVisible," .").concat(Lr.iconActive)]:{outline:"1px solid #999"},["& .".concat(Lr.visuallyHidden)]:c},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})}),Vr=br("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})(e=>{let{ownerState:t}=e;return i({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})}),zr=br("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(e=>{let{theme:t,ownerState:n}=e;return i({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})}),Br=br("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>vr(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})(e=>{let{iconActive:t}=e;return i({position:"relative"},t&&{transform:"scale(1.2)"})});function qr(e){const t=r(e,Mr);return Object(Tr.jsx)("span",i({},t))}function Wr(e){const{classes:t,disabled:n,emptyIcon:r,focus:s,getLabelText:c,highlightSelectedOnly:u,hover:l,icon:h,IconContainerComponent:d,isActive:f,itemValue:p,labelProps:m,name:g,onBlur:y,onChange:v,onClick:b,onFocus:w,readOnly:_,ownerState:S,ratingValue:E,ratingValueRounded:I}=e,k=u?p===E:p<=E,T=p<=l,C=p<=s,O=p===I,x=Ln(),A=Object(Tr.jsx)(zr,{as:d,value:p,className:a(t.icon,k?t.iconFilled:t.iconEmpty,T&&t.iconHover,C&&t.iconFocus,f&&t.iconActive),ownerState:i({},S,{iconEmpty:!k,iconFilled:k,iconHover:T,iconFocus:C,iconActive:f}),children:r&&!k?r:h});return _?Object(Tr.jsx)("span",i({},m,{children:A})):Object(Tr.jsxs)(o.Fragment,{children:[Object(Tr.jsxs)(Vr,i({ownerState:i({},S,{emptyValueFocused:void 0}),htmlFor:x},m,{children:[A,Object(Tr.jsx)("span",{className:t.visuallyHidden,children:c(p)})]})),Object(Tr.jsx)("input",{className:t.visuallyHidden,onFocus:w,onBlur:y,onChange:v,onClick:b,disabled:n,value:p,id:x,type:"radio",name:g,checked:O})]})}const Hr=Object(Tr.jsx)(Pr,{fontSize:"inherit"}),Kr=Object(Tr.jsx)(Nr,{fontSize:"inherit"});function Gr(e){return"".concat(e," Star").concat(1!==e?"s":"")}const Qr=o.forwardRef(function(e,t){const n=Qn({name:"MuiRating",props:e}),{className:s,defaultValue:c=null,disabled:l=!1,emptyIcon:h=Kr,emptyLabelText:d="Empty",getLabelText:f=Gr,highlightSelectedOnly:p=!1,icon:m=Hr,IconContainerComponent:g=qr,max:y=5,name:v,onChange:b,onChangeActive:w,onMouseLeave:_,onMouseMove:S,precision:E=1,readOnly:I=!1,size:k="medium",value:T}=n,C=r(n,jr),O=Ln(v),[x,A]=Mn({controlled:T,default:c,name:"Rating"}),R=Fr(x,E),P=function(){const e=Wt(An);return e[Rn]||e}(),[{hover:N,focus:D},L]=o.useState({hover:-1,focus:-1});let M=R;-1!==N&&(M=N),-1!==D&&(M=D);const{isFocusVisibleRef:j,onBlur:F,onFocus:U,ref:V}=Hn(),[z,B]=o.useState(!1),q=o.useRef(),W=Kn(V,q,t),H=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==N&&(t=N),A(t),b&&b(e,t)},K=e=>{0===e.clientX&&0===e.clientY||(L({hover:-1,focus:-1}),A(null),b&&parseFloat(e.target.value)===R&&b(e,null))},G=e=>{U(e),!0===j.current&&B(!0);const t=parseFloat(e.target.value);L(e=>({hover:e.hover,focus:t}))},Q=e=>{if(-1!==N)return;F(e),!1===j.current&&B(!1);L(e=>({hover:e.hover,focus:-1}))},[Y,$]=o.useState(!1),J=i({},n,{defaultValue:c,disabled:l,emptyIcon:h,emptyLabelText:d,emptyValueFocused:Y,focusVisible:z,getLabelText:f,icon:m,IconContainerComponent:g,max:y,precision:E,readOnly:I,size:k}),X=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return u({root:["root","size".concat(Pn(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},Dr,t)})(J);return Object(Tr.jsxs)(Ur,i({ref:W,onMouseMove:e=>{S&&S(e);const t=q.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o="rtl"===P.direction?(n-e.clientX)/i:(e.clientX-r)/i;let s=Fr(y*o+E/2,E);s=function(e,t,n){return e<t?t:e>n?n:e}(s,E,y),L(e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s}),B(!1),w&&N!==s&&w(e,s)},onMouseLeave:e=>{_&&_(e);L({hover:-1,focus:-1}),w&&-1!==N&&w(e,-1)},className:a(X.root,s,I&&"MuiRating-readOnly"),ownerState:J,role:I?"img":null,"aria-label":I?f(M):null},C,{children:[Array.from(new Array(y)).map((e,t)=>{const n=t+1,r={classes:X,disabled:l,emptyIcon:h,focus:D,getLabelText:f,highlightSelectedOnly:p,hover:N,icon:m,IconContainerComponent:g,name:O,onBlur:Q,onChange:H,onClick:K,onFocus:G,ratingValue:M,ratingValueRounded:R,readOnly:I,ownerState:J},o=n===Math.ceil(M)&&(-1!==N||-1!==D);if(E<1){const e=Array.from(new Array(1/E));return Object(Tr.jsx)(Br,{className:a(X.decimal,o&&X.iconActive),ownerState:J,iconActive:o,children:e.map((t,o)=>{const s=Fr(n-1+(o+1)*E,E);return Object(Tr.jsx)(Wr,i({},r,{isActive:!1,itemValue:s,labelProps:{style:e.length-1===o?{}:{width:s===M?"".concat((o+1)*E*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),s)})},n)}return Object(Tr.jsx)(Wr,i({},r,{isActive:o,itemValue:n}),n)}),!I&&!l&&Object(Tr.jsxs)(Vr,{className:a(X.label,X.labelEmptyValue),ownerState:J,children:[Object(Tr.jsx)("input",{className:X.visuallyHidden,value:"",id:"".concat(O,"-empty"),type:"radio",name:O,checked:null==R,onFocus:()=>$(!0),onBlur:()=>$(!1),onChange:H}),Object(Tr.jsx)("span",{className:X.visuallyHidden,children:d})]})]}))});t.a=Qr},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"hasBrowserEnv",function(){return y}),n.d(r,"hasStandardBrowserWebWorkerEnv",function(){return w}),n.d(r,"hasStandardBrowserEnv",function(){return v});var i=n(4),o=n(34),s=n(21);function a(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function c(e,t){this._pairs=[],e&&Object(s.a)(e,this,t)}const u=c.prototype;u.append=function(e,t){this._pairs.push([e,t])},u.toString=function(e){const t=e?function(t){return e.call(this,t,a)}:a;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var l=c;function h(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function d(e,t,n){if(!t)return e;const r=n&&n.encode||h,o=n&&n.serialize;let s;if(s=o?o(t,n):i.a.isURLSearchParams(t)?t.toString():new l(t,n).toString(r)){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}var f=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){i.a.forEach(this.handlers,function(t){null!==t&&e(t)})}},p=n(10),m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:l,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const y="undefined"!==typeof window&&"undefined"!==typeof document,v=(b="undefined"!==typeof navigator&&navigator.product,y&&["ReactNative","NativeScript","NS"].indexOf(b)<0);var b;const w="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts;var _={...r,...g};var S=function(e){function t(e,n,r,o){let s=e[o++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),c=o>=e.length;return s=!s&&i.a.isArray(r)?r.length:s,c?(i.a.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a):(r[s]&&i.a.isObject(r[s])||(r[s]=[]),t(e,n,r[s],o)&&i.a.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)t[o=n[r]]=e[o];return t}(r[s])),!a)}if(i.a.isFormData(e)&&i.a.isFunction(e.entries)){const n={};return i.a.forEachEntry(e,(e,r)=>{t(function(e){return i.a.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const E={transitional:m,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=i.a.isObject(e);if(o&&i.a.isHTMLForm(e)&&(e=new FormData(e)),i.a.isFormData(e))return r&&r?JSON.stringify(S(e)):e;if(i.a.isArrayBuffer(e)||i.a.isBuffer(e)||i.a.isStream(e)||i.a.isFile(e)||i.a.isBlob(e))return e;if(i.a.isArrayBufferView(e))return e.buffer;if(i.a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Object(s.a)(e,new _.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _.isNode&&i.a.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=i.a.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Object(s.a)(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(i.a.isString(e))try{return(t||JSON.parse)(e),i.a.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||E.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&i.a.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw p.a.from(o,p.a.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_.classes.FormData,Blob:_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};i.a.forEach(["delete","get","head","post","put","patch"],e=>{E.headers[e]={}});var I=E;const k=i.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var T=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&k[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t};const C=Symbol("internals");function O(e){return e&&String(e).trim().toLowerCase()}function x(e){return!1===e||null==e?e:i.a.isArray(e)?e.map(x):String(e)}const A=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function R(e,t,n,r,o){return i.a.isFunction(r)?r.call(this,t,n):(o&&(t=n),i.a.isString(t)?i.a.isString(r)?-1!==t.indexOf(r):i.a.isRegExp(r)?r.test(t):void 0:void 0)}class P{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=O(t);if(!o)throw new Error("header name must be a non-empty string");const s=i.a.findKey(r,o);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=x(e))}const s=(e,t)=>i.a.forEach(e,(e,n)=>o(e,n,t));return i.a.isPlainObject(e)||e instanceof this.constructor?s(e,t):i.a.isString(e)&&(e=e.trim())&&!A(e)?s(T(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=O(e)){const n=i.a.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(i.a.isFunction(t))return t.call(this,e,n);if(i.a.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=O(e)){const n=i.a.findKey(this,e);return!(!n||void 0===this[n]||t&&!R(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=O(e)){const o=i.a.findKey(n,e);!o||t&&!R(0,n[o],o,t)||(delete n[o],r=!0)}}return i.a.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!R(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return i.a.forEach(this,(r,o)=>{const s=i.a.findKey(n,o);if(s)return t[s]=x(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=x(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return i.a.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&i.a.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[C]=this[C]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=O(e);t[r]||(!function(e,t){const n=i.a.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return i.a.isArray(e)?e.forEach(r):r(e),this}}P.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),i.a.reduceDescriptors(P.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),i.a.freezeMethods(P);var N=P;function D(e,t){const n=this||I,r=t||n,o=N.from(r.headers);let s=r.data;return i.a.forEach(e,function(e){s=e.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function L(e){return!(!e||!e.__CANCEL__)}function M(e,t,n){p.a.call(this,null==e?"canceled":e,p.a.ERR_CANCELED,t,n),this.name="CanceledError"}i.a.inherits(M,p.a,{__CANCEL__:!0});var j=M,F=n(35);var U=_.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const a=[e+"="+encodeURIComponent(t)];i.a.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.a.isString(r)&&a.push("path="+r),i.a.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function V(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var z=_.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=i.a.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};var B=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[s];i||(i=c),n[o]=a,r[o]=c;let l=s,h=0;for(;l!==o;)h+=n[l++],l%=e;if((o=(o+1)%e)===s&&(s=(s+1)%e),c-i<t)return;const d=u&&c-u;return d?Math.round(1e3*h/d):void 0}};function q(e,t){let n=0;const r=B(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,c=r(a);n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var W="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r=e.data;const o=N.from(e.headers).normalize();let s,a,{responseType:c,withXSRFToken:u}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(i.a.isFormData(r))if(_.hasStandardBrowserEnv||_.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(a=o.getContentType())){const[e,...t]=a?a.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let h=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const f=V(e.baseURL,e.url);function g(){if(!h)return;const r=N.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new p.a("Request failed with status code "+n.status,[p.a.ERR_BAD_REQUEST,p.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(function(e){t(e),l()},function(e){n(e),l()},{data:c&&"text"!==c&&"json"!==c?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}if(h.open(e.method.toUpperCase(),d(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new p.a("Request aborted",p.a.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new p.a("Network Error",p.a.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||m;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new p.a(t,r.clarifyTimeoutError?p.a.ETIMEDOUT:p.a.ECONNABORTED,e,h)),h=null},_.hasStandardBrowserEnv&&(u&&i.a.isFunction(u)&&(u=u(e)),u||!1!==u&&z(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&U.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in h&&i.a.forEach(o.toJSON(),function(e,t){h.setRequestHeader(t,e)}),i.a.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),c&&"json"!==c&&(h.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",q(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",q(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=(t=>{h&&(n(!t||t.type?new j(null,e,h):t),h.abort(),h=null)}),e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);y&&-1===_.protocols.indexOf(y)?n(new p.a("Unsupported protocol "+y+":",p.a.ERR_BAD_REQUEST,e)):h.send(r||null)})};const H={http:F.a,xhr:W};i.a.forEach(H,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const K=e=>"- ".concat(e),G=e=>i.a.isFunction(e)||null===e||!1===e;var Q={getAdapter:e=>{e=i.a.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(r=n=e[i],!G(n)&&void 0===(r=H[(t=String(n)).toLowerCase()]))throw new p.a("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(K).join("\n"):" "+K(e[0]):"as no adapter specified";throw new p.a("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:H};function Y(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new j(null,e)}function $(e){return Y(e),e.headers=N.from(e.headers),e.data=D.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Q.getAdapter(e.adapter||I.adapter)(e).then(function(t){return Y(e),t.data=D.call(e,e.transformResponse,t),t.headers=N.from(t.headers),t},function(t){return L(t)||(Y(e),t&&t.response&&(t.response.data=D.call(e,e.transformResponse,t.response),t.response.headers=N.from(t.response.headers))),Promise.reject(t)})}const J=e=>e instanceof N?e.toJSON():e;function X(e,t){t=t||{};const n={};function r(e,t,n){return i.a.isPlainObject(e)&&i.a.isPlainObject(t)?i.a.merge.call({caseless:n},e,t):i.a.isPlainObject(t)?i.a.merge({},t):i.a.isArray(t)?t.slice():t}function o(e,t,n){return i.a.isUndefined(t)?i.a.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!i.a.isUndefined(t))return r(void 0,t)}function a(e,t){return i.a.isUndefined(t)?i.a.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function c(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(e,t)=>o(J(e),J(t),!0)};return i.a.forEach(Object.keys(Object.assign({},e,t)),function(r){const s=u[r]||o,a=s(e[r],t[r],r);i.a.isUndefined(a)&&s!==c||(n[r]=a)}),n}const Z="1.6.5",ee={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ee[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const te={};ee.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Z+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new p.a(r(i," has been removed"+(t?" in "+t:"")),p.a.ERR_DEPRECATED);return t&&!te[i]&&(te[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var ne={assertOptions:function(e,t,n){if("object"!==typeof e)throw new p.a("options must be an object",p.a.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new p.a("option "+o+" must be "+n,p.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new p.a("Unknown option "+o,p.a.ERR_BAD_OPTION)}},validators:ee};const re=ne.validators;class ie{constructor(e){this.defaults=e,this.interceptors={request:new f,response:new f}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=X(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&ne.assertOptions(n,{silentJSONParsing:re.transitional(re.boolean),forcedJSONParsing:re.transitional(re.boolean),clarifyTimeoutError:re.transitional(re.boolean)},!1),null!=r&&(i.a.isFunction(r)?t.paramsSerializer={serialize:r}:ne.assertOptions(r,{encode:re.function,serialize:re.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&i.a.merge(o.common,o[t.method]);o&&i.a.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=N.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const u=[];let l;this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h,d=0;if(!c){const e=[$.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),h=e.length,l=Promise.resolve(t);d<h;)l=l.then(e[d++],e[d++]);return l}h=a.length;let f=t;for(d=0;d<h;){const e=a[d++],t=a[d++];try{f=e(f)}catch(p){t.call(this,p);break}}try{l=$.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=u.length;d<h;)l=l.then(u[d++],u[d++]);return l}getUri(e){return d(V((e=X(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}i.a.forEach(["delete","get","head","options"],function(e){ie.prototype[e]=function(t,n){return this.request(X(n||{},{method:e,url:t,data:(n||{}).data}))}}),i.a.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(X(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ie.prototype[e]=t(),ie.prototype[e+"Form"]=t(!0)});var oe=ie;class se{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=(e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r}),e(function(e,r,i){n.reason||(n.reason=new j(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new se(function(t){e=t}),cancel:e}}}var ae=se;const ce={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ce).forEach(e=>{let[t,n]=e;ce[n]=t});var ue=ce;const le=function e(t){const n=new oe(t),r=Object(o.a)(oe.prototype.request,n);return i.a.extend(r,oe.prototype,n,{allOwnKeys:!0}),i.a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(X(t,n))},r}(I);le.Axios=oe,le.CanceledError=j,le.CancelToken=ae,le.isCancel=L,le.VERSION=Z,le.toFormData=s.a,le.AxiosError=p.a,le.Cancel=le.CanceledError,le.all=function(e){return Promise.all(e)},le.spread=function(e){return function(t){return e.apply(null,t)}},le.isAxiosError=function(e){return i.a.isObject(e)&&!0===e.isAxiosError},le.mergeConfig=X,le.AxiosHeaders=N,le.formToJSON=(e=>S(i.a.isHTMLForm(e)?new FormData(e):e)),le.getAdapter=Q.getAdapter,le.HttpStatusCode=ue,le.default=le;t.a=le}]]);
//# sourceMappingURL=2.d540871e.chunk.js.map